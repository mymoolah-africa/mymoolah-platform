var Xo=Object.defineProperty;var Yo=(t,r,s)=>r in t?Xo(t,r,{enumerable:!0,configurable:!0,writable:!0,value:s}):t[r]=s;var Tr=(t,r,s)=>(Yo(t,typeof r!="symbol"?r+"":r,s),s);import{j as e,S as qa,P as et,O as Xa,C as Ya,D as Ga,a as Go,b as Zo,R as Qo,T as Ko,c as Jo,d as ei,V as ti,e as ri,I as si,f as ai,g as ni,h as oi,i as ii,k as xi,l as li,m as ci,n as di,o as Ar,u as ir,p as es,q as yt,r as Za,s as Qa,t as Ka,v as fi,w as Ja,x as ui,y as mi,z as ts,A as en,B as tn,E as hi,F as pi,G as gi,H as yi,J as bi,K as Ei,L as Ci,M as vi,N as Bi,Q as Fi}from"./ui-b47bfa95.js";import{a as rn,r as d,R as Ai,d as wi,g as ji,c as sn}from"./vendor-c54080c3.js";import{c as Di,a as _s,i as st,s as ms,b as at,d as Dt,e as ct,f as $s,g as ua,h as vt,j as Cr,k as Ls,l as an,m as ws,n as ki,o as Si,p as js,q as Mi,r as Ni,t as hs,u as ma,v as Pi,w as Ri,x as zi,y as nn,z as on,A as Os,B as Vs,C as Ti,D as Ii,E as Zt,F as xn,G as Wi}from"./utils-1ea005a7.js";(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))a(n);new MutationObserver(n=>{for(const o of n)if(o.type==="childList")for(const x of o.addedNodes)x.tagName==="LINK"&&x.rel==="modulepreload"&&a(x)}).observe(document,{childList:!0,subtree:!0});function s(n){const o={};return n.integrity&&(o.integrity=n.integrity),n.referrerPolicy&&(o.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?o.credentials="include":n.crossOrigin==="anonymous"?o.credentials="omit":o.credentials="same-origin",o}function a(n){if(n.ep)return;n.ep=!0;const o=s(n);fetch(n.href,o)}})();var ln,ha=rn;ln=ha.createRoot,ha.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function vr(){return vr=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},vr.apply(this,arguments)}var It;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(It||(It={}));const pa="popstate";function _i(t){t===void 0&&(t={});function r(a,n){let{pathname:o,search:x,hash:i}=a.location;return Ds("",{pathname:o,search:x,hash:i},n.state&&n.state.usr||null,n.state&&n.state.key||"default")}function s(a,n){return typeof n=="string"?n:dn(n)}return Li(r,s,null,t)}function Oe(t,r){if(t===!1||t===null||typeof t>"u")throw new Error(r)}function cn(t,r){if(!t){typeof console<"u"&&console.warn(r);try{throw new Error(r)}catch{}}}function $i(){return Math.random().toString(36).substr(2,8)}function ga(t,r){return{usr:t.state,key:t.key,idx:r}}function Ds(t,r,s,a){return s===void 0&&(s=null),vr({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof r=="string"?xr(r):r,{state:s,key:r&&r.key||a||$i()})}function dn(t){let{pathname:r="/",search:s="",hash:a=""}=t;return s&&s!=="?"&&(r+=s.charAt(0)==="?"?s:"?"+s),a&&a!=="#"&&(r+=a.charAt(0)==="#"?a:"#"+a),r}function xr(t){let r={};if(t){let s=t.indexOf("#");s>=0&&(r.hash=t.substr(s),t=t.substr(0,s));let a=t.indexOf("?");a>=0&&(r.search=t.substr(a),t=t.substr(0,a)),t&&(r.pathname=t)}return r}function Li(t,r,s,a){a===void 0&&(a={});let{window:n=document.defaultView,v5Compat:o=!1}=a,x=n.history,i=It.Pop,h=null,f=m();f==null&&(f=0,x.replaceState(vr({},x.state,{idx:f}),""));function m(){return(x.state||{idx:null}).idx}function l(){i=It.Pop;let u=m(),y=u==null?null:u-f;f=u,h&&h({action:i,location:g.location,delta:y})}function p(u,y){i=It.Push;let F=Ds(g.location,u,y);s&&s(F,u),f=m()+1;let j=ga(F,f),w=g.createHref(F);try{x.pushState(j,"",w)}catch(M){if(M instanceof DOMException&&M.name==="DataCloneError")throw M;n.location.assign(w)}o&&h&&h({action:i,location:g.location,delta:1})}function E(u,y){i=It.Replace;let F=Ds(g.location,u,y);s&&s(F,u),f=m();let j=ga(F,f),w=g.createHref(F);x.replaceState(j,"",w),o&&h&&h({action:i,location:g.location,delta:0})}function c(u){let y=n.location.origin!=="null"?n.location.origin:n.location.href,F=typeof u=="string"?u:dn(u);return F=F.replace(/ $/,"%20"),Oe(y,"No window.location.(origin|href) available to create URL for href: "+F),new URL(F,y)}let g={get action(){return i},get location(){return t(n,x)},listen(u){if(h)throw new Error("A history only accepts one active listener");return n.addEventListener(pa,l),h=u,()=>{n.removeEventListener(pa,l),h=null}},createHref(u){return r(n,u)},createURL:c,encodeLocation(u){let y=c(u);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:p,replace:E,go(u){return x.go(u)}};return g}var ya;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ya||(ya={}));function Oi(t,r,s){return s===void 0&&(s="/"),Vi(t,r,s,!1)}function Vi(t,r,s,a){let n=typeof r=="string"?xr(r):r,o=mn(n.pathname||"/",s);if(o==null)return null;let x=fn(t);Ui(x);let i=null;for(let h=0;i==null&&h<x.length;++h){let f=t0(o);i=Ji(x[h],f,a)}return i}function fn(t,r,s,a){r===void 0&&(r=[]),s===void 0&&(s=[]),a===void 0&&(a="");let n=(o,x,i)=>{let h={relativePath:i===void 0?o.path||"":i,caseSensitive:o.caseSensitive===!0,childrenIndex:x,route:o};h.relativePath.startsWith("/")&&(Oe(h.relativePath.startsWith(a),'Absolute route path "'+h.relativePath+'" nested under path '+('"'+a+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),h.relativePath=h.relativePath.slice(a.length));let f=Ut([a,h.relativePath]),m=s.concat(h);o.children&&o.children.length>0&&(Oe(o.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+f+'".')),fn(o.children,r,m,f)),!(o.path==null&&!o.index)&&r.push({path:f,score:Qi(f,o.index),routesMeta:m})};return t.forEach((o,x)=>{var i;if(o.path===""||!((i=o.path)!=null&&i.includes("?")))n(o,x);else for(let h of un(o.path))n(o,x,h)}),r}function un(t){let r=t.split("/");if(r.length===0)return[];let[s,...a]=r,n=s.endsWith("?"),o=s.replace(/\?$/,"");if(a.length===0)return n?[o,""]:[o];let x=un(a.join("/")),i=[];return i.push(...x.map(h=>h===""?o:[o,h].join("/"))),n&&i.push(...x),i.map(h=>t.startsWith("/")&&h===""?"/":h)}function Ui(t){t.sort((r,s)=>r.score!==s.score?s.score-r.score:Ki(r.routesMeta.map(a=>a.childrenIndex),s.routesMeta.map(a=>a.childrenIndex)))}const Hi=/^:[\w-]+$/,qi=3,Xi=2,Yi=1,Gi=10,Zi=-2,ba=t=>t==="*";function Qi(t,r){let s=t.split("/"),a=s.length;return s.some(ba)&&(a+=Zi),r&&(a+=Xi),s.filter(n=>!ba(n)).reduce((n,o)=>n+(Hi.test(o)?qi:o===""?Yi:Gi),a)}function Ki(t,r){return t.length===r.length&&t.slice(0,-1).every((a,n)=>a===r[n])?t[t.length-1]-r[r.length-1]:0}function Ji(t,r,s){s===void 0&&(s=!1);let{routesMeta:a}=t,n={},o="/",x=[];for(let i=0;i<a.length;++i){let h=a[i],f=i===a.length-1,m=o==="/"?r:r.slice(o.length)||"/",l=Ea({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},m),p=h.route;if(!l&&f&&s&&!a[a.length-1].route.index&&(l=Ea({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},m)),!l)return null;Object.assign(n,l.params),x.push({params:n,pathname:Ut([o,l.pathname]),pathnameBase:n0(Ut([o,l.pathnameBase])),route:p}),l.pathnameBase!=="/"&&(o=Ut([o,l.pathnameBase]))}return x}function Ea(t,r){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[s,a]=e0(t.path,t.caseSensitive,t.end),n=r.match(s);if(!n)return null;let o=n[0],x=o.replace(/(.)\/+$/,"$1"),i=n.slice(1);return{params:a.reduce((f,m,l)=>{let{paramName:p,isOptional:E}=m;if(p==="*"){let g=i[l]||"";x=o.slice(0,o.length-g.length).replace(/(.)\/+$/,"$1")}const c=i[l];return E&&!c?f[p]=void 0:f[p]=(c||"").replace(/%2F/g,"/"),f},{}),pathname:o,pathnameBase:x,pattern:t}}function e0(t,r,s){r===void 0&&(r=!1),s===void 0&&(s=!0),cn(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let a=[],n="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(x,i,h)=>(a.push({paramName:i,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(a.push({paramName:"*"}),n+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):s?n+="\\/*$":t!==""&&t!=="/"&&(n+="(?:(?=\\/|$))"),[new RegExp(n,r?void 0:"i"),a]}function t0(t){try{return t.split("/").map(r=>decodeURIComponent(r).replace(/\//g,"%2F")).join("/")}catch(r){return cn(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+r+").")),t}}function mn(t,r){if(r==="/")return t;if(!t.toLowerCase().startsWith(r.toLowerCase()))return null;let s=r.endsWith("/")?r.length-1:r.length,a=t.charAt(s);return a&&a!=="/"?null:t.slice(s)||"/"}function r0(t,r){r===void 0&&(r="/");let{pathname:s,search:a="",hash:n=""}=typeof t=="string"?xr(t):t;return{pathname:s?s.startsWith("/")?s:s0(s,r):r,search:o0(a),hash:i0(n)}}function s0(t,r){let s=r.replace(/\/+$/,"").split("/");return t.split("/").forEach(n=>{n===".."?s.length>1&&s.pop():n!=="."&&s.push(n)}),s.length>1?s.join("/"):"/"}function ps(t,r,s,a){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+r+"` field ["+JSON.stringify(a)+"].  Please separate it out to the ")+("`to."+s+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function a0(t){return t.filter((r,s)=>s===0||r.route.path&&r.route.path.length>0)}function hn(t,r){let s=a0(t);return r?s.map((a,n)=>n===s.length-1?a.pathname:a.pathnameBase):s.map(a=>a.pathnameBase)}function pn(t,r,s,a){a===void 0&&(a=!1);let n;typeof t=="string"?n=xr(t):(n=vr({},t),Oe(!n.pathname||!n.pathname.includes("?"),ps("?","pathname","search",n)),Oe(!n.pathname||!n.pathname.includes("#"),ps("#","pathname","hash",n)),Oe(!n.search||!n.search.includes("#"),ps("#","search","hash",n)));let o=t===""||n.pathname==="",x=o?"/":n.pathname,i;if(x==null)i=s;else{let l=r.length-1;if(!a&&x.startsWith("..")){let p=x.split("/");for(;p[0]==="..";)p.shift(),l-=1;n.pathname=p.join("/")}i=l>=0?r[l]:"/"}let h=r0(n,i),f=x&&x!=="/"&&x.endsWith("/"),m=(o||x===".")&&s.endsWith("/");return!h.pathname.endsWith("/")&&(f||m)&&(h.pathname+="/"),h}const Ut=t=>t.join("/").replace(/\/\/+/g,"/"),n0=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),o0=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,i0=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function x0(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const gn=["post","put","patch","delete"];new Set(gn);const l0=["get",...gn];new Set(l0);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Br(){return Br=Object.assign?Object.assign.bind():function(t){for(var r=1;r<arguments.length;r++){var s=arguments[r];for(var a in s)Object.prototype.hasOwnProperty.call(s,a)&&(t[a]=s[a])}return t},Br.apply(this,arguments)}const Us=d.createContext(null),c0=d.createContext(null),wr=d.createContext(null),rs=d.createContext(null),Qt=d.createContext({outlet:null,matches:[],isDataRoute:!1}),yn=d.createContext(null);function jr(){return d.useContext(rs)!=null}function lr(){return jr()||Oe(!1),d.useContext(rs).location}function bn(t){d.useContext(wr).static||d.useLayoutEffect(t)}function Ne(){let{isDataRoute:t}=d.useContext(Qt);return t?B0():d0()}function d0(){jr()||Oe(!1);let t=d.useContext(Us),{basename:r,future:s,navigator:a}=d.useContext(wr),{matches:n}=d.useContext(Qt),{pathname:o}=lr(),x=JSON.stringify(hn(n,s.v7_relativeSplatPath)),i=d.useRef(!1);return bn(()=>{i.current=!0}),d.useCallback(function(f,m){if(m===void 0&&(m={}),!i.current)return;if(typeof f=="number"){a.go(f);return}let l=pn(f,JSON.parse(x),o,m.relative==="path");t==null&&r!=="/"&&(l.pathname=l.pathname==="/"?r:Ut([r,l.pathname])),(m.replace?a.replace:a.push)(l,m.state,m)},[r,a,x,o,t])}function f0(t,r){return u0(t,r)}function u0(t,r,s,a){jr()||Oe(!1);let{navigator:n}=d.useContext(wr),{matches:o}=d.useContext(Qt),x=o[o.length-1],i=x?x.params:{};x&&x.pathname;let h=x?x.pathnameBase:"/";x&&x.route;let f=lr(),m;if(r){var l;let u=typeof r=="string"?xr(r):r;h==="/"||(l=u.pathname)!=null&&l.startsWith(h)||Oe(!1),m=u}else m=f;let p=m.pathname||"/",E=p;if(h!=="/"){let u=h.replace(/^\//,"").split("/");E="/"+p.replace(/^\//,"").split("/").slice(u.length).join("/")}let c=Oi(t,{pathname:E}),g=y0(c&&c.map(u=>Object.assign({},u,{params:Object.assign({},i,u.params),pathname:Ut([h,n.encodeLocation?n.encodeLocation(u.pathname).pathname:u.pathname]),pathnameBase:u.pathnameBase==="/"?h:Ut([h,n.encodeLocation?n.encodeLocation(u.pathnameBase).pathname:u.pathnameBase])})),o,s,a);return r&&g?d.createElement(rs.Provider,{value:{location:Br({pathname:"/",search:"",hash:"",state:null,key:"default"},m),navigationType:It.Pop}},g):g}function m0(){let t=v0(),r=x0(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),s=t instanceof Error?t.stack:null,n={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},o=null;return d.createElement(d.Fragment,null,d.createElement("h2",null,"Unexpected Application Error!"),d.createElement("h3",{style:{fontStyle:"italic"}},r),s?d.createElement("pre",{style:n},s):null,o)}const h0=d.createElement(m0,null);class p0 extends d.Component{constructor(r){super(r),this.state={location:r.location,revalidation:r.revalidation,error:r.error}}static getDerivedStateFromError(r){return{error:r}}static getDerivedStateFromProps(r,s){return s.location!==r.location||s.revalidation!=="idle"&&r.revalidation==="idle"?{error:r.error,location:r.location,revalidation:r.revalidation}:{error:r.error!==void 0?r.error:s.error,location:s.location,revalidation:r.revalidation||s.revalidation}}componentDidCatch(r,s){console.error("React Router caught the following error during render",r,s)}render(){return this.state.error!==void 0?d.createElement(Qt.Provider,{value:this.props.routeContext},d.createElement(yn.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function g0(t){let{routeContext:r,match:s,children:a}=t,n=d.useContext(Us);return n&&n.static&&n.staticContext&&(s.route.errorElement||s.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=s.route.id),d.createElement(Qt.Provider,{value:r},a)}function y0(t,r,s,a){var n;if(r===void 0&&(r=[]),s===void 0&&(s=null),a===void 0&&(a=null),t==null){var o;if(!s)return null;if(s.errors)t=s.matches;else if((o=a)!=null&&o.v7_partialHydration&&r.length===0&&!s.initialized&&s.matches.length>0)t=s.matches;else return null}let x=t,i=(n=s)==null?void 0:n.errors;if(i!=null){let m=x.findIndex(l=>l.route.id&&(i==null?void 0:i[l.route.id])!==void 0);m>=0||Oe(!1),x=x.slice(0,Math.min(x.length,m+1))}let h=!1,f=-1;if(s&&a&&a.v7_partialHydration)for(let m=0;m<x.length;m++){let l=x[m];if((l.route.HydrateFallback||l.route.hydrateFallbackElement)&&(f=m),l.route.id){let{loaderData:p,errors:E}=s,c=l.route.loader&&p[l.route.id]===void 0&&(!E||E[l.route.id]===void 0);if(l.route.lazy||c){h=!0,f>=0?x=x.slice(0,f+1):x=[x[0]];break}}}return x.reduceRight((m,l,p)=>{let E,c=!1,g=null,u=null;s&&(E=i&&l.route.id?i[l.route.id]:void 0,g=l.route.errorElement||h0,h&&(f<0&&p===0?(F0("route-fallback",!1),c=!0,u=null):f===p&&(c=!0,u=l.route.hydrateFallbackElement||null)));let y=r.concat(x.slice(0,p+1)),F=()=>{let j;return E?j=g:c?j=u:l.route.Component?j=d.createElement(l.route.Component,null):l.route.element?j=l.route.element:j=m,d.createElement(g0,{match:l,routeContext:{outlet:m,matches:y,isDataRoute:s!=null},children:j})};return s&&(l.route.ErrorBoundary||l.route.errorElement||p===0)?d.createElement(p0,{location:s.location,revalidation:s.revalidation,component:g,error:E,children:F(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):F()},null)}var En=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(En||{}),Hr=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Hr||{});function b0(t){let r=d.useContext(Us);return r||Oe(!1),r}function E0(t){let r=d.useContext(c0);return r||Oe(!1),r}function C0(t){let r=d.useContext(Qt);return r||Oe(!1),r}function Cn(t){let r=C0(),s=r.matches[r.matches.length-1];return s.route.id||Oe(!1),s.route.id}function v0(){var t;let r=d.useContext(yn),s=E0(Hr.UseRouteError),a=Cn(Hr.UseRouteError);return r!==void 0?r:(t=s.errors)==null?void 0:t[a]}function B0(){let{router:t}=b0(En.UseNavigateStable),r=Cn(Hr.UseNavigateStable),s=d.useRef(!1);return bn(()=>{s.current=!0}),d.useCallback(function(n,o){o===void 0&&(o={}),s.current&&(typeof n=="number"?t.navigate(n):t.navigate(n,Br({fromRouteId:r},o)))},[t,r])}const Ca={};function F0(t,r,s){!r&&!Ca[t]&&(Ca[t]=!0)}function A0(t,r){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!r||r.v7_relativeSplatPath),r&&(r.v7_fetcherPersist,r.v7_normalizeFormMethod,r.v7_partialHydration,r.v7_skipActionErrorRevalidation)}function qr(t){let{to:r,replace:s,state:a,relative:n}=t;jr()||Oe(!1);let{future:o,static:x}=d.useContext(wr),{matches:i}=d.useContext(Qt),{pathname:h}=lr(),f=Ne(),m=pn(r,hn(i,o.v7_relativeSplatPath),h,n==="path"),l=JSON.stringify(m);return d.useEffect(()=>f(JSON.parse(l),{replace:s,state:a,relative:n}),[f,l,n,s,a]),null}function Fe(t){Oe(!1)}function w0(t){let{basename:r="/",children:s=null,location:a,navigationType:n=It.Pop,navigator:o,static:x=!1,future:i}=t;jr()&&Oe(!1);let h=r.replace(/^\/*/,"/"),f=d.useMemo(()=>({basename:h,navigator:o,static:x,future:Br({v7_relativeSplatPath:!1},i)}),[h,i,o,x]);typeof a=="string"&&(a=xr(a));let{pathname:m="/",search:l="",hash:p="",state:E=null,key:c="default"}=a,g=d.useMemo(()=>{let u=mn(m,h);return u==null?null:{location:{pathname:u,search:l,hash:p,state:E,key:c},navigationType:n}},[h,m,l,p,E,c,n]);return g==null?null:d.createElement(wr.Provider,{value:f},d.createElement(rs.Provider,{children:s,value:g}))}function j0(t){let{children:r,location:s}=t;return f0(ks(r),s)}new Promise(()=>{});function ks(t,r){r===void 0&&(r=[]);let s=[];return d.Children.forEach(t,(a,n)=>{if(!d.isValidElement(a))return;let o=[...r,n];if(a.type===d.Fragment){s.push.apply(s,ks(a.props.children,o));return}a.type!==Fe&&Oe(!1),!a.props.index||!a.props.children||Oe(!1);let x={id:a.props.id||o.join("-"),caseSensitive:a.props.caseSensitive,element:a.props.element,Component:a.props.Component,index:a.props.index,path:a.props.path,loader:a.props.loader,action:a.props.action,errorElement:a.props.errorElement,ErrorBoundary:a.props.ErrorBoundary,hasErrorBoundary:a.props.ErrorBoundary!=null||a.props.errorElement!=null,shouldRevalidate:a.props.shouldRevalidate,handle:a.props.handle,lazy:a.props.lazy};a.props.children&&(x.children=ks(a.props.children,o)),s.push(x)}),s}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */const D0="6";try{window.__reactRouterVersion=D0}catch{}const k0="startTransition",va=Ai[k0];function S0(t){let{basename:r,children:s,future:a,window:n}=t,o=d.useRef();o.current==null&&(o.current=_i({window:n,v5Compat:!0}));let x=o.current,[i,h]=d.useState({action:x.action,location:x.location}),{v7_startTransition:f}=a||{},m=d.useCallback(l=>{f&&va?va(()=>h(l)):h(l)},[h,f]);return d.useLayoutEffect(()=>x.listen(m),[x,m]),d.useEffect(()=>A0(a),[a]),d.createElement(w0,{basename:r,children:s,location:i.location,navigationType:i.action,navigator:x,future:a})}var Ba;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Ba||(Ba={}));var Fa;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(Fa||(Fa={}));const M0="http://localhost:3001",he={DEMO_MODE:!1,ENVIRONMENT:"development",DEMO_CREDENTIALS:{phoneNumber:"27821234567",password:"Demo123!",accounts:[{identifier:"27821234567",password:"Demo123!",type:"phone",description:"Primary phone number account"},{identifier:"27721234567",password:"Test456#",type:"phone",description:"Secondary phone number account"},{identifier:"123456789",password:"Account789$",type:"account",description:"Primary account number"},{identifier:"987654321012",password:"Secure456&",type:"account",description:"Extended account number"},{identifier:"demo_user",password:"User123@",type:"username",description:"Primary username account"},{identifier:"john.doe",password:"MyPass789!",type:"username",description:"Alternative username account"}]},LAUNCH_STATS:{userCount:"50K+",networkType:"Global Network",awardTitle:"Award Winning"},FEATURES:{showDemoCredentials:!0,enableBiometrics:!1,enableNotifications:!0,enableAnalytics:!1},API:{baseUrl:M0,timeout:1e4,retryAttempts:3},MOJALOOP:{participantId:"mymoolah-demo",apiVersion:"v1.1",baseUrl:"https://mojaloop-api.demo"},SECURITY:{sessionTimeout:30*60*1e3,maxLoginAttempts:3,passwordRequirements:{minLength:8,requireUppercase:!0,requireLowercase:!0,requireNumber:!0,requireSpecialChar:!0,allowedSpecialChars:'!@#$%^&*(),.?":{}|<>'},authentication:{supportedTypes:["phone","account","username"],phoneFormats:["+27XXXXXXXXX","27XXXXXXXXX","0XXXXXXXXX"],accountNumberLength:{min:8,max:12},usernameLength:{min:4,max:32},usernameAllowedChars:"letters, numbers, periods, underscores"},enableEncryption:!0},PERFORMANCE:{enableAnimations:!0,imageOptimization:!0,lazyLoading:!0,cacheTimeout:5*60*1e3}},Ir=()=>he.DEMO_MODE,N0=()=>{throw new Error("Demo credentials not available in production mode")};function Ee(){if(typeof window>"u")return null;const t=sessionStorage.getItem("mymoolah_token");return t||localStorage.getItem("mymoolah_token")}function gs(t){if(!(typeof window>"u"))try{sessionStorage.setItem("mymoolah_token",t),localStorage.removeItem("mymoolah_token")}catch{}}function Wr(){if(!(typeof window>"u"))try{sessionStorage.removeItem("mymoolah_token"),localStorage.removeItem("mymoolah_token")}catch{}}const vn=d.createContext(void 0);function Aa(t){var s;const r=hr((t==null?void 0:t.phoneNumber)||(t==null?void 0:t.phone)||(t==null?void 0:t.identifier)||"");return{id:String((t==null?void 0:t.id)??""),name:(t==null?void 0:t.name)||`${(t==null?void 0:t.firstName)||""} ${(t==null?void 0:t.lastName)||""}`.trim(),identifier:r,identifierType:"phone",phoneNumber:r,walletId:String((t==null?void 0:t.walletId)||((s=t==null?void 0:t.wallet)==null?void 0:s.walletId)||""),kycStatus:(t==null?void 0:t.kycStatus)||"not_started",kycVerified:(t==null?void 0:t.kycStatus)==="verified",createdAt:t==null?void 0:t.createdAt}}const P0=t=>{const r=/^(\+27|27|0)[6-8][0-9]{8}$/,s=t.replace(/\s/g,"");return r.test(s)},hr=t=>{const r=t.replace(/\s/g,"");return r.startsWith("+27")?r.slice(1):r.startsWith("0")?"27"+r.slice(1):(r.startsWith("27"),r)},At=async t=>{const r=t.headers.get("content-type");if(r&&r.includes("application/json"))try{return await t.json()}catch(s){return console.error("Failed to parse JSON response:",s),null}else{const s=await t.text();return console.error("Received non-JSON response:",s),null}};function R0({children:t}){const[r,s]=d.useState(null),[a,n]=d.useState(!0);d.useEffect(()=>{o()},[]);const o=async()=>{try{const c=Ee();if(c&&c.startsWith("demo-token-")){const g=N0(),y=localStorage.getItem("mymoolah_kyc_status")||"not_started",F={id:"demo-user-001",name:"Demo User",identifier:hr(g.phoneNumber),identifierType:"phone",phoneNumber:hr(g.phoneNumber),walletId:"wallet-demo-001",kycStatus:y,kycVerified:y==="verified"};s(F)}else if(c){const g=await fetch(`${he.API.baseUrl}/api/v1/auth/verify`,{headers:{Authorization:`Bearer ${c}`}});if(g.ok){const u=await At(g);u&&u.user?s(Aa(u.user)):Wr()}else Wr()}}catch(c){console.error("Auth check failed:",c),Wr()}finally{n(!1)}},x=async c=>{n(!0);try{if(!P0(c.identifier))throw new Error("Please enter a valid South African mobile number");if(await new Promise(g=>setTimeout(g,1e3)),!Ir()){const g=hr(c.identifier),u=await fetch(`${he.API.baseUrl}/api/v1/auth/login`,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({identifier:g,password:c.password})});if(u.ok){const y=await At(u);if(y&&y.user&&y.token)gs(y.token),s(Aa(y.user));else throw new Error("Invalid response from server. Please try again.")}else{const y=await At(u);throw new Error((y==null?void 0:y.message)||`Login failed (${u.status}). Please try again.`)}}}catch(g){throw g}finally{n(!1)}},i=()=>{Wr(),localStorage.removeItem("mymoolah_kyc_status"),s(null)},h=async()=>{try{const c=Ee();if(!c)return;if(c.startsWith("demo-token-")){const u="demo-token-"+Date.now();gs(u);return}const g=await fetch("/api/v1/auth/refresh",{method:"POST",headers:{Authorization:`Bearer ${c}`}});if(g.ok){const u=await At(g);u&&u.token?gs(u.token):i()}else i()}catch(c){console.error("Token refresh failed:",c),i()}},f=async c=>{try{if(!Ir()){const g=Ee(),u=await fetch(`${he.API.baseUrl}/api/v1/kyc/update-status`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${g}`},body:JSON.stringify({status:c})});if(u.ok){const y=await At(u);y&&s({...y,kycVerified:y.kycStatus==="verified"})}else throw new Error("Failed to update KYC status")}}catch(g){throw console.error("KYC status update failed:",g),g}},m=async()=>{try{if(!Ir()){const c=Ee(),g=await fetch(`${he.API.baseUrl}/api/v1/users/me`,{headers:{Authorization:`Bearer ${c}`}});if(g.ok){const u=await At(g);u&&s({...u,kycVerified:u.kycStatus==="verified"})}}}catch(c){console.error("User status refresh failed:",c)}},l=async(c,g,u)=>{if(g!==u)throw new Error("New password and confirmation do not match");if(g.length<8)throw new Error("New password must be at least 8 characters");const y=Ee();if(!y)throw new Error("Not authenticated");const F=await fetch(`${he.API.baseUrl}/api/v1/auth/change-password`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${y}`},body:JSON.stringify({currentPassword:c,newPassword:g,confirmNewPassword:u})});if(!F.ok){const j=await At(F);throw new Error((j==null?void 0:j.message)||"Failed to change password")}},p=c=>{if(!r)return!0;const g=r.kycStatus;return c==="browse"||c==="deposit"?!1:g!=="verified"},E=async c=>{n(!0);try{if(await new Promise(g=>setTimeout(g,1e3)),!Ir()){let g;if(c.identifierType==="phone"){const u=hr(c.identifier);g={name:c.name,email:c.email,phoneNumber:u,password:c.password,idType:c.idType,idNumber:c.idNumber}}else g={name:c.name,email:c.email,identifier:c.identifier,identifierType:c.identifierType,password:c.password,idType:c.idType,idNumber:c.idNumber};try{const u=await fetch(`${he.API.baseUrl}/api/v1/auth/register`,{method:"POST",headers:{"Content-Type":"application/json",Accept:"application/json"},body:JSON.stringify(g)});if(u.ok){const y=await At(u);if(y&&y.user&&y.token)localStorage.setItem("mymoolah_token",y.token),s({...y.user,kycVerified:y.user.kycStatus==="verified"});else throw new Error("Invalid response from server. Please try again.")}else{const y=await At(u);let F="Registration failed. Please try again.";if(u.status===404)F="Registration service is currently unavailable. Please check that your backend is running on http://localhost:3001";else if(u.status===409)F="An account with this information already exists.";else if(u.status===400)if(y){if(Array.isArray(y.errors)&&y.errors.length>0)F=y.errors.map(j=>`${j.field}: ${j.message}`).join(" â€¢ ");else if(y.message){const j=String(y.message).toLowerCase();j.includes("phone")?F="Invalid phone number format. Please use SA mobile number (0XX XXX XXXX).":j.includes("email")?F="Invalid email address format.":j.includes("password")?F="Password does not meet security requirements.":(j.includes("id"),F=y.message)}}else F="Invalid registration data. Please check all fields.";else u.status>=500?F="Server error. Please try again later.":y&&y.message&&(F=y.message);throw console.error("âŒ Registration failed:",{status:u.status,statusText:u.statusText,error:y}),new Error(F)}}catch(u){throw u instanceof TypeError&&u.message.includes("fetch")?new Error("Cannot connect to server. Please check that your backend is running on http://localhost:3001"):u}}}catch(g){throw console.error("ðŸ”¥ Registration error:",g),g}finally{n(!1)}};return e.jsx(vn.Provider,{value:{user:r,login:x,register:E,logout:i,isLoading:a,refreshToken:h,updateKYCStatus:f,refreshUserStatus:m,requiresKYC:p,changePassword:l},children:t})}function Ze(){const t=d.useContext(vn);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}const Bn=d.createContext(void 0);function z0({children:t}){const{user:r}=Ze(),[s,a]=d.useState(null),[n,o]=d.useState(0),[x,i]=d.useState(!1),[h,f]=d.useState(0),[m,l]=d.useState([]),[p,E]=d.useState([]),[c,g]=d.useState({received:0,sent:0}),[u,y]=d.useState(!1),[F,j]=d.useState([]),[w,M]=d.useState(0),[R,D]=d.useState(null);d.useEffect(()=>{r&&v()},[r]),d.useEffect(()=>{r&&B()},[r]);const b=()=>{i(!x)},P=A=>A.map(z=>{var ee;let $,_;z.type==="deposit"||z.type==="receive"||z.type==="credit"||z.type==="received"||z.type==="refund"?($="received",_=z.amount):z.type==="send"||z.type==="sent"?($="sent",_=-z.amount):z.type==="payment"?($="payment",_=-z.amount):($="sent",_=-z.amount);const Q=new Date(z.createdAt||z.date);return{id:z.id||`tx_${z.transactionId}`,type:$,amount:_,currency:z.currency||"ZAR",description:z.description||"Transaction",date:Q.toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),timestamp:Q.toISOString(),status:z.status||"completed",counterparty:((ee=z.metadata)==null?void 0:ee.counterpartyIdentifier)||"Unknown"}}),v=async()=>{var A,z,$;if(r){y(!0);try{const Q={Authorization:`Bearer ${Ee()}`},ee=await fetch(`${he.API.baseUrl}/api/v1/wallets/balance?_t=${Date.now()}`,{headers:Q});if(!ee.ok)throw new Error("Failed to fetch balance");const G=await ee.json(),H=(A=G.data)==null?void 0:A.available,se=H!==n;a(G.data),o(H);const q=await fetch(`${he.API.baseUrl}/api/v1/vouchers/active?_t=${Date.now()}`,{headers:Q});if(!q.ok)throw new Error("Failed to fetch voucher balance");const re=await q.json();f(((z=re.data)==null?void 0:z.length)||0);const K=await fetch(`${he.API.baseUrl}/api/v1/wallets/transactions?limit=50&_t=${Date.now()}`,{headers:Q});if(!K.ok)throw new Error("Failed to fetch transactions");const Y=await K.json(),ae=P((($=Y.data)==null?void 0:$.transactions)||[]);E(ae),l(ae.slice(0,10));const be=new Date().toDateString(),ne=ae.filter(me=>new Date(me.timestamp).toDateString()===be),ue={received:ne.filter(me=>me.type==="received").reduce((me,ze)=>me+Math.abs(ze.amount),0),sent:ne.filter(me=>me.type==="sent"||me.type==="payment").reduce((me,ze)=>me+Math.abs(ze.amount),0)};g(ue)}catch(_){console.error("Failed to fetch wallet data:",_),a({available:0,pending:0,currency:"ZAR"}),o(0),f(0),l([]),E([]),g({received:0,sent:0})}finally{y(!1)}}},T=async()=>{var A;if(r)try{const z=Ee();if(!z)return;const $={Authorization:`Bearer ${z}`},_=await fetch(`${he.API.baseUrl}/api/v1/wallets/transactions?limit=50&_t=${Date.now()}`,{headers:$});if(!_.ok)throw new Error("Failed to fetch transactions");const Q=await _.json(),ee=P(((A=Q.data)==null?void 0:A.transactions)||[]);E(ee),l(ee.slice(0,10))}catch(z){console.error("Failed to refresh transactions:",z)}},I=async(A,z)=>{if(!r||!s)throw new Error("User not authenticated");const $=Ee();if(!(await fetch(`${he.API.baseUrl}/api/v1/send-money`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${$}`},body:JSON.stringify({recipientPhoneNumber:A,amount:z,currency:s.currency})})).ok)throw new Error("Transfer failed")},B=async()=>{try{const A=Ee();if(!A){j([]),M(0),D(null);return}const z=await fetch(`${he.API.baseUrl}/api/v1/notifications?status=unread&limit=50`,{headers:{Authorization:`Bearer ${A}`}});if(!z.ok)return;const $=await z.json(),_=($==null?void 0:$.data)||[];j(_),M(_.length);const Q=_.find(G=>G.freezeUntilViewed);if(D(Q||null),_.some(G=>{var re,K,Y,ae,be;const H=G.type==="txn_wallet_credit"||G.type==="txn_bank_credit",se=((re=G.payload)==null?void 0:re.reason)==="balance_refresh",q=((K=G.title)==null?void 0:K.includes("Payment"))||((Y=G.title)==null?void 0:Y.includes("Received"))||((ae=G.title)==null?void 0:ae.includes("Sent"))||((be=G.title)==null?void 0:be.includes("Transaction"));return H||se||q})){const G=Date.now(),H=window.lastBalanceRefreshTime||0;G-H>2e3&&(window.lastBalanceRefreshTime=G,await L("money_received"),await T())}}catch{}},N=async A=>{try{const z=Ee();if(!z)return;await fetch(`${he.API.baseUrl}/api/v1/notifications/${A}/read`,{method:"POST",headers:{Authorization:`Bearer ${z}`}}),await B()}catch{}},C=async(A,z,$)=>{try{const _=Ee();if(!_)return;await fetch(`${he.API.baseUrl}/api/v1/requests/${A}/respond`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${_}`},body:JSON.stringify({action:z})}),$?await N($):await B(),await L(z==="approve"?"payment_request_approved":"payment_request_declined")}catch{}},L=async A=>{try{if(u)return;switch(A){case"payment_request_created":await v();break;case"payment_request_approved":await v();break;case"payment_request_declined":await v();break;case"money_sent":await v();break;case"money_received":await v();break;default:}}catch(z){console.error("âŒ Event-driven balance refresh failed:",z)}},S=async()=>{await L("money_sent")};return e.jsx(Bn.Provider,{value:{walletBalance:s,balance:n,hideBalance:x,toggleBalanceVisibility:b,voucherBalance:h,recentTransactions:m,allTransactions:p,todayActivity:c,isLoading:u,refreshData:v,refreshTransactions:T,sendMoney:I,notifications:F,unreadCount:w,refreshNotifications:B,markRead:N,blockingNotification:R,respondToPaymentRequest:C,refreshBalanceAfterAction:L,refreshBalanceAfterTransaction:S},children:t})}function Fn(){const t=d.useContext(Bn);if(t===void 0)throw new Error("useMoolah must be used within a MoolahProvider");return t}function T0(){return e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-[--color-mymoolah-green] mx-auto mb-4"}),e.jsx("p",{className:"text-gray-600",children:"Loading MyMoolah..."})]})})}function Pe({children:t}){const{user:r,isLoading:s}=Ze(),a=lr();return s?e.jsx(T0,{}):r?e.jsx(e.Fragment,{children:t}):e.jsx(qr,{to:"/login",state:{from:a},replace:!0})}class I0 extends d.Component{constructor(){super(...arguments);Tr(this,"state",{hasError:!1})}static getDerivedStateFromError(s){return{hasError:!0,error:s}}componentDidCatch(s,a){console.error("Application error:",s,a)}render(){return this.state.hasError?e.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gray-50 px-4",children:e.jsxs("div",{className:"max-w-md w-full bg-white rounded-lg shadow-lg p-6 text-center",children:[e.jsx("div",{className:"text-red-500 mb-4",children:e.jsx("svg",{className:"w-16 h-16 mx-auto",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:e.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M12 9v2m0 4h.01m-6.938 4h13.856c1.54 0 2.502-1.667 1.732-2.5L13.732 4c-.77-.833-1.964-.833-2.732 0L3.732 16.5c-.77.833.192 2.5 1.732 2.5z"})})}),e.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:"Something went wrong"}),e.jsx("p",{className:"text-gray-600 mb-4",children:"We're sorry, but something unexpected happened. Please try refreshing the page."}),e.jsx("button",{onClick:()=>window.location.reload(),className:"bg-[--color-mymoolah-green] text-white px-6 py-2 rounded-lg font-medium hover:opacity-90",children:"Refresh Page"})]})}):this.props.children}}/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const W0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),_0=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(r,s,a)=>a?a.toUpperCase():s.toLowerCase()),wa=t=>{const r=_0(t);return r.charAt(0).toUpperCase()+r.slice(1)},An=(...t)=>t.filter((r,s,a)=>!!r&&r.trim()!==""&&a.indexOf(r)===s).join(" ").trim(),$0=t=>{for(const r in t)if(r.startsWith("aria-")||r==="role"||r==="title")return!0};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var L0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O0=d.forwardRef(({color:t="currentColor",size:r=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:n="",children:o,iconNode:x,...i},h)=>d.createElement("svg",{ref:h,...L0,width:r,height:r,stroke:t,strokeWidth:a?Number(s)*24/Number(r):s,className:An("lucide",n),...!o&&!$0(i)&&{"aria-hidden":"true"},...i},[...x.map(([f,m])=>d.createElement(f,m)),...Array.isArray(o)?o:[o]]));/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J=(t,r)=>{const s=d.forwardRef(({className:a,...n},o)=>d.createElement(O0,{ref:o,iconNode:r,className:An(`lucide-${W0(wa(t))}`,`lucide-${t}`,a),...n}));return s.displayName=wa(t),s};/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V0=[["path",{d:"M17 7 7 17",key:"15tmo1"}],["path",{d:"M17 17H7V7",key:"1org7z"}]],ja=J("arrow-down-left",V0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U0=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],Re=J("arrow-left",U0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const H0=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],q0=J("arrow-right",H0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X0=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],Da=J("arrow-up-right",X0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Y0=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M16 8v5a3 3 0 0 0 6 0v-1a10 10 0 1 0-4 8",key:"7n84p3"}]],Hs=J("at-sign",Y0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const G0=[["path",{d:"m15.477 12.89 1.515 8.526a.5.5 0 0 1-.81.47l-3.58-2.687a1 1 0 0 0-1.197 0l-3.586 2.686a.5.5 0 0 1-.81-.469l1.514-8.526",key:"1yiouv"}],["circle",{cx:"12",cy:"8",r:"6",key:"1vp47v"}]],wn=J("award",G0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z0=[["rect",{width:"20",height:"12",x:"2",y:"6",rx:"2",key:"9lu3g6"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}],["path",{d:"M6 12h.01M18 12h.01",key:"113zkx"}]],jn=J("banknote",Z0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Q0=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ss=J("bell",Q0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const K0=[["path",{d:"M12 8V4H8",key:"hb8ula"}],["rect",{width:"16",height:"12",x:"4",y:"8",rx:"2",key:"enze0r"}],["path",{d:"M2 14h2",key:"vft8re"}],["path",{d:"M20 14h2",key:"4cs60a"}],["path",{d:"M15 13v2",key:"1xurst"}],["path",{d:"M9 13v2",key:"rq6x2g"}]],J0=J("bot",K0);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ex=[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]],gr=J("building-2",ex);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tx=[["rect",{width:"16",height:"20",x:"4",y:"2",rx:"2",ry:"2",key:"76otgf"}],["path",{d:"M9 22v-4h6v4",key:"r93iot"}],["path",{d:"M8 6h.01",key:"1dz90k"}],["path",{d:"M16 6h.01",key:"1x0f13"}],["path",{d:"M12 6h.01",key:"1vi96p"}],["path",{d:"M12 10h.01",key:"1nrarc"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 10h.01",key:"1m94wz"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 10h.01",key:"19clt8"}],["path",{d:"M8 14h.01",key:"6423bh"}]],Ss=J("building",tx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rx=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],Ms=J("calendar",rx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sx=[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]],Ns=J("camera",sx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ax=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Me=J("check",ax);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nx=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],Dn=J("chevron-down",nx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ox=[["path",{d:"m15 18-6-6 6-6",key:"1wnfg3"}]],ix=J("chevron-left",ox);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xx=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],as=J("chevron-right",xx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lx=[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]],cx=J("chevron-up",lx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dx=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],nr=J("circle-alert",dx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fx=[["path",{d:"M21.801 10A10 10 0 1 1 17 3.335",key:"yps3ct"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]],$e=J("circle-check-big",fx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ux=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Nt=J("circle-question-mark",ux);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mx=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],yr=J("clock",mx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hx=[["rect",{width:"14",height:"14",x:"8",y:"8",rx:"2",ry:"2",key:"17jyea"}],["path",{d:"M4 16c-1.1 0-2-.9-2-2V4c0-1.1.9-2 2-2h10c1.1 0 2 .9 2 2",key:"zix9uf"}]],lt=J("copy",hx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const px=[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]],St=J("credit-card",px);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gx=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Fr=J("dollar-sign",gx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yx=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],cr=J("download",yx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bx=[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]],sr=J("eye-off",bx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ex=[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],kt=J("eye",Ex);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cx=[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]],$t=J("file-text",Cx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vx=[["path",{d:"M10 20a1 1 0 0 0 .553.895l2 1A1 1 0 0 0 14 21v-7a2 2 0 0 1 .517-1.341L21.74 4.67A1 1 0 0 0 21 3H3a1 1 0 0 0-.742 1.67l7.225 7.989A2 2 0 0 1 10 14z",key:"sc7q7i"}]],Bx=J("funnel",vx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fx=[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]],kn=J("gift",Fx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ax=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]],Vr=J("globe",Ax);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wx=[["path",{d:"M21.42 10.922a1 1 0 0 0-.019-1.838L12.83 5.18a2 2 0 0 0-1.66 0L2.6 9.08a1 1 0 0 0 0 1.832l8.57 3.908a2 2 0 0 0 1.66 0z",key:"j76jl0"}],["path",{d:"M22 10v6",key:"1lu8f3"}],["path",{d:"M6 12.5V16a6 3 0 0 0 12 0v-3.5",key:"1r8lef"}]],jx=J("graduation-cap",wx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dx=[["line",{x1:"4",x2:"20",y1:"9",y2:"9",key:"4lhtct"}],["line",{x1:"4",x2:"20",y1:"15",y2:"15",key:"vyu0kd"}],["line",{x1:"10",x2:"8",y1:"3",y2:"21",key:"1ggp8o"}],["line",{x1:"16",x2:"14",y1:"3",y2:"21",key:"weycgp"}]],kx=J("hash",Dx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sx=[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]],Mx=J("history",Sx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nx=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]],qs=J("house",Nx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Px=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Xt=J("info",Px);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rx=[["path",{d:"m5 8 6 6",key:"1wu5hv"}],["path",{d:"m4 14 6-6 2-3",key:"1k1g8d"}],["path",{d:"M2 5h12",key:"or177f"}],["path",{d:"M7 2h1",key:"1t2jsx"}],["path",{d:"m22 22-5-10-5 10",key:"don7ne"}],["path",{d:"M14 18h6",key:"1m8k6r"}]],zx=J("languages",Rx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tx=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],Qe=J("loader-circle",Tx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ix=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],Wx=J("lock",Ix);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _x=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],$x=J("log-out",_x);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lx=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Ox=J("map-pin",Lx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vx=[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]],Ux=J("message-circle",Vx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hx=[["path",{d:"M21 15a2 2 0 0 1-2 2H7l-4 4V5a2 2 0 0 1 2-2h14a2 2 0 0 1 2 2z",key:"1lielz"}]],qx=J("message-square",Hx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xx=[["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}],["path",{d:"M18.89 13.23A7.12 7.12 0 0 0 19 12v-2",key:"80xlxr"}],["path",{d:"M5 10v2a7 7 0 0 0 12 5",key:"p2k8kg"}],["path",{d:"M15 9.34V5a3 3 0 0 0-5.68-1.33",key:"1gzdoj"}],["path",{d:"M9 9v3a3 3 0 0 0 5.12 2.12",key:"r2i35w"}],["line",{x1:"12",x2:"12",y1:"19",y2:"22",key:"x3vr5v"}]],Yx=J("mic-off",Xx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gx=[["path",{d:"M12 19v3",key:"npa21l"}],["path",{d:"M19 10v2a7 7 0 0 1-14 0v-2",key:"1vc78b"}],["rect",{x:"9",y:"2",width:"6",height:"13",rx:"3",key:"s6n7sd"}]],br=J("mic",Gx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zx=[["path",{d:"M5 12h14",key:"1ays0h"}]],Qx=J("minus",Zx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kx=[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.376 3.622a1 1 0 0 1 3.002 3.002L7.368 18.635a2 2 0 0 1-.855.506l-2.872.838a.5.5 0 0 1-.62-.62l.838-2.872a2 2 0 0 1 .506-.854z",key:"1ykcvy"}]],Jx=J("pen-line",Kx);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const el=[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}]],Sn=J("pen",el);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tl=[["path",{d:"M13.832 16.568a1 1 0 0 0 1.213-.303l.355-.465A2 2 0 0 1 17 15h3a2 2 0 0 1 2 2v3a2 2 0 0 1-2 2A18 18 0 0 1 2 4a2 2 0 0 1 2-2h3a2 2 0 0 1 2 2v3a2 2 0 0 1-.8 1.6l-.468.351a1 1 0 0 0-.292 1.233 14 14 0 0 0 6.392 6.384",key:"9njp5v"}]],Yt=J("phone",tl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rl=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],Xr=J("plus",rl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sl=[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]],ns=J("qr-code",sl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const al=[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]],Dr=J("receipt",al);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nl=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],Ps=J("refresh-cw",nl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ol=[["path",{d:"M3 7V5a2 2 0 0 1 2-2h2",key:"aa7l1z"}],["path",{d:"M17 3h2a2 2 0 0 1 2 2v2",key:"4qcy5o"}],["path",{d:"M21 17v2a2 2 0 0 1-2 2h-2",key:"6vwrx8"}],["path",{d:"M7 21H5a2 2 0 0 1-2-2v-2",key:"ioqczr"}]],il=J("scan",ol);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xl=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Lt=J("search",xl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ll=[["path",{d:"M14.536 21.686a.5.5 0 0 0 .937-.024l6.5-19a.496.496 0 0 0-.635-.635l-19 6.5a.5.5 0 0 0-.024.937l7.93 3.18a2 2 0 0 1 1.112 1.11z",key:"1ffxy3"}],["path",{d:"m21.854 2.147-10.94 10.939",key:"12cjpa"}]],Gt=J("send",ll);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],ka=J("settings",cl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=[["path",{d:"M12 2v13",key:"1km8f5"}],["path",{d:"m16 6-4-4-4 4",key:"13yo43"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}]],kr=J("share",dl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fl=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}]],Et=J("shield",fl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ul=[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]],Ct=J("smartphone",ul);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ml=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Mt=J("star",ml);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hl=[["path",{d:"m2 7 4.41-4.41A2 2 0 0 1 7.83 2h8.34a2 2 0 0 1 1.42.59L22 7",key:"ztvudi"}],["path",{d:"M4 12v8a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2v-8",key:"1b2hhj"}],["path",{d:"M15 22v-4a2 2 0 0 0-2-2h-2a2 2 0 0 0-2 2v4",key:"2ebpfo"}],["path",{d:"M2 7h20",key:"1fcdvo"}],["path",{d:"M22 7v3a2 2 0 0 1-2 2a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 16 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 12 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 8 12a2.7 2.7 0 0 1-1.59-.63.7.7 0 0 0-.82 0A2.7 2.7 0 0 1 4 12a2 2 0 0 1-2-2V7",key:"6c3vgh"}]],os=J("store",hl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pl=[["path",{d:"M2 9a3 3 0 0 1 0 6v2a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2v-2a3 3 0 0 1 0-6V7a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2Z",key:"qn84l0"}],["path",{d:"M13 5v2",key:"dyzc3o"}],["path",{d:"M13 17v2",key:"1ont0d"}],["path",{d:"M13 11v2",key:"1wjjxi"}]],Yr=J("ticket",pl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gl=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],Ie=J("triangle-alert",gl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yl=[["path",{d:"m17 2-5 5-5-5",key:"16satq"}],["rect",{width:"20",height:"15",x:"2",y:"7",rx:"2",key:"1e6viu"}]],bl=J("tv",yl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const El=[["path",{d:"M12 3v12",key:"1x0j5s"}],["path",{d:"m17 8-5-5-5 5",key:"7q97r8"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}]],Rs=J("upload",El);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cl=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],Xs=J("user",Cl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vl=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["path",{d:"M16 3.128a4 4 0 0 1 0 7.744",key:"16gr8j"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}]],Bl=J("users",vl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fl=[["path",{d:"M11 4.702a.705.705 0 0 0-1.203-.498L6.413 7.587A1.4 1.4 0 0 1 5.416 8H3a1 1 0 0 0-1 1v6a1 1 0 0 0 1 1h2.416a1.4 1.4 0 0 1 .997.413l3.383 3.384A.705.705 0 0 0 11 19.298z",key:"uqj9uw"}],["line",{x1:"22",x2:"16",y1:"9",y2:"15",key:"1ewh16"}],["line",{x1:"16",x2:"22",y1:"9",y2:"15",key:"5ykzw1"}]],Al=J("volume-x",Fl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wl=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],ut=J("wallet",wl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jl=[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]],Gr=J("wifi",jl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dl=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],je=J("x",Dl);/**
 * @license lucide-react v0.525.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kl=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],Bt=J("zap",kl),zt={"send-money":{id:"send-money",path:"/send-money",label:"Pay Beneficiary",icon:()=>e.jsx(Gt,{style:{width:"20px",height:"20px"}})},"request-money":{id:"request-money",path:"/request-money",label:"Request Money",icon:()=>e.jsx(cr,{style:{width:"20px",height:"20px"}})},"qr-scan":{id:"qr-scan",path:"/qr-payment",label:"Scan QR to Pay",icon:()=>e.jsx(ns,{style:{width:"20px",height:"20px"}})},"wallet-withdraw":{id:"wallet-withdraw",path:"/service-cash_withdrawal",label:"Cash Withdrawal",icon:()=>e.jsx(jn,{style:{width:"20px",height:"20px"}})},"airtime-data":{id:"airtime-data",path:"/airtime-data-overlay",label:"Airtime & Data",icon:()=>e.jsx(Ct,{style:{width:"20px",height:"20px"}})},electricity:{id:"electricity",path:"/electricity-overlay",label:"Electricity & Water",icon:()=>e.jsx(Bt,{style:{width:"20px",height:"20px"}})},"bill-payments":{id:"bill-payments",path:"/bill-payment-overlay",label:"Bill Payments",icon:()=>e.jsx(Dr,{style:{width:"20px",height:"20px"}})},insurance:{id:"insurance",path:"/services",label:"Insurance",icon:()=>e.jsx(qs,{style:{width:"20px",height:"20px"}})},vouchers:{id:"vouchers",path:"/vouchers",label:"Vouchers",icon:()=>e.jsx(Yr,{style:{width:"20px",height:"20px"}})},gaming:{id:"gaming",path:"/service-gaming",label:"Gaming Credits",icon:()=>e.jsx(St,{style:{width:"20px",height:"20px"}})},streaming:{id:"streaming",path:"/service-streaming",label:"Streaming Services",icon:()=>e.jsx(ut,{style:{width:"20px",height:"20px"}})},"flash-eezicash":{id:"flash-eezicash",path:"/flash-eezicash-overlay",label:"Cash-out at Flash",icon:()=>e.jsx(Fr,{style:{width:"20px",height:"20px"}})},"mmcash-retail":{id:"mmcash-retail",path:"/mmcash-retail-overlay",label:"Cash-out at Retail",icon:()=>e.jsx(os,{style:{width:"20px",height:"20px"}})},"atm-cashsend":{id:"atm-cashsend",path:"/atm-cashsend-overlay",label:"ATM Cash Send",icon:()=>e.jsx(Hs,{style:{width:"20px",height:"20px"}})}},tr=[{id:"home",path:"/dashboard",label:"Home",icon:()=>e.jsx(qs,{style:{width:"20px",height:"20px"}})},{id:"transact",path:"/transact",label:"Transact",icon:()=>e.jsx(Dr,{style:{width:"28px",height:"28px"}})},{id:"support",path:"/support",label:"Support",icon:()=>e.jsx(Nt,{style:{width:"20px",height:"20px"}})},{id:"feedback",path:"/feedback",label:"Feedback",icon:()=>e.jsx(qx,{style:{width:"20px",height:"20px"}})}];function Sl(){const t=lr(),r=Ne(),[s,a]=d.useState(["send_money","airtime_data"]),[n,o]=d.useState(!0);d.useEffect(()=>{const p=async()=>{var c,g;try{const u=Ee();if(!u){a(["airtime-data","vouchers"]),o(!1);return}const y=t.pathname;if(!["/dashboard","/send-money","/transact","/qr-payment","/vouchers","/profile","/transactions","/wallet-settings","/request-money","/services","/electricity","/bill-payments","/support","/airtime-data-overlay","/electricity-overlay","/bill-payment-overlay","/flash-eezicash-overlay","/mmcash-retail-overlay","/atm-cashsend-overlay"].includes(y)){a(["airtime-data","vouchers"]),o(!1);return}const j=await fetch(`${he.API.baseUrl}/api/v1/settings`,{headers:{Authorization:`Bearer ${u}`,"Content-Type":"application/json"}});if(j.ok){const w=await j.json();w.success&&((g=(c=w.data)==null?void 0:c.settings)!=null&&g.quickAccessServices)?a(w.data.settings.quickAccessServices):a(["airtime-data","vouchers"])}else j.status===403?a(["airtime-data","vouchers"]):j.status===401?a(["airtime-data","vouchers"]):a(["airtime-data","vouchers"])}catch(u){console.error("Failed to fetch user settings:",u),a(["airtime-data","vouchers"])}finally{o(!1)}};p();const E=()=>{p()};return window.addEventListener("settingsUpdated",E),()=>{window.removeEventListener("settingsUpdated",E)}},[]);const i=(()=>{if(n)return[tr[0],zt["airtime-data"],tr[1],zt.vouchers,tr[2]];const p=s.slice(0,2),E=p[0]&&zt[p[0]]?zt[p[0]]:zt["airtime-data"],c=p[1]&&zt[p[1]]?zt[p[1]]:zt.vouchers;return[tr[0],E,tr[1],c,tr[2]]})(),f=(()=>{const p=t.pathname;if(p==="/transactions")return"home";const E=i.find(c=>c.path===p);return(E==null?void 0:E.id)||"home"})();if(!["/dashboard","/send-money","/transact","/qr-payment","/vouchers","/profile","/transactions","/wallet-settings","/request-money","/services","/electricity","/bill-payments","/support","/airtime-data-overlay","/electricity-overlay","/bill-payment-overlay","/flash-eezicash-overlay","/mmcash-retail-overlay","/atm-cashsend-overlay"].includes(t.pathname))return null;const l=e.jsx("div",{style:{position:"fixed",bottom:"0px",left:"50%",marginLeft:"-187.5px",width:"375px",height:"80px",backgroundColor:"#ffffff",borderTop:"1px solid #e5e7eb",boxShadow:"0 -2px 8px rgba(0, 0, 0, 0.1)",zIndex:2147483647,display:"flex",alignItems:"center",justifyContent:"space-around",padding:"0 16px",fontFamily:"Montserrat, sans-serif",transform:"none",filter:"none",perspective:"none",contain:"none",isolation:"auto",willChange:"auto",backfaceVisibility:"visible",transformStyle:"flat",clip:"auto",clipPath:"none",mask:"none",maskImage:"none",overflow:"visible"},"data-fixed-navigation":"true",children:i.map((p,E)=>{const c=f===p.id,g=p.id==="transact";return e.jsxs("button",{onClick:()=>r(p.path),style:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",gap:"4px",padding:"8px 4px",border:"none",background:"transparent",cursor:"pointer",minWidth:"0",flex:g?"1.2":"1",fontFamily:"Montserrat, sans-serif",fontSize:"10px",fontWeight:c?"600":"400",color:c?"#86BE41":"#6B7280",transition:"all 0.2s ease",borderRadius:"8px",position:"relative"},onMouseEnter:u=>{u.currentTarget.style.backgroundColor="#F3F4F6"},onMouseLeave:u=>{u.currentTarget.style.backgroundColor="transparent"},children:[e.jsxs("div",{style:{position:"relative",display:"flex",alignItems:"center",justifyContent:"center",width:g?"32px":"24px",height:g?"32px":"24px",borderRadius:"6px",backgroundColor:c?"#86BE41":"transparent",transition:"all 0.2s ease"},children:[e.jsx("div",{style:{color:c?"#FFFFFF":"#6B7280",transition:"color 0.2s ease"},children:p.icon()}),c&&e.jsx("div",{style:{position:"absolute",bottom:"-2px",left:"50%",transform:"translateX(-50%)",width:"4px",height:"4px",borderRadius:"50%",backgroundColor:"#86BE41",border:"2px solid #FFFFFF"}})]}),e.jsx("span",{style:{fontSize:"10px",fontWeight:c?"600":"400",color:c?"#86BE41":"#6B7280",textAlign:"center",lineHeight:"1.2",maxWidth:"100%",overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"},children:p.label})]},p.id)})});return rn.createPortal(l,document.body)}const Ml="/assets/logo-cd815d14.svg";function Nl(){const t=Ne(),{unreadCount:r,notifications:s,markRead:a,blockingNotification:n,respondToPaymentRequest:o}=Fn(),[x,i]=d.useState(!1),[h,f]=d.useState(!1),m=typeof window<"u"&&localStorage.getItem("brand_wordmark")==="1";return e.jsxs("header",{style:{position:"sticky",top:0,zIndex:50,width:"100%",backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",display:"block",minHeight:"64px",fontFamily:"Montserrat, sans-serif"},children:[e.jsxs("div",{style:{maxWidth:"375px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",height:"64px",padding:"0 16px"},children:[e.jsx("button",{onClick:()=>t("/profile"),style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background-color 0.2s ease",padding:"0",minHeight:"44px",minWidth:"44px",fontFamily:"Montserrat, sans-serif"},onMouseOver:l=>l.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:l=>l.currentTarget.style.backgroundColor="transparent","aria-label":"Profile and Settings",children:e.jsx(Xs,{style:{width:"20px",height:"20px",color:"#6b7280"}})}),e.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center",padding:"0 16px"},children:!m&&!h?e.jsx("img",{src:Ml,alt:"MyMoolah",onError:()=>f(!0),style:{height:48,display:"block"}}):e.jsx("div",{style:{fontSize:"18px",fontWeight:"700",color:"#1f2937",fontFamily:"Montserrat, sans-serif",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",WebkitBackgroundClip:"text",WebkitTextFillColor:"transparent",backgroundClip:"text",display:"flex",alignItems:"center",justifyContent:"center"},children:"MyMoolah"})}),e.jsxs("button",{onClick:()=>i(!0),style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",position:"relative",transition:"background-color 0.2s ease",padding:"0",minHeight:"44px",minWidth:"44px",fontFamily:"Montserrat, sans-serif"},onMouseOver:l=>l.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:l=>l.currentTarget.style.backgroundColor="transparent","aria-label":"Notifications",children:[e.jsx(ss,{style:{width:"20px",height:"20px",color:"#6b7280"}}),r>0&&e.jsx("span",{style:{position:"absolute",top:"8px",right:"8px",width:"10px",height:"10px",backgroundColor:"#dc2626",borderRadius:"50%",animation:"pulse 1.2s infinite"}})]})]}),x&&e.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.4)"},onClick:()=>i(!1),children:e.jsxs("div",{style:{maxWidth:360,margin:"80px auto",background:"#fff",borderRadius:12,padding:16},onClick:l=>l.stopPropagation(),children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontWeight:700,marginBottom:8},children:"Notifications"}),s.length===0?e.jsx("p",{style:{color:"#6b7280"},children:"You're all caught up."}):e.jsx("ul",{style:{listStyle:"none",padding:0,margin:0},children:s.map(l=>e.jsxs("li",{style:{padding:"10px 0",borderBottom:"1px solid #f1f5f9"},children:[e.jsx("div",{style:{fontWeight:600},children:l.title}),l.message&&e.jsx("div",{style:{color:"#6b7280",fontSize:12},children:l.message}),e.jsx("div",{style:{color:"#9ca3af",fontSize:11},children:new Date(l.createdAt).toLocaleString("en-ZA")}),e.jsx("div",{style:{marginTop:8},children:e.jsx("button",{onClick:()=>{a(l.id),i(!1)},style:{padding:"6px 10px",borderRadius:8,border:"1px solid #e5e7eb",background:"#f8fafc",cursor:"pointer"},children:"Read"})})]},l.id))})]})}),n&&e.jsx("div",{style:{position:"fixed",inset:0,backgroundColor:"rgba(0,0,0,0.6)",zIndex:60,display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsxs("div",{style:{maxWidth:360,margin:"0 16px",background:"#fff",borderRadius:12,padding:16,fontFamily:"Montserrat, sans-serif"},children:[e.jsx("h3",{style:{fontWeight:700,marginBottom:6},children:n.title||"Payment Request"}),n.message&&e.jsx("p",{style:{color:"#374151",marginTop:0},children:n.message}),n.payload&&e.jsxs("div",{style:{background:"#f8fafc",border:"1px solid #e5e7eb",borderRadius:8,padding:12,margin:"12px 0"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{children:"Amount"}),e.jsxs("strong",{children:["R",Number(n.payload.amount||0).toFixed(2)]})]}),n.payload.description&&e.jsx("div",{style:{marginTop:6,color:"#6b7280"},children:n.payload.description})]}),e.jsxs("div",{style:{display:"flex",gap:8,marginTop:10},children:[e.jsx("button",{onClick:()=>{var l;return o(Number((l=n.payload)==null?void 0:l.requestId),"decline",n.id)},style:{flex:1,padding:"10px 12px",borderRadius:10,border:"1px solid #e5e7eb",background:"#fff",cursor:"pointer"},children:"Decline"}),e.jsx("button",{onClick:()=>{var l;return o(Number((l=n.payload)==null?void 0:l.requestId),"approve",n.id)},style:{flex:1,padding:"10px 12px",borderRadius:10,border:"none",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#fff",cursor:"pointer"},children:"Approve"})]})]})}),e.jsx("style",{children:"@keyframes pulse { 0%{ transform: scale(1); opacity: .8 } 50%{ transform: scale(1.3); opacity: 1 } 100%{ transform: scale(1); opacity: .8 } }"})]})}function Pl(){for(var t=0,r,s,a="";t<arguments.length;)(r=arguments[t++])&&(s=Mn(r))&&(a&&(a+=" "),a+=s);return a}function Mn(t){if(typeof t=="string")return t;for(var r,s="",a=0;a<t.length;a++)t[a]&&(r=Mn(t[a]))&&(s&&(s+=" "),s+=r);return s}var Ys="-";function Rl(t){var r=Tl(t),s=t.conflictingClassGroups,a=t.conflictingClassGroupModifiers,n=a===void 0?{}:a;function o(i){var h=i.split(Ys);return h[0]===""&&h.length!==1&&h.shift(),Nn(h,r)||zl(i)}function x(i,h){var f=s[i]||[];return h&&n[i]?[].concat(f,n[i]):f}return{getClassGroupId:o,getConflictingClassGroupIds:x}}function Nn(t,r){var x;if(t.length===0)return r.classGroupId;var s=t[0],a=r.nextPart.get(s),n=a?Nn(t.slice(1),a):void 0;if(n)return n;if(r.validators.length!==0){var o=t.join(Ys);return(x=r.validators.find(function(i){var h=i.validator;return h(o)}))==null?void 0:x.classGroupId}}var Sa=/^\[(.+)\]$/;function zl(t){if(Sa.test(t)){var r=Sa.exec(t)[1],s=r==null?void 0:r.substring(0,r.indexOf(":"));if(s)return"arbitrary.."+s}}function Tl(t){var r=t.theme,s=t.prefix,a={nextPart:new Map,validators:[]},n=Wl(Object.entries(t.classGroups),s);return n.forEach(function(o){var x=o[0],i=o[1];zs(i,a,x,r)}),a}function zs(t,r,s,a){t.forEach(function(n){if(typeof n=="string"){var o=n===""?r:Ma(r,n);o.classGroupId=s;return}if(typeof n=="function"){if(Il(n)){zs(n(a),r,s,a);return}r.validators.push({validator:n,classGroupId:s});return}Object.entries(n).forEach(function(x){var i=x[0],h=x[1];zs(h,Ma(r,i),s,a)})})}function Ma(t,r){var s=t;return r.split(Ys).forEach(function(a){s.nextPart.has(a)||s.nextPart.set(a,{nextPart:new Map,validators:[]}),s=s.nextPart.get(a)}),s}function Il(t){return t.isThemeGetter}function Wl(t,r){return r?t.map(function(s){var a=s[0],n=s[1],o=n.map(function(x){return typeof x=="string"?r+x:typeof x=="object"?Object.fromEntries(Object.entries(x).map(function(i){var h=i[0],f=i[1];return[r+h,f]})):x});return[a,o]}):t}function _l(t){if(t<1)return{get:function(){},set:function(){}};var r=0,s=new Map,a=new Map;function n(o,x){s.set(o,x),r++,r>t&&(r=0,a=s,s=new Map)}return{get:function(x){var i=s.get(x);if(i!==void 0)return i;if((i=a.get(x))!==void 0)return n(x,i),i},set:function(x,i){s.has(x)?s.set(x,i):n(x,i)}}}var Pn="!";function $l(t){var r=t.separator||":",s=r.length===1,a=r[0],n=r.length;return function(x){for(var i=[],h=0,f=0,m,l=0;l<x.length;l++){var p=x[l];if(h===0){if(p===a&&(s||x.slice(l,l+n)===r)){i.push(x.slice(f,l)),f=l+n;continue}if(p==="/"){m=l;continue}}p==="["?h++:p==="]"&&h--}var E=i.length===0?x:x.substring(f),c=E.startsWith(Pn),g=c?E.substring(1):E,u=m&&m>f?m-f:void 0;return{modifiers:i,hasImportantModifier:c,baseClassName:g,maybePostfixModifierPosition:u}}}function Ll(t){if(t.length<=1)return t;var r=[],s=[];return t.forEach(function(a){var n=a[0]==="[";n?(r.push.apply(r,s.sort().concat([a])),s=[]):s.push(a)}),r.push.apply(r,s.sort()),r}function Ol(t){return{cache:_l(t.cacheSize),splitModifiers:$l(t),...Rl(t)}}var Vl=/\s+/;function Ul(t,r){var s=r.splitModifiers,a=r.getClassGroupId,n=r.getConflictingClassGroupIds,o=new Set;return t.trim().split(Vl).map(function(x){var i=s(x),h=i.modifiers,f=i.hasImportantModifier,m=i.baseClassName,l=i.maybePostfixModifierPosition,p=a(l?m.substring(0,l):m),E=!!l;if(!p){if(!l)return{isTailwindClass:!1,originalClassName:x};if(p=a(m),!p)return{isTailwindClass:!1,originalClassName:x};E=!1}var c=Ll(h).join(":"),g=f?c+Pn:c;return{isTailwindClass:!0,modifierId:g,classGroupId:p,originalClassName:x,hasPostfixModifier:E}}).reverse().filter(function(x){if(!x.isTailwindClass)return!0;var i=x.modifierId,h=x.classGroupId,f=x.hasPostfixModifier,m=i+h;return o.has(m)?!1:(o.add(m),n(h,f).forEach(function(l){return o.add(i+l)}),!0)}).reverse().map(function(x){return x.originalClassName}).join(" ")}function Hl(){for(var t=arguments.length,r=new Array(t),s=0;s<t;s++)r[s]=arguments[s];var a,n,o,x=i;function i(f){var m=r[0],l=r.slice(1),p=l.reduce(function(E,c){return c(E)},m());return a=Ol(p),n=a.cache.get,o=a.cache.set,x=h,h(f)}function h(f){var m=n(f);if(m)return m;var l=Ul(f,a);return o(f,l),l}return function(){return x(Pl.apply(null,arguments))}}function Se(t){var r=function(a){return a[t]||[]};return r.isThemeGetter=!0,r}var Rn=/^\[(?:([a-z-]+):)?(.+)\]$/i,ql=/^\d+\/\d+$/,Xl=new Set(["px","full","screen"]),Yl=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Gl=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Zl=/^-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/;function pt(t){return Vt(t)||Xl.has(t)||ql.test(t)||Ts(t)}function Ts(t){return Kt(t,"length",rc)}function Ql(t){return Kt(t,"size",zn)}function Kl(t){return Kt(t,"position",zn)}function Jl(t){return Kt(t,"url",sc)}function _r(t){return Kt(t,"number",Vt)}function Vt(t){return!Number.isNaN(Number(t))}function ec(t){return t.endsWith("%")&&Vt(t.slice(0,-1))}function ur(t){return Na(t)||Kt(t,"number",Na)}function ge(t){return Rn.test(t)}function mr(){return!0}function Tt(t){return Yl.test(t)}function tc(t){return Kt(t,"",ac)}function Kt(t,r,s){var a=Rn.exec(t);return a?a[1]?a[1]===r:s(a[2]):!1}function rc(t){return Gl.test(t)}function zn(){return!1}function sc(t){return t.startsWith("url(")}function Na(t){return Number.isInteger(Number(t))}function ac(t){return Zl.test(t)}function nc(){var t=Se("colors"),r=Se("spacing"),s=Se("blur"),a=Se("brightness"),n=Se("borderColor"),o=Se("borderRadius"),x=Se("borderSpacing"),i=Se("borderWidth"),h=Se("contrast"),f=Se("grayscale"),m=Se("hueRotate"),l=Se("invert"),p=Se("gap"),E=Se("gradientColorStops"),c=Se("gradientColorStopPositions"),g=Se("inset"),u=Se("margin"),y=Se("opacity"),F=Se("padding"),j=Se("saturate"),w=Se("scale"),M=Se("sepia"),R=Se("skew"),D=Se("space"),b=Se("translate"),P=function(){return["auto","contain","none"]},v=function(){return["auto","hidden","clip","visible","scroll"]},T=function(){return["auto",ge,r]},I=function(){return[ge,r]},B=function(){return["",pt]},N=function(){return["auto",Vt,ge]},C=function(){return["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"]},L=function(){return["solid","dashed","dotted","double","none"]},S=function(){return["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity","plus-lighter"]},A=function(){return["start","end","center","between","around","evenly","stretch"]},z=function(){return["","0",ge]},$=function(){return["auto","avoid","all","avoid-page","page","left","right","column"]},_=function(){return[Vt,_r]},Q=function(){return[Vt,ge]};return{cacheSize:500,theme:{colors:[mr],spacing:[pt],blur:["none","",Tt,ge],brightness:_(),borderColor:[t],borderRadius:["none","","full",Tt,ge],borderSpacing:I(),borderWidth:B(),contrast:_(),grayscale:z(),hueRotate:Q(),invert:z(),gap:I(),gradientColorStops:[t],gradientColorStopPositions:[ec,Ts],inset:T(),margin:T(),opacity:_(),padding:I(),saturate:_(),scale:_(),sepia:z(),skew:Q(),space:I(),translate:I()},classGroups:{aspect:[{aspect:["auto","square","video",ge]}],container:["container"],columns:[{columns:[Tt]}],"break-after":[{"break-after":$()}],"break-before":[{"break-before":$()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none"]}],clear:[{clear:["left","right","both","none"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[].concat(C(),[ge])}],overflow:[{overflow:v()}],"overflow-x":[{"overflow-x":v()}],"overflow-y":[{"overflow-y":v()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[g]}],"inset-x":[{"inset-x":[g]}],"inset-y":[{"inset-y":[g]}],start:[{start:[g]}],end:[{end:[g]}],top:[{top:[g]}],right:[{right:[g]}],bottom:[{bottom:[g]}],left:[{left:[g]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ur]}],basis:[{basis:T()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ge]}],grow:[{grow:z()}],shrink:[{shrink:z()}],order:[{order:["first","last","none",ur]}],"grid-cols":[{"grid-cols":[mr]}],"col-start-end":[{col:["auto",{span:["full",ur]},ge]}],"col-start":[{"col-start":N()}],"col-end":[{"col-end":N()}],"grid-rows":[{"grid-rows":[mr]}],"row-start-end":[{row:["auto",{span:[ur]},ge]}],"row-start":[{"row-start":N()}],"row-end":[{"row-end":N()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ge]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ge]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal"].concat(A())}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal"].concat(A(),["baseline"])}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[].concat(A(),["baseline"])}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[F]}],px:[{px:[F]}],py:[{py:[F]}],ps:[{ps:[F]}],pe:[{pe:[F]}],pt:[{pt:[F]}],pr:[{pr:[F]}],pb:[{pb:[F]}],pl:[{pl:[F]}],m:[{m:[u]}],mx:[{mx:[u]}],my:[{my:[u]}],ms:[{ms:[u]}],me:[{me:[u]}],mt:[{mt:[u]}],mr:[{mr:[u]}],mb:[{mb:[u]}],ml:[{ml:[u]}],"space-x":[{"space-x":[D]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[D]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit",ge,r]}],"min-w":[{"min-w":["min","max","fit",ge,pt]}],"max-w":[{"max-w":["0","none","full","min","max","fit","prose",{screen:[Tt]},Tt,ge]}],h:[{h:[ge,r,"auto","min","max","fit"]}],"min-h":[{"min-h":["min","max","fit",ge,pt]}],"max-h":[{"max-h":[ge,r,"min","max","fit"]}],"font-size":[{text:["base",Tt,Ts]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",_r]}],"font-family":[{font:[mr]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractons"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ge]}],"line-clamp":[{"line-clamp":["none",Vt,_r]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ge,pt]}],"list-image":[{"list-image":["none",ge]}],"list-style-type":[{list:["none","disc","decimal",ge]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[y]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[y]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[].concat(L(),["wavy"])}],"text-decoration-thickness":[{decoration:["auto","from-font",pt]}],"underline-offset":[{"underline-offset":["auto",ge,pt]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],indent:[{indent:I()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ge]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ge]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[y]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[].concat(C(),[Kl])}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",Ql]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},Jl]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[c]}],"gradient-via-pos":[{via:[c]}],"gradient-to-pos":[{to:[c]}],"gradient-from":[{from:[E]}],"gradient-via":[{via:[E]}],"gradient-to":[{to:[E]}],rounded:[{rounded:[o]}],"rounded-s":[{"rounded-s":[o]}],"rounded-e":[{"rounded-e":[o]}],"rounded-t":[{"rounded-t":[o]}],"rounded-r":[{"rounded-r":[o]}],"rounded-b":[{"rounded-b":[o]}],"rounded-l":[{"rounded-l":[o]}],"rounded-ss":[{"rounded-ss":[o]}],"rounded-se":[{"rounded-se":[o]}],"rounded-ee":[{"rounded-ee":[o]}],"rounded-es":[{"rounded-es":[o]}],"rounded-tl":[{"rounded-tl":[o]}],"rounded-tr":[{"rounded-tr":[o]}],"rounded-br":[{"rounded-br":[o]}],"rounded-bl":[{"rounded-bl":[o]}],"border-w":[{border:[i]}],"border-w-x":[{"border-x":[i]}],"border-w-y":[{"border-y":[i]}],"border-w-s":[{"border-s":[i]}],"border-w-e":[{"border-e":[i]}],"border-w-t":[{"border-t":[i]}],"border-w-r":[{"border-r":[i]}],"border-w-b":[{"border-b":[i]}],"border-w-l":[{"border-l":[i]}],"border-opacity":[{"border-opacity":[y]}],"border-style":[{border:[].concat(L(),["hidden"])}],"divide-x":[{"divide-x":[i]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[i]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[y]}],"divide-style":[{divide:L()}],"border-color":[{border:[n]}],"border-color-x":[{"border-x":[n]}],"border-color-y":[{"border-y":[n]}],"border-color-t":[{"border-t":[n]}],"border-color-r":[{"border-r":[n]}],"border-color-b":[{"border-b":[n]}],"border-color-l":[{"border-l":[n]}],"divide-color":[{divide:[n]}],"outline-style":[{outline:[""].concat(L())}],"outline-offset":[{"outline-offset":[ge,pt]}],"outline-w":[{outline:[pt]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:B()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[y]}],"ring-offset-w":[{"ring-offset":[pt]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Tt,tc]}],"shadow-color":[{shadow:[mr]}],opacity:[{opacity:[y]}],"mix-blend":[{"mix-blend":S()}],"bg-blend":[{"bg-blend":S()}],filter:[{filter:["","none"]}],blur:[{blur:[s]}],brightness:[{brightness:[a]}],contrast:[{contrast:[h]}],"drop-shadow":[{"drop-shadow":["","none",Tt,ge]}],grayscale:[{grayscale:[f]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[l]}],saturate:[{saturate:[j]}],sepia:[{sepia:[M]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[s]}],"backdrop-brightness":[{"backdrop-brightness":[a]}],"backdrop-contrast":[{"backdrop-contrast":[h]}],"backdrop-grayscale":[{"backdrop-grayscale":[f]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[l]}],"backdrop-opacity":[{"backdrop-opacity":[y]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[M]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[x]}],"border-spacing-x":[{"border-spacing-x":[x]}],"border-spacing-y":[{"border-spacing-y":[x]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ge]}],duration:[{duration:Q()}],ease:[{ease:["linear","in","out","in-out",ge]}],delay:[{delay:Q()}],animate:[{animate:["none","spin","ping","pulse","bounce",ge]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[w]}],"scale-x":[{"scale-x":[w]}],"scale-y":[{"scale-y":[w]}],rotate:[{rotate:[ur,ge]}],"translate-x":[{"translate-x":[b]}],"translate-y":[{"translate-y":[b]}],"skew-x":[{"skew-x":[R]}],"skew-y":[{"skew-y":[R]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ge]}],accent:[{accent:["auto",t]}],appearance:["appearance-none"],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ge]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":I()}],"scroll-mx":[{"scroll-mx":I()}],"scroll-my":[{"scroll-my":I()}],"scroll-ms":[{"scroll-ms":I()}],"scroll-me":[{"scroll-me":I()}],"scroll-mt":[{"scroll-mt":I()}],"scroll-mr":[{"scroll-mr":I()}],"scroll-mb":[{"scroll-mb":I()}],"scroll-ml":[{"scroll-ml":I()}],"scroll-p":[{"scroll-p":I()}],"scroll-px":[{"scroll-px":I()}],"scroll-py":[{"scroll-py":I()}],"scroll-ps":[{"scroll-ps":I()}],"scroll-pe":[{"scroll-pe":I()}],"scroll-pt":[{"scroll-pt":I()}],"scroll-pr":[{"scroll-pr":I()}],"scroll-pb":[{"scroll-pb":I()}],"scroll-pl":[{"scroll-pl":I()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","pinch-zoom","manipulation",{pan:["x","left","right","y","up","down"]}]}],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ge]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[pt,_r]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}}var oc=Hl(nc);function pe(...t){return oc(Di(t))}const Is=_s("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}}),O=d.forwardRef(({className:t,variant:r,size:s,asChild:a=!1,...n},o)=>{const x=a?qa:"button";return e.jsx(x,{"data-slot":"button",className:pe(Is({variant:r,size:s,className:t})),ref:o,...n})});O.displayName="Button";function ie({className:t,type:r,...s}){return e.jsx("input",{type:r,"data-slot":"input",className:pe("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...s})}var ic="Label",Tn=d.forwardRef((t,r)=>e.jsx(et.label,{...t,ref:r,onMouseDown:s=>{var n;s.target.closest("button, input, select, textarea")||((n=t.onMouseDown)==null||n.call(t,s),!s.defaultPrevented&&s.detail>1&&s.preventDefault())}}));Tn.displayName=ic;var xc=Tn;function X({className:t,...r}){return e.jsx(xc,{"data-slot":"label",className:pe("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...r})}function oe({className:t,...r}){return e.jsx("div",{"data-slot":"card",className:pe("bg-card text-card-foreground flex flex-col gap-6 rounded-xl border",t),...r})}function Ae({className:t,...r}){return e.jsx("div",{"data-slot":"card-header",className:pe("@container/card-header grid auto-rows-min grid-rows-[auto_auto] items-start gap-1.5 px-6 pt-6 has-data-[slot=card-action]:grid-cols-[1fr_auto] [.border-b]:pb-6",t),...r})}function we({className:t,...r}){return e.jsx("h4",{"data-slot":"card-title",className:pe("leading-none",t),...r})}function ce({className:t,...r}){return e.jsx("div",{"data-slot":"card-content",className:pe("px-6 [&:last-child]:pb-6",t),...r})}function Le({...t}){return e.jsx(Qo,{"data-slot":"dialog",...t})}function Ht({...t}){return e.jsx(Ko,{"data-slot":"dialog-trigger",...t})}function lc({...t}){return e.jsx(Zo,{"data-slot":"dialog-portal",...t})}const In=d.forwardRef(({className:t,...r},s)=>e.jsx(Xa,{ref:s,"data-slot":"dialog-overlay",className:pe("data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 fixed inset-0 z-50 bg-black/50",t),...r}));In.displayName=Xa.displayName;const _e=d.forwardRef(({className:t,children:r,...s},a)=>{const n=d.useId(),o=s["aria-describedby"],x=d.useRef(null),i=d.useCallback(h=>{x.current=h,typeof a=="function"?a(h):a&&typeof a=="object"&&(a.current=h)},[a]);return d.useEffect(()=>{const h=x.current;if(!h)return;let f=h.getAttribute("aria-describedby")||"";if(!f||!document.getElementById(f)){const m=f||n;if(!document.getElementById(m)){const l=document.createElement("p");l.id=m,l.className="sr-only",l.textContent="Dialog content",h.prepend(l)}h.setAttribute("aria-describedby",m)}},[n,o]),e.jsxs(lc,{"data-slot":"dialog-portal",children:[e.jsx(In,{}),e.jsxs(Ya,{ref:i,"data-slot":"dialog-content",className:pe("bg-background data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 fixed top-[50%] left-[50%] z-50 grid w-full max-w-[calc(100%-2rem)] translate-x-[-50%] translate-y-[-50%] gap-4 rounded-lg border p-6 shadow-lg duration-200 sm:max-w-lg",t),...s,"aria-describedby":o||n,children:[!o&&e.jsx(Ga,{id:n,className:"sr-only",children:"Dialog content"}),r,e.jsxs(Go,{className:"ring-offset-background focus:ring-ring data-[state=open]:bg-accent data-[state=open]:text-muted-foreground absolute top-4 right-4 rounded-xs opacity-70 transition-opacity hover:opacity-100 focus:ring-2 focus:ring-offset-2 focus:outline-hidden disabled:pointer-events-none [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",children:[e.jsx(je,{}),e.jsx("span",{className:"sr-only",children:"Close"})]})]})]})});_e.displayName=Ya.displayName;function Ve({className:t,...r}){return e.jsx("div",{"data-slot":"dialog-header",className:pe("flex flex-col gap-2 text-center sm:text-left",t),...r})}function Ue({className:t,...r}){return e.jsx(Jo,{"data-slot":"dialog-title",className:pe("text-lg leading-none font-semibold",t),...r})}function Gs({className:t,...r}){return e.jsx(Ga,{"data-slot":"dialog-description",className:pe("text-muted-foreground text-sm",t),...r})}const cc=_s("relative w-full rounded-lg border px-4 py-3 text-sm grid has-[>svg]:grid-cols-[calc(var(--spacing)*4)_1fr] grid-cols-[0_1fr] has-[>svg]:gap-x-3 gap-y-0.5 items-start [&>svg]:size-4 [&>svg]:translate-y-0.5 [&>svg]:text-current",{variants:{variant:{default:"bg-card text-card-foreground",destructive:"text-destructive bg-card [&>svg]:text-current *:data-[slot=alert-description]:text-destructive/90"}},defaultVariants:{variant:"default"}});function Ke({className:t,variant:r,...s}){return e.jsx("div",{"data-slot":"alert",role:"alert",className:pe(cc({variant:r}),t),...s})}function Je({className:t,...r}){return e.jsx("div",{"data-slot":"alert-description",className:pe("text-muted-foreground col-start-2 grid justify-items-start gap-1 text-sm [&_p]:leading-relaxed",t),...r})}const Wn="/assets/logo2-783bc709.svg",dc=t=>{if(!t.trim())return{isValid:!1,message:"Phone number is required"};const r=t.replace(/\s/g,"");return/^(\+27|27|0)[6-8][0-9]{8}$/.test(r)?{isValid:!0}:{isValid:!1,message:"Please enter a valid South African mobile number"}},fc=t=>{const r=t.replace(/[^\d+]/g,"");if(r.startsWith("+27")){const s=r.slice(3);if(s.length<=9)return s.length>=3?`+27 ${s.slice(0,2)} ${s.slice(2,5)} ${s.slice(5)}`.trim():`+27 ${s}`}else if(r.startsWith("27")){const s=r.slice(2);if(s.length<=9)return s.length>=3?`27 ${s.slice(0,2)} ${s.slice(2,5)} ${s.slice(5)}`.trim():`27 ${s}`}else if(r.startsWith("0")){const s=r.slice(1);if(s.length<=9)return s.length>=3?`0${s.slice(0,2)} ${s.slice(2,5)} ${s.slice(5)}`.trim():`0${s}`}return r.slice(0,13)};function uc(){const t=Ne(),{login:r,isLoading:s}=Ze(),[a,n]=d.useState({phoneNumber:"",password:""}),[o,x]=d.useState(!1),[i,h]=d.useState(""),f=dc(a.phoneNumber),m=c=>{const g=c.target.value,u=fc(g);n(y=>({...y,phoneNumber:u})),i&&h("")},l=async c=>{if(c.preventDefault(),!f.isValid||!a.password){h("Please enter a valid phone number and password");return}h("");try{const g=a.phoneNumber.replace(/\s/g,"");await r({identifier:g,password:a.password}),t("/dashboard")}catch(g){h(g instanceof Error?g.message:"Login failed. Please try again.")}},p=()=>{n({phoneNumber:"27 82 123 4567",password:"Demo123!"})},E=()=>a.phoneNumber.trim()?f.isValid?e.jsxs("span",{className:"inline-flex items-center gap-1 text-green-600",children:[e.jsx(Me,{className:"w-3 h-3"}),"Valid South African mobile number"]}):e.jsxs("span",{className:"inline-flex items-center gap-1 text-red-600",children:[e.jsx(je,{className:"w-3 h-3"}),f.message]}):e.jsx("span",{style:{color:"#6b7280"},children:"Enter your SA mobile number - supports 0XX, 27XX, or +27XX formats"});return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#86BE41] to-[#2D8CCA]",children:e.jsx("div",{className:"mobile-container",children:e.jsxs("div",{style:{padding:"var(--mobile-padding)",paddingTop:"2rem",paddingBottom:"2rem"},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("img",{src:Wn,alt:"MyMoolah Logo",className:"h-16 w-auto",style:{height:"8rem",width:"auto",maxWidth:"400px",objectFit:"contain"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:"var(--font-weight-bold)",color:"white",marginBottom:"0.5rem"},children:"Ready to transact?"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"rgba(255, 255, 255, 0.9)"},children:"Sign in to access your digital wallet"})]}),i&&e.jsxs(Ke,{className:"border-red-200 bg-red-50 mb-4",children:[e.jsx(Ie,{className:"h-4 w-4 text-red-600"}),e.jsx(Je,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",color:"#dc2626"},children:i})]}),e.jsxs(oe,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl",style:{marginTop:"-2rem"},children:[e.jsx(Ae,{style:{paddingBottom:"1rem"},children:e.jsx(we,{className:"text-center",style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937"},children:"Sign In"})}),e.jsxs(ce,{children:[e.jsxs("form",{onSubmit:l,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"phoneNumber",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#374151"},children:"Mobile Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{id:"phoneNumber",type:"tel",placeholder:"Mobile Number",value:a.phoneNumber,onChange:m,className:`bg-white border-gray-200 focus:border-[#86BE41] focus:ring-[#86BE41] pl-12 ${!f.isValid&&a.phoneNumber.trim()?"border-red-300 focus:border-red-500 focus:ring-red-500":f.isValid&&a.phoneNumber.trim()?"border-green-300 focus:border-green-500 focus:ring-green-500":""}`,style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",borderRadius:"var(--mobile-border-radius)"},required:!0,"aria-describedby":"phone-help phone-error"}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx(Yt,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("div",{id:"phone-help",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:E()}),!f.isValid&&a.phoneNumber.trim()&&f.message&&e.jsxs("div",{id:"phone-error",className:"text-xs text-red-600 mt-1 flex items-center gap-1",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:[e.jsx(Ie,{className:"w-3 h-3"}),f.message]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"password",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#374151"},children:"Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{id:"password",type:o?"text":"password",placeholder:"Enter your password",value:a.password,onChange:c=>n(g=>({...g,password:c.target.value})),className:"bg-white border-gray-200 focus:border-[#86BE41] focus:ring-[#86BE41] pr-12",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",borderRadius:"var(--mobile-border-radius)"},required:!0,"aria-describedby":"password-help"}),e.jsx("button",{type:"button",onClick:()=>x(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",style:{minHeight:"var(--mobile-touch-target)",minWidth:"var(--mobile-touch-target)",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":o?"Hide password":"Show password",children:o?e.jsx(sr,{className:"w-4 h-4"}):e.jsx(kt,{className:"w-4 h-4"})})]})]}),e.jsx("button",{type:"button",onClick:p,className:"text-xs text-[#2D8CCA] hover:text-[#2680B8] underline",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)"},children:"Fill demo credentials"}),e.jsx(O,{type:"submit",disabled:!f.isValid||!a.password||s,className:"w-full bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] hover:from-[#7AB139] hover:to-[#2680B8] text-white disabled:opacity-60",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:s?e.jsx("span",{children:"Signing in..."}):e.jsx("span",{children:"Sign In"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",color:"#6b7280"},children:["Don't have an account?"," ",e.jsx("button",{onClick:()=>t("/register"),className:"text-[#2D8CCA] hover:text-[#2680B8] font-medium underline",style:{fontFamily:"Montserrat, sans-serif",fontWeight:"var(--font-weight-medium)"},children:"Create Wallet"})]})})]})]}),e.jsx("div",{className:"mt-4 bg-white/20 backdrop-blur-sm",style:{padding:"var(--mobile-padding)",borderRadius:"var(--mobile-border-radius)"},children:e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs(Le,{children:[e.jsx(Ht,{asChild:!0,children:e.jsxs("button",{className:"flex flex-col items-center space-y-1 hover:bg-white/20 p-2 rounded-lg transition-all",style:{minHeight:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif"},children:[e.jsx("div",{className:"bg-white/30 backdrop-blur-sm rounded-xl w-12 h-12 flex items-center justify-center",children:e.jsx($t,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"T&C's"})]})}),e.jsxs(_e,{className:"mobile-container","aria-describedby":"login-terms-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1rem, 2.5vw, 1.125rem)",fontWeight:"var(--font-weight-bold)"},children:"Terms & Conditions"}),e.jsx("div",{id:"login-terms-description",className:"sr-only",children:"Terms and conditions for MyMoolah secure digital wallet services"})]}),e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",lineHeight:"1.6"},children:e.jsx("p",{children:"By using MyMoolah, you agree to our terms and conditions for secure digital wallet services. Your SA mobile number is used for account identification and secure two-factor authentication."})})]})]}),e.jsxs(Le,{children:[e.jsx(Ht,{asChild:!0,children:e.jsxs("button",{className:"flex flex-col items-center space-y-1 hover:bg-white/20 p-2 rounded-lg transition-all transform scale-110",style:{minHeight:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif"},children:[e.jsx("div",{className:"bg-white/30 backdrop-blur-sm rounded-xl w-12 h-12 flex items-center justify-center",children:e.jsx(Et,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"Security"})]})}),e.jsxs(_e,{className:"mobile-container","aria-describedby":"login-security-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1rem, 2.5vw, 1.125rem)",fontWeight:"var(--font-weight-bold)"},children:"Bank-Grade Security"}),e.jsx("div",{id:"login-security-description",className:"sr-only",children:"Information about MyMoolah's bank-grade security and encryption"})]}),e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",lineHeight:"1.6"},children:e.jsx("p",{children:"MyMoolah uses enterprise-grade encryption and Mojaloop compliance to protect your financial data. Your SA mobile number provides secure account access with the same security standards as major banks."})})]})]}),e.jsxs(Le,{children:[e.jsx(Ht,{asChild:!0,children:e.jsxs("button",{className:"flex flex-col items-center space-y-1 hover:bg-white/20 p-2 rounded-lg transition-all",style:{minHeight:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif"},children:[e.jsx("div",{className:"bg-white/30 backdrop-blur-sm rounded-xl w-12 h-12 flex items-center justify-center",children:e.jsx(Nt,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"FAQ"})]})}),e.jsxs(_e,{className:"mobile-container","aria-describedby":"login-faq-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1rem, 2.5vw, 1.125rem)",fontWeight:"var(--font-weight-bold)"},children:"Frequently Asked Questions"}),e.jsx("div",{id:"login-faq-description",className:"sr-only",children:"Frequently asked questions about MyMoolah services and support"})]}),e.jsxs("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",lineHeight:"1.6"},children:[e.jsx("p",{children:e.jsx("strong",{children:"Q: How do I reset my password?"})}),e.jsx("p",{children:"A: Contact support for password reset assistance."}),e.jsx("br",{}),e.jsx("p",{children:e.jsx("strong",{children:"Q: What mobile number formats are supported?"})}),e.jsx("p",{children:"A: We support South African mobile numbers in these formats: 0XX XXX XXXX, 27XX XXX XXXX, or +27XX XXX XXXX."}),e.jsx("br",{}),e.jsx("p",{children:e.jsx("strong",{children:"Q: Is my money safe?"})}),e.jsx("p",{children:"A: Yes, MyMoolah uses bank-grade security and is Mojaloop compliant."})]})]})]})]})})]})})})}const mc=t=>{if(!/^\d{13}$/.test(t))return!1;let r=0,s=!1;for(let a=t.length-1;a>=0;a--){let n=parseInt(t[a],10);s&&(n*=2,n>9&&(n-=9)),r+=n,s=!s}return r%10===0},hc=t=>{const r=(t||"").replace(/\s/g,"");return r?/^\d{13}$/.test(r)?mc(r)?{isValid:!0,type:"south_african_id"}:{isValid:!1,type:"south_african_id",reason:"Checksum failed"}:/^[A-Z0-9]{12}$/i.test(r)?{isValid:!0,type:"south_african_driving_license"}:/^[A-Z0-9]{6,9}$/i.test(r)?{isValid:!0,type:"passport"}:{isValid:!1,type:"generic",reason:"Invalid format"}:{isValid:!1,type:"generic",reason:"Required"}},pc=t=>{switch(t){case"south_african_id":return"13 digits (SA ID)";case"south_african_driving_license":return"12 chars (e.g., 60460002CSK4)";case"passport":return"6â€“9 alphanumeric";default:return"ID / Passport / Licence"}},gc=t=>t?!t.isValid&&t.reason==="Required"?"Required":t.type==="south_african_id"?t.isValid?"SOUTH AFRICAN ID - Valid":"SA ID must be 13 digits and pass checksum":t.type==="south_african_driving_license"?t.isValid?"SA Driving Licence - Valid":"Driving licence must be 12 alphanumeric characters":t.type==="passport"?t.isValid?"Passport - Valid":"Passport must be 6â€“9 alphanumeric characters":t.isValid?"Generic ID - Valid":"Invalid ID format":"",yc=t=>{const r=(t||"").replace(/\s+/g,"").replace(/[()-]/g,"");return r.startsWith("+27")?r.slice(1):r.startsWith("27")?r:r.startsWith("0")&&r.length===10?"27"+r.slice(1):r},Pa=t=>{const r=yc(t);return/^27[6-8][0-9]{8}$/.test(r)},bc=t=>{const r=(t||"").trim();return/^[^\s@]+@[^\s@]+\.[^\s@]{2,}$/.test(r)},Ec=t=>{const r=t.trim();return/^(\+27|27|0)?[6-8][0-9]{8}$/.test(r.replace(/\s/g,""))?"phone":/^[0-9]{8,12}$/.test(r)?"account":/^[a-zA-Z0-9._]{4,32}$/.test(r)?"username":"unknown"},Cc=t=>{const r=t.length>=8,s=/[A-Z]/.test(t),a=/[a-z]/.test(t),n=/\d/.test(t),o=/[!@#$%^&*(),.?":{}|<>]/.test(t);return{minLength:r,hasUppercase:s,hasLowercase:a,hasNumber:n,hasSpecialChar:o,isValid:r&&s&&a&&n&&o}};function vc(){const t=Ne(),{register:r,isLoading:s}=Ze(),[a,n]=d.useState({name:"",identifier:"",idNumber:"",idType:"generic",email:"",password:"",confirmPassword:""}),[o,x]=d.useState(!1),[i,h]=d.useState(!1),[f,m]=d.useState(!1),[l,p]=d.useState(!1),[E,c]=d.useState(""),g=Ec(a.identifier),u={isValid:Pa(a.identifier),message:Pa(a.identifier)?void 0:"Invalid South African mobile number"},y=hc(a.idNumber),F=Cc(a.password),j=a.password===a.confirmPassword,w=bc(a.email),M=()=>{switch(g){case"phone":return"27 XX XXX XXXX";case"account":return"12345678";case"username":return"username";default:return"Phone Number"}},R=async D=>{if(D.preventDefault(),!u.isValid||!y.isValid||!F.isValid||!j||!w||!a.name||!a.email){c("Please fill in all fields correctly");return}c("");try{await r({name:a.name,identifier:a.identifier,idNumber:a.idNumber,idType:y.type,email:a.email,password:a.password,identifierType:g}),t("/dashboard")}catch(b){c(b instanceof Error?b.message:"Registration failed. Please try again.")}};return e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#86BE41] to-[#2D8CCA]",children:e.jsx("div",{className:"mobile-container",children:e.jsxs("div",{style:{padding:"var(--mobile-padding)",paddingTop:"2rem",paddingBottom:"2rem"},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("div",{className:"flex justify-center mb-2",children:e.jsx("img",{src:Wn,alt:"MyMoolah Logo",className:"h-16 w-auto",style:{height:"8rem",width:"auto",maxWidth:"400px",objectFit:"contain"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:"var(--font-weight-bold)",color:"white",marginBottom:"0.5rem"},children:"Join MyMoolah"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"rgba(255, 255, 255, 0.9)"},children:"Create your digital wallet account"})]}),E&&e.jsxs(Ke,{className:"border-red-200 bg-red-50 mb-4",children:[e.jsx(Ie,{className:"h-4 w-4 text-red-600"}),e.jsx(Je,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",color:"#dc2626"},children:E})]}),e.jsxs(oe,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl",style:{marginTop:"-4rem"},children:[e.jsx(Ae,{style:{paddingBottom:"1rem"},children:e.jsx(we,{className:"text-center",style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937"},children:"Create Wallet"})}),e.jsxs(ce,{children:[e.jsxs("form",{onSubmit:R,className:"space-y-4",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"name",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#374151"},children:"Full Name"}),e.jsx(ie,{id:"name",type:"text",placeholder:"Enter your full name",value:a.name,onChange:D=>n(b=>({...b,name:D.target.value})),className:"bg-white border-gray-200 focus:border-[#86BE41] focus:ring-[#86BE41]",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",borderRadius:"var(--mobile-border-radius)"},required:!0})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"identifier",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#374151"},children:"Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{id:"identifier",type:"text",placeholder:M(),value:a.identifier,onChange:D=>n(b=>({...b,identifier:D.target.value})),className:`bg-white border-gray-200 focus:border-[#86BE41] focus:ring-[#86BE41] pl-12 ${!u.isValid&&a.identifier.trim()?"border-red-300 focus:border-red-500 focus:ring-red-500":u.isValid&&a.identifier.trim()?"border-green-300 focus:border-green-500 focus:ring-green-500":""}`,style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",borderRadius:"var(--mobile-border-radius)"},required:!0}),e.jsxs("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:[g==="phone"&&e.jsx(Yt,{className:"w-4 h-4 text-gray-400"}),g==="account"&&e.jsx(kx,{className:"w-4 h-4 text-gray-400"}),g==="username"&&e.jsx(Xs,{className:"w-4 h-4 text-gray-400"}),g==="unknown"&&e.jsx(Yt,{className:"w-4 h-4 text-gray-400"})]})]}),e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:a.identifier.trim()?e.jsxs("span",{className:`inline-flex items-center gap-1 ${u.isValid?"text-green-600":"text-red-600"}`,children:[u.isValid?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(je,{className:"w-3 h-3"}),u.isValid?"South African mobile number":"Enter SA mobile e.g. 078 456 0585 or +27 78 456 0585",g==="account"&&"Account number (8-12 digits)",g==="username"&&"Username (4-32 characters)",g==="unknown"&&"Invalid format"]}):e.jsx("span",{style:{color:"#6b7280"},children:"Enter your phone number (27XXXXXXXXX) - also your account no."})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"idNumber",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#374151"},children:"ID Number / Passport"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{id:"idNumber",type:"text",placeholder:pc(y.type),value:a.idNumber,onChange:D=>n(b=>({...b,idNumber:D.target.value})),className:`bg-white border-gray-200 focus:border-[#86BE41] focus:ring-[#86BE41] pl-12 ${!y.isValid&&a.idNumber.trim()?"border-red-300 focus:border-red-500 focus:ring-red-500":y.isValid&&a.idNumber.trim()?"border-green-300 focus:border-green-500 focus:ring-green-500":""}`,style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",borderRadius:"var(--mobile-border-radius)"},required:!0}),e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx(St,{className:"w-4 h-4 text-gray-400"})})]}),e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:a.idNumber.trim()?e.jsxs("span",{className:`inline-flex items-center gap-1 ${y.isValid?"text-green-600":"text-red-600"}`,children:[y.isValid?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(je,{className:"w-3 h-3"}),gc(y)]}):e.jsx("span",{style:{color:"#6b7280"},children:"Enter your ID number or passport for verification"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"email",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#374151"},children:"Email Address"}),e.jsx(ie,{id:"email",type:"email",placeholder:"Enter your email address",value:a.email,onChange:D=>n(b=>({...b,email:D.target.value})),className:`bg-white border-gray-200 focus:border-[#86BE41] focus:ring-[#86BE41] ${a.email&&!w?"border-red-300 focus:border-red-500 focus:ring-red-500":a.email&&w?"border-green-300 focus:border-green-500 focus:ring-green-500":""}`,style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",borderRadius:"var(--mobile-border-radius)"},required:!0}),e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:a.email&&e.jsx("span",{className:`inline-flex items-center gap-1 ${w?"text-green-600":"text-red-600"}`,children:w?"Valid email":"Invalid email format (e.g., user@example.com)"})})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"password",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#374151"},children:"Create Password"}),!f&&a.password.length===0&&e.jsx("div",{className:"bg-blue-50 border border-blue-200 rounded-lg p-2 mb-2",children:e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Xt,{className:"w-3 h-3 text-blue-600 flex-shrink-0"}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("p",{className:"text-blue-700 text-xs mb-1",style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",fontWeight:"var(--font-weight-bold)"},children:[e.jsx("strong",{children:"Format:"})," 8+ chars, A-Z, a-z, 0-9, !@#$"]}),e.jsxs("p",{className:"text-blue-600 text-xs",style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",fontWeight:"var(--font-weight-normal)"},children:[e.jsx("strong",{children:"e.g."})," ","MyWallet2024!"]})]})]})}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{id:"password",type:o?"text":"password",placeholder:"Create a strong password",value:a.password,onChange:D=>{n(b=>({...b,password:D.target.value})),p(D.target.value.length>0)},onFocus:()=>m(!0),onBlur:()=>m(!1),className:"bg-white border-gray-200 focus:border-[#86BE41] focus:ring-[#86BE41] pr-12",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",borderRadius:"var(--mobile-border-radius)"},required:!0}),e.jsx("button",{type:"button",onClick:()=>x(!o),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",style:{minHeight:"var(--mobile-touch-target)",minWidth:"var(--mobile-touch-target)",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":o?"Hide password":"Show password",children:o?e.jsx(sr,{className:"w-4 h-4"}):e.jsx(kt,{className:"w-4 h-4"})})]}),l&&a.password.length>0&&e.jsxs("div",{className:"mt-2 p-3 bg-gray-50 rounded-lg border",style:{borderRadius:"var(--mobile-border-radius)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",color:"#374151"},children:"Password Requirements:"}),F.isValid&&e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx($e,{className:"w-4 h-4 text-green-500"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#16a34a"},children:"Valid!"})]})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-2",children:[e.jsxs("div",{className:`flex items-center gap-1 text-xs ${F.minLength?"text-green-600":"text-red-600"}`,children:[F.minLength?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px"},children:"8+ chars"})]}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${F.hasUppercase?"text-green-600":"text-red-600"}`,children:[F.hasUppercase?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px"},children:"A-Z"})]}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${F.hasLowercase?"text-green-600":"text-red-600"}`,children:[F.hasLowercase?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px"},children:"a-z"})]}),e.jsxs("div",{className:`flex items-center gap-1 text-xs ${F.hasNumber?"text-green-600":"text-red-600"}`,children:[F.hasNumber?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px"},children:"0-9"})]}),e.jsxs("div",{className:`flex items-center gap-1 text-xs col-span-2 ${F.hasSpecialChar?"text-green-600":"text-red-600"}`,children:[F.hasSpecialChar?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(je,{className:"w-3 h-3"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px"},children:"Special (!@#$)"})]})]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(X,{htmlFor:"confirmPassword",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#374151"},children:"Confirm Password"}),e.jsxs("div",{className:"relative",children:[e.jsx(ie,{id:"confirmPassword",type:i?"text":"password",placeholder:"Confirm your password",value:a.confirmPassword,onChange:D=>n(b=>({...b,confirmPassword:D.target.value})),className:`bg-white border-gray-200 focus:border-[#86BE41] focus:ring-[#86BE41] pr-12 ${a.confirmPassword&&!j?"border-red-300":""}`,style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",borderRadius:"var(--mobile-border-radius)"},required:!0}),e.jsx("button",{type:"button",onClick:()=>h(!i),className:"absolute right-3 top-1/2 -translate-y-1/2 text-gray-500 hover:text-gray-700 transition-colors",style:{minHeight:"var(--mobile-touch-target)",minWidth:"var(--mobile-touch-target)",display:"flex",alignItems:"center",justifyContent:"center"},"aria-label":i?"Hide password":"Show password",children:i?e.jsx(sr,{className:"w-4 h-4"}):e.jsx(kt,{className:"w-4 h-4"})})]}),a.confirmPassword&&e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:e.jsxs("span",{className:`inline-flex items-center gap-1 ${j?"text-green-600":"text-red-600"}`,children:[j?e.jsx(Me,{className:"w-3 h-3"}):e.jsx(je,{className:"w-3 h-3"}),j?"Passwords match":"Passwords do not match"]})})]}),e.jsx(O,{type:"submit",disabled:!u.isValid||!F.isValid||!j||!w||!a.name||!a.email||s,className:"w-full bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] hover:from-[#7AB139] hover:to-[#2680B8] text-white disabled:opacity-60",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:s?e.jsx("span",{children:"Creating Wallet..."}):e.jsx("span",{children:"Create Wallet"})})]}),e.jsx("div",{className:"mt-6 text-center",children:e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",color:"#6b7280"},children:["Already have an account?"," ",e.jsx("button",{onClick:()=>t("/login"),className:"text-[#2D8CCA] hover:text-[#2680B8] font-medium underline",style:{fontFamily:"Montserrat, sans-serif",fontWeight:"var(--font-weight-medium)"},children:"Sign In"})]})})]})]}),e.jsx("div",{className:"mt-4 bg-white/20 backdrop-blur-sm",style:{padding:"var(--mobile-padding)",borderRadius:"var(--mobile-border-radius)"},children:e.jsxs("div",{className:"flex items-center justify-between px-2",children:[e.jsxs(Le,{children:[e.jsx(Ht,{asChild:!0,children:e.jsxs("button",{className:"flex flex-col items-center space-y-1 hover:bg-white/20 p-2 rounded-lg transition-all",style:{minHeight:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif"},children:[e.jsx("div",{className:"bg-white/30 backdrop-blur-sm rounded-xl w-12 h-12 flex items-center justify-center",children:e.jsx($t,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"T&C's"})]})}),e.jsxs(_e,{className:"mobile-container","aria-describedby":"terms-conditions-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1rem, 2.5vw, 1.125rem)",fontWeight:"var(--font-weight-bold)"},children:"Terms & Conditions"}),e.jsx("div",{id:"terms-conditions-description",className:"sr-only",children:"Terms and conditions for MyMoolah wallet services and KYC compliance"})]}),e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",lineHeight:"1.6"},children:e.jsx("p",{children:"By creating a MyMoolah wallet, you agree to our terms and conditions for secure digital wallet services and KYC compliance."})})]})]}),e.jsxs(Le,{children:[e.jsx(Ht,{asChild:!0,children:e.jsxs("button",{className:"flex flex-col items-center space-y-1 hover:bg-white/20 p-2 rounded-lg transition-all transform scale-110",style:{minHeight:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif"},children:[e.jsx("div",{className:"bg-white/30 backdrop-blur-sm rounded-xl w-12 h-12 flex items-center justify-center",children:e.jsx(Et,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"Security"})]})}),e.jsxs(_e,{className:"mobile-container","aria-describedby":"security-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1rem, 2.5vw, 1.125rem)",fontWeight:"var(--font-weight-bold)"},children:"Bank-Grade Security"}),e.jsx("div",{id:"security-description",className:"sr-only",children:"Information about MyMoolah's enterprise-grade encryption and KYC verification security standards"})]}),e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",lineHeight:"1.6"},children:e.jsx("p",{children:"MyMoolah uses enterprise-grade encryption and comprehensive KYC verification to protect your financial data with the same security standards as major banks."})})]})]}),e.jsxs(Le,{children:[e.jsx(Ht,{asChild:!0,children:e.jsxs("button",{className:"flex flex-col items-center space-y-1 hover:bg-white/20 p-2 rounded-lg transition-all",style:{minHeight:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif"},children:[e.jsx("div",{className:"bg-white/30 backdrop-blur-sm rounded-xl w-12 h-12 flex items-center justify-center",children:e.jsx(Nt,{className:"w-6 h-6 text-white"})}),e.jsx("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"FAQ"})]})}),e.jsxs(_e,{className:"mobile-container","aria-describedby":"faq-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1rem, 2.5vw, 1.125rem)",fontWeight:"var(--font-weight-bold)"},children:"Frequently Asked Questions"}),e.jsx("div",{id:"faq-description",className:"sr-only",children:"Frequently asked questions about MyMoolah registration and verification process"})]}),e.jsxs("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",lineHeight:"1.6"},children:[e.jsx("p",{children:e.jsx("strong",{children:"Q: What documents do I need for verification?"})}),e.jsx("p",{children:"A: South African ID or Passport, plus proof of address (utility bill, bank statement)."}),e.jsx("br",{}),e.jsx("p",{children:e.jsx("strong",{children:"Q: How long does account verification take?"})}),e.jsx("p",{children:"A: Usually 2-5 minutes with our automated KYC system."})]})]})]})]})})]})})})}function _n(t,r=20){const s={width:`${r}px`,height:`${r}px`},a=(t.description||"").toLowerCase(),n=t.amount>0,o=n?"#16a34a":"#dc2626";return a.includes("voucher")?e.jsx(Yr,{style:{...s,color:o}}):a.includes("airtime")||a.includes("vodacom")||a.includes("mtn")||a.includes("cell c")?e.jsx(Yt,{style:{...s,color:o}}):a.includes("data")||a.includes("internet")||a.includes("wifi")?e.jsx(Gr,{style:{...s,color:o}}):a.includes("electricity")||a.includes("eskom")||a.includes("power")?e.jsx(Bt,{style:{...s,color:o}}):$n(t)?n?e.jsx(ja,{style:{...s,color:"#16a34a"}}):e.jsx(Da,{style:{...s,color:"#dc2626"}}):Bc(t)?e.jsx(ut,{style:{...s,color:o}}):n?e.jsx(ja,{style:{...s,color:"#16a34a"}}):e.jsx(Da,{style:{...s,color:"#dc2626"}})}function $n(t){const r=(t.description||"").toLowerCase(),s=t.metadata||{};return r.includes("external bank")||r.includes("bank transfer")||r.includes("paygate")||r.includes("payfast")||r.includes("paypal")||r.includes("absa")||r.includes("nedbank")||r.includes("standard bank")||r.includes("fnb")||r.includes("capitec")||r.includes("discovery bank")||r.includes("investec")||r.includes("african bank")||r.includes("bidvest bank")||r.includes("postbank")||s.bankReference||s.externalBank||s.bankCode||s.accountNumber}function Bc(t){const r=(t.description||"").toLowerCase(),s=!!t.senderWalletId||!!t.receiverWalletId,a=r.includes("|")||r.includes("ref:")||r.includes("sent to")||r.includes("payment to")||r.includes("transfer to")||r.includes("received from"),n=!$n(t);return s&&a&&n}function ys(t){if(!t&&t!==0)return"R 0.00";const r=t.toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2});return t<0?`R -${Math.abs(t).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`R ${r}`}function Fc(t){return typeof t=="string"?t:t.toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})}function Ac(t){let r=t.description||"";if(r.includes("| Ref:")){const s=r.split("|")[0].trim(),n=(r.split("| Ref:")[1]||"").trim(),o=n.length>20?n.substring(0,20)+"...":n;return`${s} | ${o}`}if(r.includes("Ref:")){const s=r.split("Ref:")[0].trim(),n=(r.split("Ref:")[1]||"").trim(),o=n.length>20?n.substring(0,20)+"...":n;return`${s}${o}`}return r}function wc(t){if(!t||!t.trim())return"";const r=t.trim().split(" ")[0];return r.charAt(0).toUpperCase()+r.slice(1).toLowerCase()}function jc(){const t=Ne(),{user:r}=Ze(),[s,a]=d.useState(0),[n,o]=d.useState([]),[x,i]=d.useState(0),[h,f]=d.useState(0),m=async()=>{if(r)try{const y={Authorization:`Bearer ${Ee()}`,"Content-Type":"application/json"},F=await fetch(`${he.API.baseUrl}/api/v1/wallets/balance`,{headers:y});if(F.ok){const M=await F.json();M.success&&M.data&&a(M.data.available||0)}const j=await fetch(`${he.API.baseUrl}/api/v1/wallets/transactions?limit=10`,{headers:y});if(j.ok){const M=await j.json();if(M.success&&M.data){const D=(Array.isArray(M.data)?M.data:M.data.transactions||[]).map(b=>{var B,N,C;const P=["deposit","received","refund"].includes(b.type),v=["sent","payment","withdrawal","fee"].includes(b.type),T=P?"received":"sent",I=P?Math.abs(b.amount):-Math.abs(b.amount);return{id:b.id||`tx_${b.transactionId}`,type:T,amount:I,currency:b.currency||"ZAR",description:b.description||"Transaction",date:new Date(b.createdAt||b.date).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),timestamp:new Date(b.createdAt||b.date).toISOString(),status:b.status||"completed",counterparty:((B=b.metadata)==null?void 0:B.counterpartyIdentifier)||"Unknown",senderWalletId:b.senderWalletId||((N=b.metadata)==null?void 0:N.senderWalletId),receiverWalletId:b.receiverWalletId||((C=b.metadata)==null?void 0:C.receiverWalletId),metadata:b.metadata||{}}});o(D)}}const w=await fetch(`${he.API.baseUrl}/api/v1/vouchers/balance-summary`,{headers:y});if(w.ok){const M=await w.json();if(M.success&&M.data){const R=M.data,D=R.active.count||0;i(D);const b=parseFloat(R.active.value);f(b)}}else console.error("âŒ Voucher balance fetch failed:",w.status)}catch(u){console.error("Error fetching dashboard data:",u)}finally{}};d.useEffect(()=>{r&&m()},[r]),d.useEffect(()=>{const u=()=>{r&&m()};return window.addEventListener("focus",u),()=>window.removeEventListener("focus",u)},[r]);const l=()=>{t("/transactions")},p=()=>{t("/vouchers")},E=()=>{t("/transactions")},c=u=>u.type==="received"?"#16a34a":"#dc2626",g=wc(r==null?void 0:r.name);return e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif"},children:e.jsxs("div",{style:{padding:"16px"},children:[e.jsxs("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"8px",textAlign:"center",lineHeight:"1.3"},children:["Welcome back",g?`, ${g}`:"","!"]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",textAlign:"center",marginBottom:"24px",lineHeight:"1.6"},children:"Your digital wallet dashboard"}),e.jsxs("button",{onClick:l,style:{width:"100%",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"var(--mobile-border-radius)",padding:"20px",marginBottom:"16px",boxShadow:"var(--mobile-shadow)",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseOver:u=>{u.currentTarget.style.backgroundColor="#f8fafc",u.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.12)",u.currentTarget.style.transform="translateY(-1px)"},onMouseOut:u=>{u.currentTarget.style.backgroundColor="#ffffff",u.currentTarget.style.boxShadow="var(--mobile-shadow)",u.currentTarget.style.transform="translateY(0)"},"aria-label":"View wallet transaction history",children:[e.jsxs("div",{style:{flex:1},children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"4px",margin:"0 0 4px 0"},children:"My Wallet"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",margin:"0"},children:"Available balance"})]}),e.jsx("div",{style:{textAlign:"right"},children:e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"var(--font-weight-bold)",color:s>=0?"#16a34a":"#dc2626",lineHeight:"1.2"},children:ys(s)})})]}),e.jsxs("button",{onClick:p,style:{width:"100%",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"var(--mobile-border-radius)",padding:"20px",marginBottom:"16px",boxShadow:"var(--mobile-shadow)",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left"},onMouseOver:u=>{u.currentTarget.style.backgroundColor="#f8fafc",u.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.12)",u.currentTarget.style.transform="translateY(-1px)"},onMouseOut:u=>{u.currentTarget.style.backgroundColor="#ffffff",u.currentTarget.style.boxShadow="var(--mobile-shadow)",u.currentTarget.style.transform="translateY(0)"},"aria-label":"View vouchers page",children:[e.jsx("div",{style:{flex:1},children:e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"4px",margin:"0"},children:"Active Vouchers"})}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"50px",paddingRight:"16px"},children:e.jsx("div",{style:{width:"32px",height:"32px",backgroundColor:"#f1f5f9",borderRadius:"6px",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #e2e8f0"},children:e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"var(--font-weight-bold)",color:"#374151",lineHeight:"1"},children:x})})}),e.jsx("div",{style:{textAlign:"right",flex:1,display:"flex",justifyContent:"flex-end"},children:e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#2D8CCA",lineHeight:"1.2"},children:ys(h)})})]}),e.jsxs("button",{onClick:E,style:{width:"100%",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"var(--mobile-border-radius)",padding:"0",marginBottom:"24px",boxShadow:"var(--mobile-shadow)",cursor:"pointer",transition:"all 0.2s ease",textAlign:"left",overflow:"hidden"},onMouseOver:u=>{u.currentTarget.style.backgroundColor="#fafbfc",u.currentTarget.style.boxShadow="0 4px 12px rgba(0, 0, 0, 0.12)",u.currentTarget.style.transform="translateY(-1px)"},onMouseOut:u=>{u.currentTarget.style.backgroundColor="#ffffff",u.currentTarget.style.boxShadow="var(--mobile-shadow)",u.currentTarget.style.transform="translateY(0)"},"aria-label":"View full transaction history",children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"20px 20px 16px 20px",borderBottom:"1px solid #f1f5f9"},children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",margin:"0"},children:"Recent Transactions"}),e.jsx(as,{style:{width:"20px",height:"20px",color:"#6b7280"}})]}),e.jsx("div",{style:{padding:"0 20px 20px 20px"},children:n.length>0?n.map((u,y)=>e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",paddingBottom:y===n.length-1?"0":"16px",marginBottom:y===n.length-1?"0":"16px",borderBottom:y===n.length-1?"none":"1px solid #f8fafc",width:"100%"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",flex:1,minWidth:0},children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"10px",backgroundColor:u.amount>=0?"#f0fdf4":"#fef3f2",display:"flex",alignItems:"center",justifyContent:"center",marginRight:"12px",flexShrink:0,minWidth:"40px"},children:_n({id:u.id,type:u.type==="received"?"receive":"send",amount:u.amount,description:u.description,senderWalletId:u.senderWalletId,receiverWalletId:u.receiverWalletId,metadata:u.metadata||{}},20)}),e.jsxs("div",{style:{flex:1,minWidth:0,maxWidth:"60%"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",color:"#1f2937",margin:"0 0 2px 0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%",display:"block"},children:Ac(u)}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",margin:"0",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis",maxWidth:"100%"},children:Fc(u.date)})]})]}),e.jsx("div",{style:{textAlign:"right",paddingLeft:"12px",flexShrink:0,minWidth:"80px"},children:e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:c(u),lineHeight:"1.2"},children:ys(u.amount)})})]},u.id)):e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",padding:"40px 20px",color:"#6b7280",fontSize:"var(--mobile-font-base)",textAlign:"center"},children:e.jsxs("div",{children:[e.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#f8fafc",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px auto"}}),e.jsx("p",{style:{margin:"0 0 4px 0",fontWeight:"var(--font-weight-medium)"},children:"No recent transactions"}),e.jsx("p",{style:{margin:"0",fontSize:"var(--mobile-font-small)"},children:"Your transaction history will appear here"})]})})})]})]})})}const Dc=he.API.baseUrl;class kc{normalizeSAMobileNumber(r){let a=String(r||"").replace(/\D/g,"");return a.startsWith("27")&&(a=a.slice(2)),a.startsWith("0")&&(a=a.slice(1)),a=a.slice(-9),`+27${a}`}async request(r,s={}){try{const a=`${Dc}${r}`,n=Ee(),o={headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...s.headers},...s},x=await fetch(a,o),i=await x.json();if(!x.ok)throw new Error(i.message||`HTTP ${x.status}`);return{success:!0,data:i}}catch(a){throw console.error(`API Error (${r}):`,a),a}}async resolveRecipient(r){return(await this.request("/api/v1/send-money/resolve-recipient",{method:"POST",body:JSON.stringify({identifier:r})})).data}async getPaymentQuote(r,s,a){return(await this.request("/api/v1/send-money/quote",{method:"POST",body:JSON.stringify({paymentMethodId:r,amount:s,recipient:a})})).data}async initiateTransfer(r,s,a,n){return(await this.request("/api/v1/send-money/transfer",{method:"POST",body:JSON.stringify({paymentMethodId:r,amount:s,recipient:a,reference:n})})).data}async getTransferStatus(r){return(await this.request(`/api/v1/send-money/status/${r}`)).data}async getVASServices(){return(await this.request("/api/v1/vas")).data}async compareSuppliers(r,s,a){const n=new URLSearchParams;return s&&n.append("amount",s.toString()),a&&n.append("provider",a),(await this.request(`/api/v1/suppliers/compare/${r}?${n}`)).data}async getTrendingProducts(r){const s=r?`?vasType=${r}`:"";return(await this.request(`/api/v1/suppliers/trending${s}`)).data}async getUserProfile(){return(await this.request("/api/v1/users/profile")).data}async getWalletBalance(){return(await this.request("/api/v1/wallets/balance")).data}async getRecentTransactions(r=10){var a;return((a=(await this.request(`/api/v1/wallets/transactions?limit=${r}&page=1`)).data)==null?void 0:a.transactions)||[]}async checkKYCStatus(){return(await this.request("/api/v1/kyc/status")).data}async healthCheck(){return(await this.request("/health")).data}async scanQRCode(r,s){return(await this.request("/api/v1/qr/scan",{method:"POST",body:JSON.stringify({qrCode:r,qrType:s})})).data}async validateQRCode(r,s){return(await this.request("/api/v1/qr/validate",{method:"POST",body:JSON.stringify({qrCode:r,amount:s})})).data}async getQRMerchants(r,s){const a=new URLSearchParams;return r&&a.append("category",r),s&&a.append("qrType",s),(await this.request(`/api/v1/qr/merchants?${a}`)).data.merchants}async getQRMerchantDetails(r){return(await this.request(`/api/v1/qr/merchants/${r}`)).data.merchant}async validateWalletAtMerchant(r,s,a){return(await this.request(`/api/v1/qr/merchants/${r}/validate`,{method:"POST",body:JSON.stringify({walletId:s,amount:a})})).data}async initiateQRPayment(r,s,a,n){return(await this.request("/api/v1/qr/payment/initiate",{method:"POST",body:JSON.stringify({qrCode:r,amount:s,walletId:a,reference:n})})).data}async confirmQRPayment(r,s){return(await this.request("/api/v1/qr/payment/confirm",{method:"POST",body:JSON.stringify({paymentId:r,otp:s})})).data}async getQRPaymentStatus(r){return(await this.request(`/api/v1/qr/payment/status/${r}`)).data}async generateQRCode(r,s,a){return(await this.request("/api/v1/qr/generate",{method:"POST",body:JSON.stringify({amount:r,merchantId:s,reference:a})})).data}async getQRServiceStatus(){return(await this.request("/api/v1/qr/status")).data}async getWalletDetails(){return(await this.request("/api/v1/wallets/details")).data}async sendWalletToWallet(r,s,a){const n=this.normalizeSAMobileNumber(r);return(await this.request("/api/v1/wallets/send",{method:"POST",body:JSON.stringify({receiverPhoneNumber:n,amount:s,description:a})})).data}async getWalletById(r){var a;return(a=(await this.request(`/api/v1/wallets/${r}`)).data)==null?void 0:a.wallet}async getBeneficiaries(){var s;return((s=(await this.request("/api/v1/beneficiaries")).data)==null?void 0:s.beneficiaries)||[]}async addBeneficiary(r){return(await this.request("/api/v1/beneficiaries",{method:"POST",body:JSON.stringify(r)})).data}async getAirtimeNetworks(){return(await this.request("/api/v1/airtime/networks")).data.networks}async getAirtimeVoucherValues(r){return(await this.request(`/api/v1/airtime/networks/${r}/voucher-values`)).data}async getAirtimeTopUpValues(r){return(await this.request(`/api/v1/airtime/networks/${r}/topup-values`)).data}async getEeziAirtimeValues(){return(await this.request("/api/v1/airtime/eezi-values")).data}async getGlobalServices(){return(await this.request("/api/v1/airtime/global-services")).data.services}async purchaseAirtimeVoucher(r,s,a){return(await this.request("/api/v1/airtime/purchase/voucher",{method:"POST",body:JSON.stringify({networkId:r,amount:s,recipientPhone:a})})).data}async purchaseAirtimeTopUp(r,s,a){return(await this.request("/api/v1/airtime/purchase/topup",{method:"POST",body:JSON.stringify({networkId:r,amount:s,recipientPhone:a})})).data}async purchaseEeziAirtime(r,s){return(await this.request("/api/v1/airtime/purchase/eezi",{method:"POST",body:JSON.stringify({amount:r,recipientPhone:s})})).data}async getVouchers(){var r,s,a,n;console.log("ðŸ” apiService.getVouchers() called");try{const o=await this.request("/api/v1/products?type=voucher");console.log("ðŸ“¡ Raw API response:",o),console.log("ðŸ“¦ Response data:",o.data),console.log("ðŸ“¦ Response data.products:",(s=(r=o.data)==null?void 0:r.data)==null?void 0:s.products);const x=(((n=(a=o.data)==null?void 0:a.data)==null?void 0:n.products)||[]).map(i=>{var h,f,m,l,p;return console.log("ðŸ”„ Transforming product:",i),{id:i.id.toString(),name:i.name.replace(/\s+Voucher$/,"").replace("HollywoodBets",`Hollywood
Bets`),brand:((h=i.brand)==null?void 0:h.name)||i.name,category:this.mapCategory(((f=i.brand)==null?void 0:f.category)||"voucher"),minAmount:((m=i.priceRange)==null?void 0:m.min)||0,maxAmount:((l=i.priceRange)==null?void 0:l.max)||0,icon:this.getVoucherIcon(i.name),description:((p=i.metadata)==null?void 0:p.description)||i.name,available:i.supplier!==null||i.name==="MMVoucher",featured:["MMVoucher","Netflix","Google Play","DStv","Betway"].includes(i.name),denominations:i.denominations||[]}});return console.log("âœ… Final transformed vouchers:",x),{vouchers:x}}catch(o){throw console.error("âŒ Error in getVouchers:",o),o}}async purchaseVoucher(r){return(await this.request("/api/v1/products/purchase",{method:"POST",body:JSON.stringify(r)})).data}async verifyMMWalletHolder(r){return(await this.request("/api/v1/wallets/verify",{method:"POST",body:JSON.stringify({phoneNumber:r})})).data}mapCategory(r){return{gaming:"Gaming",entertainment:"Entertainment",transport:"Transport",shopping:"Shopping",vouchers:"MyMoolah",music:"Entertainment"}[r.toLowerCase()]||"Entertainment"}getVoucherIcon(r){return{MMVoucher:"ðŸ’°","1Voucher":"ðŸ›’","OTT Voucher":"ðŸŽ¬","Betway Voucher":"ðŸŽ¯","HollywoodBets Voucher":"ðŸŽ°","YesPlay Voucher":"ðŸŽ²","DStv Voucher":"ðŸ“º","Netflix Voucher":"ðŸŽ­","Fifa Mobile Gift Card":"âš½","Intercape Voucher":"ðŸšŒ","Tenacity Voucher":"ðŸª","Google Play Voucher":"ðŸ“±","Steam Gift Card":"ðŸŽ®","PlayStation Gift Card":"ðŸŽ®","Xbox Gift Card":"ðŸŽ®","Nintendo Gift Card":"ðŸŽ®","Spotify Gift Card":"ðŸŽµ","Apple Music Gift Card":"ðŸŽµ"}[r]||"ðŸŽ"}async getUserFavorites(){return(await this.request("/api/v1/favorites")).data}async addToFavorites(r){return(await this.request("/api/v1/favorites/add",{method:"POST",body:JSON.stringify({productId:parseInt(r)})})).data}async removeFromFavorites(r){return(await this.request("/api/v1/favorites/remove",{method:"POST",body:JSON.stringify({productId:parseInt(r)})})).data}async toggleFavorite(r){return(await this.request("/api/v1/favorites/toggle",{method:"POST",body:JSON.stringify({productId:parseInt(r)})})).data}async checkFavorite(r){return(await this.request(`/api/v1/favorites/check/${r}`)).data}async getFavoritesCount(){return(await this.request("/api/v1/favorites/count")).data}}const Ge=new kc,Sc=he.API.baseUrl;class Mc{async request(r,s={}){try{const a=`${Sc}${r}`,n=Ee(),o={headers:{"Content-Type":"application/json",...n&&{Authorization:`Bearer ${n}`},...s.headers},...s},x=await fetch(a,o),i=await x.json();if(!x.ok)throw new Error(i.message||`HTTP ${x.status}`);return i}catch(a){throw console.error(`API Error (${r}):`,a),a}}async get(r,s){const a=s?`${r}?${new URLSearchParams(s)}`:r;return this.request(a)}async post(r,s){return this.request(r,{method:"POST",body:s?JSON.stringify(s):void 0})}async put(r,s){return this.request(r,{method:"PUT",body:s?JSON.stringify(s):void 0})}async delete(r){return this.request(r,{method:"DELETE"})}async patch(r,s){return this.request(r,{method:"PATCH",body:s?JSON.stringify(s):void 0})}}const Ye=new Mc,gt={async getPaymentBeneficiaries(t){const r=new URLSearchParams;return r.append("type","mymoolah"),r.append("type","bank"),t&&r.append("search",t),((await Ye.get(`/api/v1/beneficiaries?${r.toString()}`)).data.beneficiaries||[]).map(n=>{var o,x,i;return{...n,lastPaid:n.lastPaidAt?new Date(n.lastPaidAt):void 0,isFavorite:((o=n.metadata)==null?void 0:o.isFavorite)||!1,totalPaid:((x=n.metadata)==null?void 0:x.totalPaid)||0,paymentCount:n.timesPaid||0,avatar:(i=n.metadata)==null?void 0:i.avatar}})},async getAirtimeDataBeneficiaries(t){const r=new URLSearchParams;return r.append("type","airtime"),r.append("type","data"),t&&r.append("search",t),(await Ye.get(`/api/v1/beneficiaries?${r.toString()}`)).data.beneficiaries||[]},async getElectricityBeneficiaries(t){const r=new URLSearchParams;return r.append("type","electricity"),t&&r.append("search",t),(await Ye.get(`/api/v1/beneficiaries?${r.toString()}`)).data.beneficiaries||[]},async getBillPaymentBeneficiaries(t){const r=new URLSearchParams;return r.append("type","biller"),t&&r.append("search",t),(await Ye.get(`/api/v1/beneficiaries?${r.toString()}`)).data.beneficiaries||[]},async getVoucherBeneficiaries(t){return[]},async getAllBeneficiaries(t,r){const s=new URLSearchParams;return t&&s.append("type",t),r&&s.append("search",r),(await Ye.get(`/api/v1/beneficiaries?${s.toString()}`)).data.beneficiaries||[]},async searchBeneficiaries(t,r){const s=new URLSearchParams({q:t});return r&&s.append("type",r),(await Ye.get(`/api/v1/beneficiaries/search?${s.toString()}`)).data.beneficiaries||[]},async saveBeneficiary(t){return(await Ye.post("/api/v1/beneficiaries",t)).data},async updateBeneficiary(t,r){return(await Ye.put(`/api/v1/beneficiaries/${t}`,r)).data},async deleteBeneficiary(t){await Ye.delete(`/api/v1/beneficiaries/${t}`)},async removeBeneficiary(t){await Ye.delete(`/api/v1/beneficiaries/${t}`)}},Wt={async getBeneficiaries(t,r){let s;return t==="airtime"||t==="data"?s=await gt.getAirtimeDataBeneficiaries(r):t==="electricity"?s=await gt.getElectricityBeneficiaries(r):t==="biller"?s=await gt.getBillPaymentBeneficiaries(r):t==="mymoolah"||t==="bank"?s=await gt.getPaymentBeneficiaries(r):s=await gt.getAllBeneficiaries(t,r),s.map(a=>({id:a.id,name:a.name,identifier:a.identifier,accountType:a.accountType,bankName:a.bankName||void 0,metadata:a.metadata||{},lastPaidAt:a.lastPaidAt,timesPaid:a.timesPaid||0,createdAt:a.createdAt,updatedAt:a.updatedAt}))},async searchBeneficiaries(t,r){return(await gt.searchBeneficiaries(t,r)).map(a=>({id:a.id,name:a.name,identifier:a.identifier,accountType:a.accountType,bankName:a.bankName||void 0,metadata:a.metadata||{},lastPaidAt:a.lastPaidAt,timesPaid:a.timesPaid||0,createdAt:a.createdAt,updatedAt:a.updatedAt}))},async saveBeneficiary(t){const r=await gt.saveBeneficiary(t);return{id:r.id,name:r.name,identifier:r.identifier,accountType:r.accountType,bankName:r.bankName||void 0,metadata:r.metadata||{},lastPaidAt:r.lastPaidAt,timesPaid:r.timesPaid||0,createdAt:r.createdAt,updatedAt:r.updatedAt}},async updateBeneficiary(t,r){const s=await gt.updateBeneficiary(t,r);return{id:s.id,name:s.name,identifier:s.identifier,accountType:s.accountType,bankName:s.bankName||void 0,metadata:s.metadata||{},lastPaidAt:s.lastPaidAt,timesPaid:s.timesPaid||0,createdAt:s.createdAt,updatedAt:s.updatedAt}},async deleteBeneficiary(t){return await gt.deleteBeneficiary(t)},async removeBeneficiary(t){return await gt.removeBeneficiary(t)}},Ra={async getCatalog(t,r="ZA"){return(await Ye.get("/api/v1/overlay/airtime-data/catalog",{beneficiaryId:t,country:r})).data},async purchase(t){return(await Ye.post("/api/v1/overlay/airtime-data/purchase",t)).data}},za={async getCatalog(t){return(await Ye.get("/api/v1/overlay/electricity/catalog",{beneficiaryId:t})).data},async purchase(t){return(await Ye.post("/api/v1/overlay/electricity/purchase",t)).data}},$r={async searchBillers(t,r){const s=new URLSearchParams;return t&&s.append("q",t),r&&s.append("category",r),(await Ye.get(`/api/v1/overlay/bills/search?${s.toString()}`)).data.billers||[]},async getCategories(){return(await Ye.get("/api/v1/overlay/bills/categories")).data.categories||[]},async payBill(t){return(await Ye.post("/api/v1/overlay/bills/pay",t)).data}},Zs=()=>{const t=Date.now(),r=Math.random().toString(36).substr(2,9);return`overlay_user_${t}_${r}`},ar=t=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR"}).format(t),pr=t=>/^(\+27|27|0)[6-8][0-9]{8}$/.test(t),Nc=t=>t.length>=10&&/^\d+$/.test(t);class Pc{constructor(){Tr(this,"isDevelopment",!1);Tr(this,"isProduction",!0)}getVisibleLevels(){return this.isDevelopment?["debug","info","warn","error"]:this.isProduction?["warn","error"]:["info","warn","error"]}shouldLog(r){return this.getVisibleLevels().includes(r)}formatMessage(r){const s=new Date(r.timestamp).toISOString(),a=r.level.toUpperCase().padEnd(5),n=r.component.padEnd(20);let o=`[${s}] ${a} [${n}] ${r.message}`;return r.error&&(o+=`
Error: ${r.error.message}`,r.error.stack&&(o+=`
Stack: ${r.error.stack}`)),r.metadata&&Object.keys(r.metadata).length>0&&(o+=`
Metadata: ${JSON.stringify(r.metadata,null,2)}`),o}logToConsole(r){if(!this.shouldLog(r.level))return;const s=this.formatMessage(r);switch(r.level){case"debug":console.debug(s);break;case"info":console.info(s);break;case"warn":console.warn(s);break;case"error":console.error(s);break}}logToStorage(r){if(this.isDevelopment)try{const a=[...JSON.parse(localStorage.getItem("mymoolah_logs")||"[]"),r].slice(-100);localStorage.setItem("mymoolah_logs",JSON.stringify(a))}catch{}}debug(r,s,a){const n={timestamp:new Date().toISOString(),level:"debug",component:r,message:s,metadata:a};this.logToConsole(n),this.logToStorage(n)}info(r,s,a){const n={timestamp:new Date().toISOString(),level:"info",component:r,message:s,metadata:a};this.logToConsole(n),this.logToStorage(n)}warn(r,s,a){const n={timestamp:new Date().toISOString(),level:"warn",component:r,message:s,metadata:a};this.logToConsole(n),this.logToStorage(n)}error(r,s,a,n){const o={timestamp:new Date().toISOString(),level:"error",component:r,message:s,error:a,metadata:n};this.logToConsole(o),this.logToStorage(o)}logError(r,s,a,n){this.error(r,`${s}: ${a.message}`,a,n)}getStoredLogs(){try{return JSON.parse(localStorage.getItem("mymoolah_logs")||"[]")}catch{return[]}}clearStoredLogs(){try{localStorage.removeItem("mymoolah_logs")}catch{}}}const Rc=new Pc,wt=(t,r,s,a)=>Rc.error(t,r,s,a),zc=_s("inline-flex items-center justify-center rounded-md border px-2 py-0.5 text-xs font-medium w-fit whitespace-nowrap shrink-0 [&>svg]:size-3 gap-1 [&>svg]:pointer-events-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive transition-[color,box-shadow] overflow-hidden",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground [a&]:hover:bg-primary/90",secondary:"border-transparent bg-secondary text-secondary-foreground [a&]:hover:bg-secondary/90",destructive:"border-transparent bg-destructive text-white [a&]:hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"text-foreground [a&]:hover:bg-accent [a&]:hover:text-accent-foreground"}},defaultVariants:{variant:"default"}});function De({className:t,variant:r,asChild:s=!1,...a}){const n=s?qa:"span";return e.jsx(n,{"data-slot":"badge",className:pe(zc({variant:r}),t),...a})}function nt({...t}){return e.jsx(ei,{"data-slot":"select",...t})}function ot({...t}){return e.jsx(ti,{"data-slot":"select-value",...t})}function it({className:t,size:r="default",children:s,...a}){return e.jsxs(ri,{"data-slot":"select-trigger","data-size":r,className:pe("border-input data-[placeholder]:text-muted-foreground [&_svg:not([class*='text-'])]:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 dark:hover:bg-input/50 flex w-full items-center justify-between gap-2 rounded-md border bg-input-background px-3 py-2 text-sm whitespace-nowrap transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 data-[size=default]:h-9 data-[size=sm]:h-8 *:data-[slot=select-value]:line-clamp-1 *:data-[slot=select-value]:flex *:data-[slot=select-value]:items-center *:data-[slot=select-value]:gap-2 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...a,children:[s,e.jsx(si,{asChild:!0,children:e.jsx(Dn,{className:"size-4 opacity-50"})})]})}function xt({className:t,children:r,position:s="popper",...a}){return e.jsx(ai,{children:e.jsxs(ni,{"data-slot":"select-content",className:pe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 relative z-50 max-h-(--radix-select-content-available-height) min-w-[8rem] origin-(--radix-select-content-transform-origin) overflow-x-hidden overflow-y-auto rounded-md border shadow-md",s==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:s,...a,children:[e.jsx(Tc,{}),e.jsx(oi,{className:pe("p-1",s==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)] scroll-my-1"),children:r}),e.jsx(Ic,{})]})})}function Be({className:t,children:r,...s}){return e.jsxs(ii,{"data-slot":"select-item",className:pe("focus:bg-accent focus:text-accent-foreground [&_svg:not([class*='text-'])]:text-muted-foreground relative flex w-full cursor-default items-center gap-2 rounded-sm py-1.5 pr-8 pl-2 text-sm outline-hidden select-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4 *:[span]:last:flex *:[span]:last:items-center *:[span]:last:gap-2",t),...s,children:[e.jsx("span",{className:"absolute right-2 flex size-3.5 items-center justify-center",children:e.jsx(xi,{children:e.jsx(Me,{className:"size-4"})})}),e.jsx(li,{children:r})]})}function Tc({className:t,...r}){return e.jsx(ci,{"data-slot":"select-scroll-up-button",className:pe("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(cx,{className:"size-4"})})}function Ic({className:t,...r}){return e.jsx(di,{"data-slot":"select-scroll-down-button",className:pe("flex cursor-default items-center justify-center py-1",t),...r,children:e.jsx(Dn,{className:"size-4"})})}var is="Switch",[Wc,Qu]=Ar(is),[_c,$c]=Wc(is),Ln=d.forwardRef((t,r)=>{const{__scopeSwitch:s,name:a,checked:n,defaultChecked:o,required:x,disabled:i,value:h="on",onCheckedChange:f,form:m,...l}=t,[p,E]=d.useState(null),c=ir(r,j=>E(j)),g=d.useRef(!1),u=p?m||!!p.closest("form"):!0,[y,F]=es({prop:n,defaultProp:o??!1,onChange:f,caller:is});return e.jsxs(_c,{scope:s,checked:y,disabled:i,children:[e.jsx(et.button,{type:"button",role:"switch","aria-checked":y,"aria-required":x,"data-state":Hn(y),"data-disabled":i?"":void 0,disabled:i,value:h,...l,ref:c,onClick:yt(t.onClick,j=>{F(w=>!w),u&&(g.current=j.isPropagationStopped(),g.current||j.stopPropagation())})}),u&&e.jsx(Un,{control:p,bubbles:!g.current,name:a,value:h,checked:y,required:x,disabled:i,form:m,style:{transform:"translateX(-100%)"}})]})});Ln.displayName=is;var On="SwitchThumb",Vn=d.forwardRef((t,r)=>{const{__scopeSwitch:s,...a}=t,n=$c(On,s);return e.jsx(et.span,{"data-state":Hn(n.checked),"data-disabled":n.disabled?"":void 0,...a,ref:r})});Vn.displayName=On;var Lc="SwitchBubbleInput",Un=d.forwardRef(({__scopeSwitch:t,control:r,checked:s,bubbles:a=!0,...n},o)=>{const x=d.useRef(null),i=ir(x,o),h=Za(s),f=Qa(r);return d.useEffect(()=>{const m=x.current;if(!m)return;const l=window.HTMLInputElement.prototype,E=Object.getOwnPropertyDescriptor(l,"checked").set;if(h!==s&&E){const c=new Event("click",{bubbles:a});E.call(m,s),m.dispatchEvent(c)}},[h,s,a]),e.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:s,...n,tabIndex:-1,ref:i,style:{...n.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})});Un.displayName=Lc;function Hn(t){return t?"checked":"unchecked"}var Oc=Ln,Vc=Vn;function Er({className:t,...r}){return e.jsx(Oc,{"data-slot":"switch",className:pe("peer data-[state=checked]:bg-primary data-[state=unchecked]:bg-switch-background focus-visible:border-ring focus-visible:ring-ring/50 dark:data-[state=unchecked]:bg-input/80 inline-flex h-[1.15rem] w-8 shrink-0 items-center rounded-full border border-transparent transition-all outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(Vc,{"data-slot":"switch-thumb",className:pe("bg-card dark:data-[state=unchecked]:bg-card-foreground dark:data-[state=checked]:bg-primary-foreground pointer-events-none block size-4 rounded-full ring-0 transition-transform data-[state=checked]:translate-x-[calc(100%-2px)] data-[state=unchecked]:translate-x-0")})})}function qn({className:t,...r}){return e.jsx("textarea",{"data-slot":"textarea",className:pe("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...r})}function Zr({isOpen:t,onClose:r,onConfirm:s,title:a,message:n,confirmText:o="Yes, remove",cancelText:x="Cancel",type:i="danger",beneficiaryName:h}){if(!t)return null;const m=(()=>{switch(i){case"danger":return{iconColor:"#dc2626",iconBg:"#fef2f2",borderColor:"#fecaca",confirmBg:"#dc2626",confirmHover:"#b91c1c"};case"warning":return{iconColor:"#f59e0b",iconBg:"#fffbeb",borderColor:"#fed7aa",confirmBg:"#f59e0b",confirmHover:"#d97706"};default:return{iconColor:"#3b82f6",iconBg:"#eff6ff",borderColor:"#bfdbfe",confirmBg:"#3b82f6",confirmHover:"#2563eb"}}})();return e.jsxs("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:[e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:`1px solid ${m.borderColor}`,borderRadius:"16px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",maxWidth:"400px",width:"100%",animation:"slideIn 0.2s ease-out"},children:[e.jsxs(Ae,{style:{padding:"1.5rem 1.5rem 0.5rem 1.5rem",textAlign:"center"},children:[e.jsx("div",{style:{width:"64px",height:"64px",backgroundColor:m.iconBg,borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 1rem",border:`2px solid ${m.borderColor}`},children:e.jsx(Ie,{style:{width:"32px",height:"32px",color:m.iconColor}})}),e.jsx("h2",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:"0 0 0.5rem 0"},children:a}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",lineHeight:"1.5",margin:0},children:[n,h&&e.jsxs("span",{style:{fontWeight:"600",color:"#1f2937"},children:[" ",h,"?"]})]})]}),e.jsx(ce,{style:{padding:"0 1.5rem 1.5rem 1.5rem"},children:e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"1.5rem"},children:[e.jsx(O,{variant:"outline",onClick:r,style:{flex:"1",minHeight:"48px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",border:"1px solid #e2e8f0",color:"#6b7280",borderRadius:"12px",backgroundColor:"#ffffff",transition:"all 0.2s ease"},onMouseEnter:l=>{l.currentTarget.style.borderColor="#d1d5db",l.currentTarget.style.backgroundColor="#f9fafb"},onMouseLeave:l=>{l.currentTarget.style.borderColor="#e2e8f0",l.currentTarget.style.backgroundColor="#ffffff"},children:x}),e.jsx(O,{onClick:()=>{s(),r()},style:{flex:"1",minHeight:"48px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",backgroundColor:m.confirmBg,color:"#ffffff",border:"none",borderRadius:"12px",transition:"all 0.2s ease"},onMouseEnter:l=>{l.currentTarget.style.backgroundColor=m.confirmHover},onMouseLeave:l=>{l.currentTarget.style.backgroundColor=m.confirmBg},children:o})]})})]}),e.jsx(O,{variant:"ghost",onClick:r,style:{position:"absolute",top:"1rem",right:"1rem",width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"rgba(255, 255, 255, 0.9)",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:l=>{l.currentTarget.style.backgroundColor="rgba(255, 255, 255, 1)",l.currentTarget.style.transform="scale(1.1)"},onMouseLeave:l=>{l.currentTarget.style.backgroundColor="rgba(255, 255, 255, 0.9)",l.currentTarget.style.transform="scale(1)"},children:e.jsx(je,{style:{width:"20px",height:"20px",color:"#6b7280"}})})]})}const Uc=({isOpen:t,onClose:r,title:s="Error",message:a,type:n="error",showCloseButton:o=!0})=>{const x=()=>{switch(n){case"error":return"text-red-500";case"warning":return"text-yellow-500";case"info":return"text-blue-500";default:return"text-red-500"}},i=()=>{switch(n){case"error":return"bg-red-500 hover:bg-red-600";case"warning":return"bg-yellow-500 hover:bg-yellow-600";case"info":return"bg-blue-500 hover:bg-blue-600";default:return"bg-red-500 hover:bg-red-600"}};return e.jsx(Le,{open:t,onOpenChange:r,children:e.jsxs(_e,{className:"max-w-sm mx-auto","aria-describedby":"error-modal-description",children:[e.jsxs(Ve,{children:[e.jsxs(Ue,{className:"flex items-center gap-2",children:[e.jsx(nr,{className:`w-5 h-5 ${x()}`}),s]}),e.jsx("div",{id:"error-modal-description",className:"sr-only",children:a}),o&&e.jsx(O,{variant:"ghost",size:"sm",className:"absolute right-4 top-4 h-6 w-6 p-0",onClick:r,children:e.jsx(je,{className:"h-4 w-4"})})]}),e.jsx("div",{className:"py-4",children:e.jsx("p",{className:"text-sm text-gray-600 leading-relaxed",children:a})}),e.jsx("div",{className:"flex justify-end",children:e.jsx(O,{onClick:r,className:`${i()} text-white`,children:"OK"})})]})})},bs=[{code:"ABSA",name:"ABSA Bank"},{code:"FNB",name:"First National Bank"},{code:"NEDBANK",name:"Nedbank"},{code:"STANDARD",name:"Standard Bank"},{code:"CAPITEC",name:"Capitec Bank"},{code:"DISCOVERY",name:"Discovery Bank"},{code:"INVESTEC",name:"Investec Bank"},{code:"AFRICAN",name:"African Bank"},{code:"BIDVEST",name:"Bidvest Bank"},{code:"POSTBANK",name:"Postbank"}];function Hc(){const t=Ne(),{requiresKYC:r,user:s}=Ze(),a=(s==null?void 0:s.id)||"1",n=8,o="TX",x=20,i="ZAR",h=50,f=(W,V,xe="error")=>{mt({title:W,message:V,type:xe}),ze(!0)},[m,l]=d.useState([]),p=async()=>{try{const V={Authorization:`Bearer ${Ee()}`,"Content-Type":"application/json"},xe=await fetch(`${he.API.baseUrl}/api/v1/wallets/transactions?limit=${h}`,{headers:V});if(xe.ok){const Ce=await xe.json();if(Ce.success&&Ce.data){const ve=(Array.isArray(Ce.data)?Ce.data:Ce.data.transactions||[]).map(le=>{var qe,Te,We;const Rt=["deposit","received","refund"].includes(le.type),Ft=Rt?"received":"sent";return{id:le.id||`tx_${le.transactionId}`,type:Ft,amount:Rt?Math.abs(le.amount):-Math.abs(le.amount),currency:le.currency||i,description:le.description||"Transaction",date:new Date(le.createdAt||le.date).toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),timestamp:new Date(le.createdAt||le.date).toISOString(),status:le.status||"completed",counterparty:((qe=le.metadata)==null?void 0:qe.counterpartyIdentifier)||"Unknown",senderWalletId:le.senderWalletId||((Te=le.metadata)==null?void 0:Te.senderWalletId),receiverWalletId:le.receiverWalletId||((We=le.metadata)==null?void 0:We.receiverWalletId),metadata:le.metadata||{}}});l(ve)}}}catch(W){wt("SendMoneyPage","Failed to fetch transactions",W)}};d.useEffect(()=>{p(),er()},[]);const[E,c]=d.useState([]),[g,u]=d.useState(""),[y,F]=d.useState("lastPaid"),[j,w]=d.useState("all"),[M,R]=d.useState(!1);d.useState(null),d.useState(null),d.useState(null),d.useState(!1),d.useState(!1),d.useState(!1),d.useState(null),d.useState(null);const[D,b]=d.useState(!1),[P,v]=d.useState(!1),[T,I]=d.useState(!1),[B,N]=d.useState(null),[C,L]=d.useState("mymoolah"),[S,A]=d.useState({name:"",msisdn:"",identifier:"",bankName:"",accountNumber:""}),[z,$]=d.useState(!1),[_,Q]=d.useState(null),[ee,G]=d.useState(!1),[H,se]=d.useState(null),[q,re]=d.useState(!1),[K,Y]=d.useState(null),[ae,be]=d.useState(!1),[ne,ue]=d.useState(null),[me,ze]=d.useState(!1),[He,mt]=d.useState({title:"Error",message:"",type:"error"}),[k,Z]=d.useState(""),[te,U]=d.useState(""),[de,Xe]=d.useState(""),[ht,Jt]=d.useState(!1),[Pt,ye]=d.useState(!1),[dt,tt]=d.useState(!1),[dr,fs]=d.useState("R0.00"),er=async()=>{var W;try{const V=Ee();if(!V)return;const xe=await fetch(`${he.API.baseUrl}/api/v1/wallets/balance`,{headers:{Authorization:`Bearer ${V}`,"Content-Type":"application/json"}});if(xe.ok){const Ce=await xe.json();if(Ce.success&&((W=Ce.data)!=null&&W.balance)){const ve=parseFloat(Ce.data.balance).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2});fs(`R${ve}`)}}}catch(V){wt("SendMoneyPage","Failed to fetch wallet balance",V)}},Rr=d.useMemo(()=>m.map(W=>{const V=Te=>{switch(Te){case"sent":return"send";case"received":return"receive";case"payment":return"payment";case"deposit":return"deposit";default:return"send"}},xe=String(W.description||""),Ce=W.type==="received",rt=W.type==="sent"||W.type==="payment";let ve=xe||"Transaction";if(W.description&&W.description.toLowerCase().includes("voucher")){const Te=W.description.match(/(\d{12,16})/);if(Te){const We=Te[1];let ft;We.length===14?ft=We.slice(0,1)+" "+We.slice(1,5)+" "+We.slice(5,9)+" "+We.slice(9,13)+" "+We.slice(13):We.length===16?ft=We.slice(0,4)+" "+We.slice(4,8)+" "+We.slice(8,12)+" "+We.slice(12):ft=We.slice(0,4)+" "+We.slice(4,8)+" "+We.slice(8),W.description.toLowerCase().includes("purchase")?ve=`Voucher purchase: ${ft}`:W.description.toLowerCase().includes("redemption")?ve=`Voucher redemption: ${ft}`:ve=`Voucher transaction: ${ft}`}else W.description.toLowerCase().includes("purchase")?ve="Voucher purchase":W.description.toLowerCase().includes("redemption")?ve="Voucher redemption":ve="Voucher transaction"}else if(rt){const Te=xe.match(/sent to\s+([^|]+)/i)||xe.match(/payment to\s+([^|]+)/i),We=Te&&Te[1]?Te[1].trim():xe.trim(),ft=xe.match(/ref\s*:\s*([^|]+)/i);ft&&ft[1].trim().slice(0,20),ve=We}else if(Ce){const Te=xe.match(/received from\s+([^|]+)/i);if(Te&&Te[1]){const We=Te[1].trim(),ft=xe.match(/ref\s*:\s*([^|]+)/i);ft&&ft[1].trim().slice(0,20),ve=We}}const le=xe||"Transaction",Rt=/external bank|bank transfer|absa|nedbank|standard bank|fnb|capitec|investec|discovery bank|african bank|bidvest bank|postbank|paygate|payfast|paypal/i.test(xe),Ft=/sent to|payment to|transfer to|received from|\|/i.test(xe)||!!W.senderWalletId||!!W.receiverWalletId,qe=Rt&&!Ft?"bank":"mymoolah";return{id:String(W.id||Date.now()),beneficiaryName:ve,amount:Ce?Number(W.amount||0):-Math.abs(Number(W.amount||0)),date:new Date(W.timestamp||Date.now()),status:W.status||"completed",reference:W.id||"",accountType:qe,description:le,kind:rt?"send":"other",receiverWalletId:W.receiverWalletId,senderWalletId:W.senderWalletId,type:V(W.type),metadata:{}}}),[m]);d.useEffect(()=>{r("send")&&t("/kyc/documents?returnTo=/send-money")},[r,t]),d.useEffect(()=>{(async()=>{try{try{const Ce=JSON.parse(localStorage.getItem("mymoolah_contacts")||"[]").filter(ve=>ve.userId===a).map((ve,le)=>({id:String(le+1),name:ve.name,identifier:ve.identifier,accountType:ve.accountType,userId:ve.userId||a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),timesPaid:ve.paymentCount||0,lastPaid:ve.lastPaid?new Date(ve.lastPaid):void 0,isFavorite:ve.isFavorite||!1,totalPaid:ve.totalPaid||0,paymentCount:ve.paymentCount||0}));let rt=[];try{rt=(await gt.getPaymentBeneficiaries()).map((le,Rt)=>{var Ft,qe;return{id:`b-${le.id||Rt}`,name:le.name,msisdn:le.msisdn||"",identifier:le.identifier,accountType:le.accountType==="bank"?"bank":"mymoolah",userId:le.userId||a,createdAt:le.createdAt||new Date().toISOString(),updatedAt:le.updatedAt||new Date().toISOString(),timesPaid:le.timesPaid||0,lastPaid:le.lastPaidAt?new Date(le.lastPaidAt):void 0,isFavorite:((Ft=le.metadata)==null?void 0:Ft.isFavorite)||!1,totalPaid:((qe=le.metadata)==null?void 0:qe.totalPaid)||0,paymentCount:le.timesPaid||0,bankName:le.bankName||""}})}catch{}c([...rt,...Ce])}catch(V){wt("SendMoneyPage","Failed to load saved contacts",V)}}catch(V){wt("SendMoneyPage","Failed to load initial data",V)}})()},[]),d.useMemo(()=>Rr.filter(V=>String(V.description||"").toLowerCase().includes("voucher")?!1:j==="bank"?V.accountType==="bank":j==="mymoolah"?V.accountType==="mymoolah":!0).sort((V,xe)=>xe.date.getTime()-V.date.getTime()).slice(0,10),[Rr,j]);const fr=W=>{L(W.accountType),W.accountType==="mymoolah"?A(V=>({...V,name:W.name,identifier:W.identifier,msisdn:W.identifier,bankName:"",accountNumber:""})):A(V=>({...V,name:W.name,identifier:W.identifier,bankName:W.bankName||"",accountNumber:W.identifier})),Z(""),Xe(""),U(""),R(!0),v(!0)},us=d.useMemo(()=>{let W=E.filter(V=>{const xe=V.name.toLowerCase().includes(g.toLowerCase())||V.identifier.includes(g)||V.msisdn&&V.msisdn.includes(g),Ce=j==="all"||V.accountType===j;return xe&&Ce});return W.sort((V,xe)=>{switch(y){case"alphabetical":return V.name.localeCompare(xe.name);case"lastPaid":if(!V.lastPaid&&!xe.lastPaid)return V.name.localeCompare(xe.name);if(!V.lastPaid)return 1;if(!xe.lastPaid)return-1;const Ce=xe.lastPaid.getTime()-V.lastPaid.getTime();return Ce!==0?Ce:(xe.paymentCount||0)-(V.paymentCount||0);case"favorite":return V.isFavorite===xe.isFavorite?V.name.localeCompare(xe.name):V.isFavorite?-1:1;default:return 0}}),W},[E,g,y,j]),_o=async()=>{if(!S.name||!S.msisdn){f("Validation Error","Please fill in all required fields: Name and Mobile Number (MSISDN)","warning");return}if(C==="bank"&&(!S.bankName||!S.identifier)){f("Validation Error","For bank payments, please also select a bank and enter the account number","warning");return}if(!pr(S.msisdn)){f("Validation Error","Invalid South African mobile number format. Please enter a valid mobile number (e.g., 078 123 4567)","warning");return}try{const W={id:Date.now().toString(),name:S.name,msisdn:S.msisdn,identifier:C==="mymoolah"?S.msisdn:S.identifier,accountType:C,userId:a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),timesPaid:0,bankName:C==="bank"?S.bankName:void 0,lastPaid:void 0,isFavorite:!1,totalPaid:0,paymentCount:0};c(V=>[...V,W]),A({name:"",msisdn:"",identifier:"",bankName:"",accountNumber:""}),b(!1),se(W),G(!0)}catch(W){wt("SendMoneyPage","Failed to add beneficiary",W),f("Error",(W==null?void 0:W.message)||"Failed to add beneficiary. Please try again.","error")}},$o=W=>{Y(W),re(!0)},Lo=W=>{ue(W),be(!0)},Oo=async()=>{if(ne)try{c(W=>W.filter(V=>V.id!==ne.id)),(_==null?void 0:_.id)===ne.id&&Q(null),ue(null),be(!1)}catch(W){wt("SendMoneyPage","Failed to remove beneficiary",W),f("Error","Failed to remove beneficiary. Please try again.","error")}},Vo=async()=>{var W;if(!S.name||!S.msisdn||!k){f("Validation Error","Please fill in all required fields: Name, Mobile Number (MSISDN), and Amount","warning");return}if(C==="bank"&&(!S.bankName||!S.identifier)){f("Validation Error","For bank payments, please also select a bank and enter the account number","warning");return}if(!pr(S.msisdn)){f("Validation Error","Invalid South African mobile number format. Please enter a valid mobile number (e.g., 078 123 4567)","warning");return}if(C==="bank"){if(dt&&S.name&&S.identifier)try{await Ge.addBeneficiary({name:S.name,identifier:S.identifier,accountType:C,bankName:S.bankName||void 0});const V={id:`b-${Date.now()}`,name:S.name,msisdn:S.msisdn,identifier:S.identifier,accountType:"bank",userId:a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),timesPaid:0,bankName:S.bankName||"",lastPaid:void 0,isFavorite:!1,totalPaid:0,paymentCount:0};c(xe=>{const Ce=xe.filter(rt=>!(rt.accountType==="bank"&&rt.identifier===V.identifier));return[V,...Ce]}),f("Success","Beneficiary saved. Bank payments will be enabled soon.","info")}catch(V){f("Error",(V==null?void 0:V.message)||"Failed to save beneficiary","error")}else f("Info","Bank payments will be enabled soon. Please choose MyMoolah account for now.","info");return}ye(!0);try{const V=(de||"").trim().slice(0,20),xe=(te||"").trim(),Ce=[V?`Ref:${V}`:"",xe].filter(Boolean).join(" - ")||void 0,rt=(W=S.name)==null?void 0:W.trim(),ve=[V?`Ref:${V}`:void 0,xe||void 0].filter(Boolean).join(" | "),le=await Ge.sendWalletToWallet(S.identifier,parseFloat(k),ve),Rt={id:le&&le.transactionId?String(le.transactionId):Date.now().toString(),beneficiaryName:S.name,amount:-parseFloat(k),date:new Date,status:"completed",reference:le==null?void 0:le.transactionId,accountType:"mymoolah",description:`${S.name} | Ref:${de||"Payment"}`,kind:"send",type:"send",metadata:{}};await p(),v(!1),E.some(qe=>qe.accountType==="mymoolah"&&qe.identifier===S.identifier)?(c(qe=>qe.map(Te=>Te.accountType==="mymoolah"&&Te.identifier===S.identifier?{...Te,lastPaid:new Date,totalPaid:Te.totalPaid+parseFloat(k),paymentCount:Te.paymentCount+1}:Te)),f("Success",`Payment of ${zr(parseFloat(k))} sent successfully to ${S.name}!`,"info")):(N({name:S.name,identifier:S.identifier,accountType:"mymoolah"}),I(!0)),A({name:"",msisdn:"",identifier:"",bankName:"",accountNumber:""}),Z(""),U(""),Xe(""),Jt(!1),R(!1)}catch(V){wt("SendMoneyPage","Pay Now payment failed",V),f("Error",(V==null?void 0:V.message)||"Payment failed. Please try again.","error")}finally{ye(!1)}},Uo=W=>{if(W.accountType==="mymoolah"&&W.identifier===a.toString()){wt("SendMoneyPage","User attempted to add themselves as beneficiary",new Error("Self-beneficiary not allowed"));return}const V={id:Date.now().toString(),name:W.name,msisdn:W.accountType==="mymoolah"?W.identifier:"",identifier:W.identifier,accountType:W.accountType,userId:a,createdAt:new Date().toISOString(),updatedAt:new Date().toISOString(),timesPaid:1,lastPaid:new Date,isFavorite:!1,totalPaid:0,paymentCount:1};c(xe=>[V,...xe]);try{const xe=JSON.parse(localStorage.getItem("mymoolah_contacts")||"[]"),Ce=[{name:W.name,identifier:W.identifier,accountType:W.accountType,userId:a,lastPaid:new Date().toISOString(),isFavorite:!1,totalPaid:0,paymentCount:1},...xe.filter(rt=>rt.identifier!==W.identifier)];localStorage.setItem("mymoolah_contacts",JSON.stringify(Ce))}catch{}},Ho=async()=>{var W;if(!(!_||!k)){ye(!0);try{const V=(de||"").trim().slice(0,x),xe=(te||"").trim(),Ce=[V?`Ref:${V}`:"",xe].filter(Boolean).join(" - ")||void 0,rt=(W=_.name)==null?void 0:W.trim(),ve=[V?`Ref:${V}`:void 0,xe||void 0].filter(Boolean).join(" | "),le=await Ge.sendWalletToWallet(_.identifier,parseFloat(k),ve),Rt={id:le&&le.transactionId?String(le.transactionId):Date.now().toString(),beneficiaryId:_.id,beneficiaryName:_.name,amount:-parseFloat(k),date:new Date,status:"completed",reference:(le==null?void 0:le.transactionId)||`${o}${Date.now().toString().slice(-n)}`,accountType:_.accountType,description:`Sent to ${_.name}`,type:"send"};await p(),c(Ft=>Ft.map(qe=>qe.id===_.id?{...qe,lastPaid:new Date,totalPaid:qe.totalPaid+parseFloat(k),paymentCount:qe.paymentCount+1}:qe)),Z(""),U(""),Xe(""),Jt(!1),$(!1),Q(null),f("Success",`Payment of ${zr(parseFloat(k))} sent successfully to ${_.name}!`,"info")}catch(V){wt("SendMoneyPage","Payment processing failed",V),f("Error",(V==null?void 0:V.message)||"Payment failed. Please try again.","error")}finally{ye(!1)}}},zr=W=>{if(!W&&W!==0)return"R 0.00";const V=W.toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2});return W<0?`R -${Math.abs(W).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`R ${V}`},qo=W=>W.toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"}),fa=W=>W==="mymoolah"?e.jsxs(De,{className:"bg-[#86BE41]/10 text-[#86BE41] border-[#86BE41]/20",style:{fontSize:"10px"},children:[e.jsx(ut,{className:"w-3 h-3 mr-1"}),"MyMoolah"]}):e.jsxs(De,{className:"bg-[#2D8CCA]/10 text-[#2D8CCA] border-[#2D8CCA]/20",style:{fontSize:"10px"},children:[e.jsx(gr,{className:"w-3 h-3 mr-1"}),"Bank"]});return e.jsxs("div",{style:{backgroundColor:"#ffffff",minHeight:"100vh",fontFamily:"Montserrat, sans-serif"},children:[e.jsxs("div",{style:{backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",padding:"16px",display:"flex",alignItems:"center",position:"relative"},children:[e.jsx("button",{onClick:()=>t("/transact"),style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background-color 0.2s ease",padding:"0",minHeight:"44px",minWidth:"44px",position:"absolute",left:"16px",zIndex:1},onMouseOver:W=>W.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:W=>W.currentTarget.style.backgroundColor="transparent",children:e.jsx(Re,{style:{width:"20px",height:"20px",color:"#6b7280"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937",margin:"0",textAlign:"center",width:"100%"},children:"Send Money"}),e.jsx("div",{style:{position:"absolute",right:"16px",display:"flex",alignItems:"center",justifyContent:"center",height:"44px"},children:e.jsx(De,{style:{backgroundColor:"#86BE41",color:"#ffffff",fontFamily:"Montserrat, sans-serif",fontSize:"9.18px",fontWeight:"600",padding:"3.06px 6.12px",borderRadius:"9.18px",border:"none",whiteSpace:"nowrap"},children:dr})})]}),e.jsx("div",{style:{padding:"16px",backgroundColor:"#ffffff"},children:e.jsxs("div",{style:{display:"flex",gap:"12px",marginBottom:"16px"},children:[e.jsxs("div",{style:{flex:1,position:"relative"},children:[e.jsx(Lt,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#9ca3af"}}),e.jsx(ie,{placeholder:"Search beneficiaries",value:g,onChange:W=>u(W.target.value),style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"44px",paddingLeft:"40px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"#ffffff"}})]}),e.jsxs(Le,{open:D,onOpenChange:b,children:[e.jsx(Ht,{asChild:!0,children:e.jsxs(O,{style:{backgroundColor:"#86BE41",color:"#ffffff",border:"none",borderRadius:"8px",padding:"0 16px",height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"500",display:"flex",alignItems:"center",gap:"8px",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseOver:W=>W.currentTarget.style.backgroundColor="#7AB139",onMouseOut:W=>W.currentTarget.style.backgroundColor="#86BE41",children:[e.jsx(Xr,{style:{width:"16px",height:"16px"}}),"Add"]})}),e.jsxs(_e,{className:"max-w-sm mx-auto","aria-describedby":"add-beneficiary-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif"},children:"Add New Beneficiary"}),e.jsx("div",{id:"add-beneficiary-description",className:"sr-only",children:"Add a new beneficiary for future payments"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Account Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(O,{variant:C==="mymoolah"?"default":"outline",onClick:()=>L("mymoolah"),className:`h-16 flex-col ${C==="mymoolah"?"bg-[#86BE41] text-white border-[#86BE41]":"border-gray-200"}`,children:[e.jsx(ut,{className:"w-5 h-5 mb-1"}),e.jsx("span",{style:{fontSize:"var(--mobile-font-small)"},children:"MyMoolah"})]}),e.jsxs(O,{variant:C==="bank"?"default":"outline",onClick:()=>L("bank"),className:`h-16 flex-col ${C==="bank"?"bg-[#2D8CCA] text-white border-[#2D8CCA]":"border-gray-200"}`,children:[e.jsx(gr,{className:"w-5 h-5 mb-1"}),e.jsx("span",{style:{fontSize:"var(--mobile-font-small)"},children:"Bank"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Beneficiary Name"}),e.jsx(ie,{placeholder:"Enter full name",value:S.name,onChange:W=>A(V=>({...V,name:W.target.value})),style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"}})]}),e.jsxs("div",{children:[e.jsxs(X,{style:{fontFamily:"Montserrat, sans-serif"},children:[C==="mymoolah"?"Mobile Number (Account Number)":"Mobile Number (MSISDN)"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(ie,{placeholder:"e.g., 078 123 4567",value:C==="mymoolah"&&S.identifier||S.msisdn,onChange:W=>{const xe=W.target.value.replace(/[^\d\s\-]/g,"");A(C==="mymoolah"?Ce=>({...Ce,identifier:xe,msisdn:xe}):Ce=>({...Ce,msisdn:xe}))},style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"},className:"font-mono"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280",marginTop:"0.5rem"},children:C==="mymoolah"?"This mobile number is their MyMoolah account number":"Required for FICA compliance and verification"}),C==="mymoolah"&&(S.identifier||S.msisdn)&&(()=>{const W=S.identifier||S.msisdn;return pr(W)?e.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"âœ“ Valid mobile number"})}):e.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md",children:[e.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Invalid mobile number format"}),e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please enter a valid South African mobile number (e.g., 078 123 4567)"})]})})()]}),C==="bank"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Bank"}),e.jsxs(nt,{value:S.bankName,onValueChange:W=>A(V=>({...V,bankName:W})),children:[e.jsx(it,{style:{height:"var(--mobile-touch-target)"},children:e.jsx(ot,{placeholder:"Select bank"})}),e.jsx(xt,{children:bs.map(W=>e.jsx(Be,{value:W.name,children:W.name},W.code))})]})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Account Number"}),e.jsx(ie,{placeholder:"Enter account number",value:S.identifier,onChange:W=>A(V=>({...V,identifier:W.target.value})),style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"}})]})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(O,{variant:"outline",onClick:()=>b(!1),className:"flex-1",children:"Cancel"}),e.jsx(O,{onClick:_o,disabled:!S.name||!S.msisdn,className:"flex-1 bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] text-white",children:"Add Beneficiary"})]})]})]})]})]})}),e.jsx("div",{style:{padding:"16px",backgroundColor:"#f9fafb",borderBottom:"1px solid #e5e7eb"},children:e.jsxs("div",{style:{display:"flex",gap:"12px",alignItems:"center"},children:[e.jsxs(nt,{value:y,onValueChange:W=>F(W),children:[e.jsx(it,{style:{flex:1,height:"44px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"#ffffff",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)"},children:e.jsx(ot,{})}),e.jsxs(xt,{children:[e.jsx(Be,{value:"lastPaid",children:"Most Recent Activity"}),e.jsx(Be,{value:"alphabetical",children:"Alphabetical"}),e.jsx(Be,{value:"favorite",children:"Favorites First"})]})]}),e.jsxs(nt,{value:j,onValueChange:W=>w(W),children:[e.jsx(it,{style:{flex:1,height:"44px",border:"1px solid #d1d5db",borderRadius:"8px",backgroundColor:"#ffffff",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)"},children:e.jsx(ot,{})}),e.jsxs(xt,{children:[e.jsx(Be,{value:"all",children:"Show All"}),e.jsx(Be,{value:"mymoolah",children:"MyMoolah Only"}),e.jsx(Be,{value:"bank",children:"Bank Only"})]})]})]})}),e.jsxs("div",{style:{padding:"16px"},children:[e.jsxs("div",{style:{display:"flex",backgroundColor:"#f3f4f6",borderRadius:"8px",padding:"4px",marginBottom:"24px"},children:[e.jsx("button",{onClick:()=>{w("all"),R(!1)},style:{flex:1,padding:"8px 16px",borderRadius:"6px",fontSize:"var(--mobile-font-small)",fontWeight:"500",fontFamily:"Montserrat, sans-serif",border:"none",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:j==="all"?"#2D8CCA":"transparent",color:j==="all"?"#ffffff":"#6b7280"},onMouseOver:W=>{j!=="all"&&(W.currentTarget.style.color="#1f2937")},onMouseOut:W=>{j!=="all"&&(W.currentTarget.style.color="#6b7280")},children:"Frequent"}),e.jsx("button",{onClick:()=>{w("mymoolah"),R(!0),v(!0)},style:{flex:1,padding:"8px 16px",borderRadius:"6px",fontSize:"var(--mobile-font-small)",fontWeight:"500",fontFamily:"Montserrat, sans-serif",border:"none",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:M?"#2D8CCA":"transparent",color:M?"#ffffff":"#6b7280"},onMouseOver:W=>{M||(W.currentTarget.style.color="#1f2937")},onMouseOut:W=>{M||(W.currentTarget.style.color="#6b7280")},children:"Pay Now"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",margin:"0 0 8px 0"},children:"Your Beneficiaries"}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280",margin:"0 0 16px 0"},children:["Organized by most recent activity â€¢ ",us.length," total"]})]}),e.jsx("div",{className:"space-y-3 mb-8",children:us.map(W=>e.jsx(oe,{className:"hover:shadow-md transition-shadow cursor-pointer",onClick:()=>fr(W),children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-[#2D8CCA] rounded-full flex items-center justify-center text-white font-bold",children:W.name.split(" ").map(V=>V[0]).join("").substring(0,2)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#1f2937"},children:W.name}),W.isFavorite&&e.jsx(Mt,{className:"w-4 h-4 text-yellow-500 fill-current"})]}),e.jsx("div",{className:"flex items-center gap-2 mb-1",children:fa(W.accountType)}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280"},children:["ðŸ“± ",W.accountType==="mymoolah"?W.identifier:W.msisdn||"No mobile number"]}),W.lastPaid?e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280"},children:["Last paid: ",qo(W.lastPaid)]}):e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280"},children:"Never paid"})]}),e.jsxs("div",{className:"flex flex-col items-end gap-2",children:[e.jsxs(O,{size:"sm",className:"bg-[#86BE41] hover:bg-[#7AB139] text-white px-3 py-1",onClick:V=>{V.stopPropagation(),fr(W)},children:[e.jsx(Gt,{className:"w-3 h-3 mr-1"}),"Pay"]}),e.jsxs("div",{className:"flex items-center gap-1",children:[e.jsx(O,{size:"sm",variant:"ghost",className:"w-8 h-8 p-0 hover:bg-gray-100",onClick:V=>{V.stopPropagation(),$o(W)},style:{minWidth:"32px",minHeight:"32px"},children:e.jsx(Sn,{className:"w-3 h-3 text-gray-500 hover:text-[#2D8CCA]"})}),e.jsx(O,{size:"sm",variant:"ghost",className:"w-8 h-8 p-0 hover:bg-red-50",onClick:V=>{V.stopPropagation(),Lo(W)},style:{minWidth:"32px",minHeight:"32px"},children:e.jsx(je,{className:"w-3 h-3 text-gray-500 hover:text-red-500"})})]}),W.paymentCount>0&&e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",color:"#6b7280"},children:[W.paymentCount," payments"]})]})]})})},W.id))})]}),e.jsx(Le,{open:z,onOpenChange:$,children:e.jsxs(_e,{className:"max-w-sm mx-auto","aria-describedby":"payment-modal-description",children:[e.jsxs(Ve,{children:[e.jsxs(Ue,{style:{fontFamily:"Montserrat, sans-serif"},children:["Pay ",_==null?void 0:_.name]}),e.jsxs("div",{id:"payment-modal-description",className:"sr-only",children:["Make a payment to ",_==null?void 0:_.name]})]}),_&&e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{className:"p-3 bg-gray-50 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-[#2D8CCA] rounded-full flex items-center justify-center text-white font-bold",children:_.name.split(" ").map(W=>W[0]).join("").substring(0,2)}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)"},children:_.name}),fa(_.accountType)]})]})}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Amount (ZAR)"}),e.jsx(ie,{placeholder:"0.00",value:k,onChange:W=>Z(W.target.value),type:"number",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"}})]}),e.jsx("div",{className:"grid grid-cols-4 gap-2",children:[50,100,200,500].map(W=>e.jsx(O,{variant:"outline",size:"sm",onClick:()=>Z(W.toString()),className:"text-[#2D8CCA] border-[#2D8CCA] hover:bg-[#2D8CCA] hover:text-white",children:zr(W)},W))}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Reference (Optional, max 20 chars)"}),e.jsx(ie,{placeholder:"e.g. Rent Aug",value:de,onChange:W=>Xe(W.target.value.slice(0,20)),maxLength:20,style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"}})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Description (Optional)"}),e.jsx(qn,{placeholder:"What's this payment for?",value:te,onChange:W=>U(W.target.value),rows:3,style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)"}})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-blue-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)"},children:"Set up recurring payment"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280"},children:"Pay this amount monthly"})]}),e.jsx(Er,{checked:ht,onCheckedChange:Jt})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(O,{variant:"outline",onClick:()=>$(!1),className:"flex-1",disabled:Pt,children:"Cancel"}),e.jsx(O,{onClick:Ho,disabled:!k||parseFloat(k)<=0||Pt,className:"flex-1 bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] text-white",children:Pt?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Pay ",k?zr(parseFloat(k)):"R 0.00"]})})]})]})]})}),e.jsx(Le,{open:P,onOpenChange:W=>{v(W),W||R(!1)},children:e.jsxs(_e,{className:"max-w-sm mx-auto","aria-describedby":"pay-now-modal-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif"},children:"Pay Now"}),e.jsx(Gs,{id:"pay-now-modal-description",className:"sr-only",children:"Make a one-time payment to a new recipient"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Account Type"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(O,{variant:C==="mymoolah"?"default":"outline",onClick:()=>L("mymoolah"),className:`h-16 flex-col ${C==="mymoolah"?"bg-[#86BE41] text-white border-[#86BE41]":"border-gray-200"}`,children:[e.jsx(ut,{className:"w-5 h-5 mb-1"}),e.jsx("span",{style:{fontSize:"var(--mobile-font-small)"},children:"MyMoolah"})]}),e.jsxs(O,{variant:C==="bank"?"default":"outline",onClick:()=>L("bank"),className:`h-16 flex-col ${C==="bank"?"bg-[#2D8CCA] text-white border-[#2D8CCA]":"border-gray-200"}`,children:[e.jsx(gr,{className:"w-5 h-5 mb-1"}),e.jsx("span",{style:{fontSize:"var(--mobile-font-small)"},children:"Bank"})]})]})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Beneficiary Name"}),e.jsx(ie,{placeholder:"Enter full name",value:S.name,onChange:W=>A(V=>({...V,name:W.target.value})),style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"}})]}),e.jsxs("div",{children:[e.jsxs(X,{style:{fontFamily:"Montserrat, sans-serif"},children:[C==="mymoolah"?"Mobile Number (Account Number)":"Mobile Number (MSISDN)"," ",e.jsx("span",{className:"text-red-500",children:"*"})]}),e.jsx(ie,{placeholder:"e.g., 078 123 4567",value:C==="mymoolah"&&S.identifier||S.msisdn,onChange:W=>{const xe=W.target.value.replace(/[^\d\s\-]/g,"");A(C==="mymoolah"?Ce=>({...Ce,identifier:xe,msisdn:xe}):Ce=>({...Ce,msisdn:xe}))},style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"},className:"font-mono"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",style:{fontFamily:"Montserrat, sans-serif"},children:C==="mymoolah"?"This mobile number is their MyMoolah account number":"Required for FICA compliance and verification"}),C==="mymoolah"&&(S.identifier||S.msisdn)&&(()=>{const W=S.identifier||S.msisdn;return pr(W)?e.jsx("div",{className:"mt-2 p-2 bg-green-50 border border-green-200 rounded-md",children:e.jsx("p",{className:"text-sm text-green-600 font-medium",children:"âœ“ Valid mobile number"})}):e.jsxs("div",{className:"mt-2 p-2 bg-red-50 border border-red-200 rounded-md",children:[e.jsx("p",{className:"text-sm text-red-600 font-medium",children:"Invalid mobile number format"}),e.jsx("p",{className:"text-xs text-red-500 mt-1",children:"Please enter a valid South African mobile number (e.g., 078 123 4567)"})]})})()]}),C==="bank"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Bank"}),e.jsxs(nt,{value:S.bankName,onValueChange:W=>A(V=>({...V,bankName:W})),children:[e.jsx(it,{style:{height:"var(--mobile-touch-target)"},children:e.jsx(ot,{placeholder:"Select bank"})}),e.jsx(xt,{children:bs.map(W=>e.jsx(Be,{value:W.name,children:W.name},W.code))})]})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Bank Account Number"}),e.jsx(ie,{placeholder:"Enter account number",value:S.identifier,onChange:W=>A(V=>({...V,identifier:W.target.value})),style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"}})]}),e.jsxs("div",{className:"flex items-center justify-between p-3 bg-gray-50 rounded-lg",children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)"},children:"Save as Beneficiary"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280"},children:"Keep this bank recipient for easy future payments"})]}),e.jsx(Er,{checked:dt,onCheckedChange:tt})]})]})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Amount (ZAR)"}),e.jsx(ie,{placeholder:"0.00",value:k,onChange:W=>Z(W.target.value),type:"number",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"}})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Reference (Optional, max 20 chars)"}),e.jsx(ie,{placeholder:"e.g. Rent Aug",value:de,onChange:W=>Xe(W.target.value.slice(0,20)),maxLength:20,style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"}})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(O,{variant:"outline",onClick:()=>v(!1),className:"flex-1",disabled:Pt,children:"Cancel"}),e.jsx(O,{onClick:Vo,disabled:!S.name||!(C==="mymoolah"?S.identifier:S.msisdn)||!k||parseFloat(k)<=0||Pt,className:"flex-1 bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] text-white",children:Pt?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):e.jsx(e.Fragment,{children:"Pay Now"})})]})]})]})}),e.jsx(Le,{open:T,onOpenChange:I,children:e.jsxs(_e,{className:"max-w-sm mx-auto","aria-describedby":"add-contacts-prompt-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif"},children:"Add to Contacts?"}),e.jsx("div",{id:"add-contacts-prompt-description",className:"sr-only",children:"Save recipient for future quick access"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif"},children:["Payment successful to ",B==null?void 0:B.name,". Would you like to save this recipient for quick access next time?"]}),e.jsxs("div",{className:"flex gap-3 pt-2",children:[e.jsx(O,{variant:"outline",className:"flex-1",onClick:()=>I(!1),children:"Not now"}),e.jsx(O,{className:"flex-1 bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] text-white",onClick:()=>{B&&Uo(B),I(!1)},children:"Add to Contacts"})]})]})]})}),e.jsx(Zr,{isOpen:ee,onClose:()=>G(!1),onConfirm:()=>{H&&(Q(H),$(!0)),G(!1)},title:"Beneficiary Added Successfully!",message:"Would you like to make a payment now to",confirmText:"Yes, make payment",cancelText:"Not now",type:"info",beneficiaryName:H==null?void 0:H.name}),e.jsx(Le,{open:q,onOpenChange:re,children:e.jsxs(_e,{className:"max-w-sm mx-auto","aria-describedby":"edit-beneficiary-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif"},children:"Edit Beneficiary"}),e.jsx("div",{id:"edit-beneficiary-description",className:"sr-only",children:"Edit beneficiary information"})]}),K&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Beneficiary Name"}),e.jsx(ie,{placeholder:"Enter beneficiary name",value:K.name,onChange:W=>Y(V=>V?{...V,name:W.target.value}:null),style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"}})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Mobile Number"}),e.jsx(ie,{placeholder:"e.g., 078 123 4567",value:K.msisdn||"",onChange:W=>Y(V=>V?{...V,msisdn:W.target.value}:null),style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"},className:"font-mono"}),e.jsx("p",{className:"text-sm text-gray-500 mt-1",style:{fontFamily:"Montserrat, sans-serif"},children:"This number uniquely identifies the beneficiary"})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Account Type"}),e.jsxs(nt,{value:K.accountType,onValueChange:W=>Y(V=>V?{...V,accountType:W}:null),children:[e.jsx(it,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"},children:e.jsx(ot,{})}),e.jsxs(xt,{children:[e.jsx(Be,{value:"mymoolah",children:"MyMoolah"}),e.jsx(Be,{value:"bank",children:"Bank Account"})]})]})]}),K.accountType==="bank"&&e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif"},children:"Bank Name"}),e.jsxs(nt,{value:K.bankName||"",onValueChange:W=>Y(V=>V?{...V,bankName:W}:null),children:[e.jsx(it,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",height:"var(--mobile-touch-target)"},children:e.jsx(ot,{placeholder:"Select bank"})}),e.jsx(xt,{children:bs.map(W=>e.jsx(Be,{value:W.name,children:W.name},W.code))})]})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(O,{variant:"outline",onClick:()=>re(!1),className:"flex-1",children:"Cancel"}),e.jsx(O,{onClick:()=>{K&&c(W=>W.map(V=>V.id===K.id?K:V)),re(!1),Y(null)},className:"flex-1 bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] text-white",children:"Save Changes"})]})]})]})}),e.jsx(Zr,{isOpen:ae,onClose:()=>be(!1),onConfirm:Oo,title:"Remove Beneficiary",message:"Are you sure you want to remove",confirmText:"Yes, remove",cancelText:"Cancel",type:"danger",beneficiaryName:ne==null?void 0:ne.name}),e.jsx(Uc,{isOpen:me,onClose:()=>ze(!1),title:He.title,message:He.message,type:He.type})]})}function qc(){const t=Ne(),{user:r,requiresKYC:s}=Ze(),[a,n]=d.useState(!1),[o,x]=d.useState(null),[i,h]=d.useState([]),[f,m]=d.useState([]),[l,p]=d.useState(null);d.useEffect(()=>{(async()=>{try{n(!0),p(null);const u=await Ge.getTrendingProducts();h(u);const y=await Ge.compareSuppliers("airtime");m(y.bestDeals||[])}catch(u){console.error("Error loading TransactPage data:",u),p("Failed to load service data. Please try again.")}finally{n(!1)}})()},[]);const E=async g=>{if(g.available){x(g.id);try{if(["send-money","request-money","withdraw"].includes(g.id)&&s("send")){t("/kyc/documents?returnTo="+g.route);return}t(g.route)}catch(u){console.error("Navigation error:",u)}finally{x(null)}}},c=[{id:"payments",title:"Payments & Transfers",description:"Send money, receive funds, and manage transfers",color:"#86BE41",services:[{id:"send-money",title:"Pay Beneficiary",description:"Transfer to MyMoolah users or bank accounts",icon:e.jsx(Gt,{className:"w-6 h-6"}),route:"/send-money",available:!0,badge:"Live",badgeType:"success"},{id:"qr-payments",title:"QR-Payments",description:"Scan QR codes to make instant payments",icon:e.jsx(ns,{className:"w-6 h-6"}),route:"/qr-payment",available:!0,badge:"Live",badgeType:"success"},{id:"flash-eezicash",title:"Cash-out at Flash",description:"eeziCash vouchers for instant cash withdrawal",icon:e.jsx(Fr,{className:"w-6 h-6"}),route:"/flash-eezicash-overlay",available:!0,badge:"New",badgeType:"warning"},{id:"mmcash-retail",title:"Cash-out at Retail",description:"MMCash vouchers for retail partner cash-out",icon:e.jsx(os,{className:"w-6 h-6"}),route:"/mmcash-retail-overlay",available:!0,badge:"New",badgeType:"warning"},{id:"atm-cashsend",title:"ATM Cash Send",description:"Send cash vouchers for ATM withdrawal",icon:e.jsx(Hs,{className:"w-6 h-6"}),route:"/atm-cashsend-overlay",available:!0,badge:"New",badgeType:"warning"}]},{id:"vouchers",title:"Vouchers & Digital Services",description:"Buy vouchers and digital products",color:"#f59e0b",services:[{id:"vouchers-overlay",title:"Digital Vouchers",description:"Gaming credits, streaming services, and more",icon:e.jsx(kn,{className:"w-6 h-6"}),route:"/vouchers-overlay",available:!0,badge:"Hot",badgeType:"warning"}]},{id:"bills",title:"Bills & Utilities",description:"Pay your bills and utilities with ease",color:"#2D8CCA",services:[{id:"airtime-data-overlay",title:"Airtime & Data",description:"Top-up airtime and data instantly",icon:e.jsx(Ct,{className:"w-6 h-6"}),route:"/airtime-data-overlay",available:!0,badge:f.length>0?`${f.length} Deals`:"Live",badgeType:"success"},{id:"electricity-overlay",title:"Electricity",description:"Prepaid electricity tokens",icon:e.jsx(Bt,{className:"w-6 h-6"}),route:"/electricity-overlay",available:!0,badge:"Live",badgeType:"success"},{id:"bill-payment-overlay",title:"Bill Payments",description:"Pay bills and utilities",icon:e.jsx(Dr,{className:"w-6 h-6"}),route:"/bill-payment-overlay",available:!0,badge:"Live",badgeType:"success"}]},{id:"loyalty",title:"Loyalty & Promotions",description:"Earn rewards and access exclusive deals",color:"#8b5cf6",services:[{id:"loyalty-overlay",title:"Rewards Program",description:"Cashback deals and special offers",icon:e.jsx(Mt,{className:"w-6 h-6"}),route:"/loyalty-overlay",available:!1,badge:"Coming Soon",badgeType:"info",comingSoon:!0}]}];return e.jsxs("div",{style:{backgroundColor:"#ffffff",minHeight:"100vh",fontFamily:"Montserrat, sans-serif"},children:[e.jsxs("div",{style:{padding:"var(--mobile-padding)"},children:[e.jsxs("div",{className:"text-center mb-8",children:[e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.5rem, 4vw, 2rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"0.5rem"},children:"MyMoolah Services"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#6b7280"},children:"Your complete digital banking solution"})]}),r&&e.jsx("div",{className:"mb-8 p-4 bg-gradient-to-r from-[#86BE41]/10 to-[#2D8CCA]/10 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] rounded-full flex items-center justify-center",children:e.jsx(ut,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#1f2937",marginBottom:"0.25rem"},children:["Welcome back, ",r.name]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280"},children:r.kycVerified?"All services available":"Complete KYC to unlock all features"})]})]})})]}),l&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",style:{margin:"0 var(--mobile-padding)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Ie,{className:"w-4 h-4 text-red-600"})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#dc2626"},children:l})]})}),a&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",style:{margin:"0 var(--mobile-padding)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Qe,{className:"w-4 h-4 text-blue-600 animate-spin"})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#2563eb"},children:"Loading service data..."})]})}),e.jsx("div",{style:{padding:"0 var(--mobile-padding)"},children:c.map((g,u)=>e.jsx("div",{className:"mb-12",children:e.jsxs("div",{className:"bg-white border border-gray-100 rounded-xl p-6 shadow-lg",children:[e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:"w-8 h-8 rounded-lg flex items-center justify-center",style:{backgroundColor:`${g.color}20`},children:e.jsx(wn,{className:"w-4 h-4",style:{color:g.color}})}),e.jsx("h2",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937"},children:g.title})]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",marginLeft:"2.75rem"},children:g.description})]}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:g.services.map(y=>e.jsx(oe,{className:`cursor-pointer transition-all duration-200 border hover:shadow-md ${y.available?"border-gray-200 hover:border-gray-300":"border-gray-100 bg-gray-50"}`,style:{borderRadius:"12px",height:"100px",opacity:y.available?1:.7},onClick:()=>y.available&&E(y),children:e.jsxs(ce,{style:{padding:"1rem",height:"100%",display:"flex",alignItems:"center",gap:"1rem"},children:[e.jsx("div",{className:"w-12 h-12 rounded-lg flex items-center justify-center",style:{backgroundColor:`${g.color}20`},children:o===y.id?e.jsx(Qe,{className:"w-6 h-6 animate-spin text-gray-500"}):e.jsx("div",{style:{color:g.color},children:y.icon})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:y.available?"#1f2937":"#9ca3af",marginBottom:"0.25rem",lineHeight:"1.3"},children:y.title}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:y.available?"#6b7280":"#9ca3af",lineHeight:"1.4"},children:y.description})]}),y.badge&&e.jsx(De,{variant:y.badgeType==="success"?"default":"secondary",className:`text-xs px-2 py-1 rounded-full ${y.badgeType==="success"?"bg-[#86BE41] text-white":y.badgeType==="info"?"bg-[#2D8CCA] text-white":y.badgeType==="warning"?"bg-orange-500 text-white":"bg-gray-200 text-gray-700"}`,style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",fontWeight:"var(--font-weight-medium)"},children:y.badge}),y.comingSoon&&!y.badge&&e.jsx(De,{variant:"secondary",className:"text-xs px-2 py-1 rounded-full bg-gray-200 text-gray-600",style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",fontWeight:"var(--font-weight-medium)"},children:"Soon"})]})},y.id))})]})},g.id))}),e.jsx("div",{className:"mt-16 mb-8",style:{padding:"0 var(--mobile-padding)"},children:e.jsx(oe,{className:"bg-gradient-to-r from-[#86BE41]/10 to-[#2D8CCA]/10 border-0",children:e.jsx(ce,{style:{padding:"2rem"},children:e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"w-20 h-20 mx-auto mb-4 bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] rounded-full flex items-center justify-center",children:e.jsx(Mt,{className:"w-10 h-10 text-white"})}),e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"0.75rem"},children:"More Services Coming Soon"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",marginBottom:"1.5rem"},children:"We're constantly adding new features to make your financial life easier"}),!(r!=null&&r.kycVerified)&&e.jsx("button",{onClick:()=>t("/kyc/documents"),className:"w-full bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] text-white border-none rounded-xl transition-all hover:shadow-lg",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",padding:"16px 32px",minHeight:"var(--mobile-touch-target)"},children:"Verify Identity to Unlock All Features"})]})})})})]})}const rr="/assets/logo3-859df7ff.svg";var xs="Tabs",[Xc,Ku]=Ar(xs,[Ka]),Xn=Ka(),[Yc,Qs]=Xc(xs),Yn=d.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,onValueChange:n,defaultValue:o,orientation:x="horizontal",dir:i,activationMode:h="automatic",...f}=t,m=fi(i),[l,p]=es({prop:a,onChange:n,defaultProp:o??"",caller:xs});return e.jsx(Yc,{scope:s,baseId:Ja(),value:l,onValueChange:p,orientation:x,dir:m,activationMode:h,children:e.jsx(et.div,{dir:m,"data-orientation":x,...f,ref:r})})});Yn.displayName=xs;var Gn="TabsList",Zn=d.forwardRef((t,r)=>{const{__scopeTabs:s,loop:a=!0,...n}=t,o=Qs(Gn,s),x=Xn(s);return e.jsx(ui,{asChild:!0,...x,orientation:o.orientation,dir:o.dir,loop:a,children:e.jsx(et.div,{role:"tablist","aria-orientation":o.orientation,...n,ref:r})})});Zn.displayName=Gn;var Qn="TabsTrigger",Kn=d.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,disabled:n=!1,...o}=t,x=Qs(Qn,s),i=Xn(s),h=to(x.baseId,a),f=ro(x.baseId,a),m=a===x.value;return e.jsx(mi,{asChild:!0,...i,focusable:!n,active:m,children:e.jsx(et.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":f,"data-state":m?"active":"inactive","data-disabled":n?"":void 0,disabled:n,id:h,...o,ref:r,onMouseDown:yt(t.onMouseDown,l=>{!n&&l.button===0&&l.ctrlKey===!1?x.onValueChange(a):l.preventDefault()}),onKeyDown:yt(t.onKeyDown,l=>{[" ","Enter"].includes(l.key)&&x.onValueChange(a)}),onFocus:yt(t.onFocus,()=>{const l=x.activationMode!=="manual";!m&&!n&&l&&x.onValueChange(a)})})})});Kn.displayName=Qn;var Jn="TabsContent",eo=d.forwardRef((t,r)=>{const{__scopeTabs:s,value:a,forceMount:n,children:o,...x}=t,i=Qs(Jn,s),h=to(i.baseId,a),f=ro(i.baseId,a),m=a===i.value,l=d.useRef(m);return d.useEffect(()=>{const p=requestAnimationFrame(()=>l.current=!1);return()=>cancelAnimationFrame(p)},[]),e.jsx(ts,{present:n||m,children:({present:p})=>e.jsx(et.div,{"data-state":m?"active":"inactive","data-orientation":i.orientation,role:"tabpanel","aria-labelledby":h,hidden:!p,id:f,tabIndex:0,...x,ref:r,style:{...t.style,animationDuration:l.current?"0s":void 0},children:p&&o})})});eo.displayName=Jn;function to(t,r){return`${t}-trigger-${r}`}function ro(t,r){return`${t}-content-${r}`}var Gc=Yn,Zc=Zn,Qc=Kn,Kc=eo;function Jc({className:t,...r}){return e.jsx(Gc,{"data-slot":"tabs",className:pe("flex flex-col gap-2",t),...r})}function ed({className:t,...r}){return e.jsx(Zc,{"data-slot":"tabs-list",className:pe("bg-muted text-muted-foreground inline-flex h-9 w-fit items-center justify-center rounded-xl p-[3px] flex",t),...r})}function Lr({className:t,...r}){return e.jsx(Qc,{"data-slot":"tabs-trigger",className:pe("data-[state=active]:bg-card dark:data-[state=active]:text-foreground focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:outline-ring dark:data-[state=active]:border-input dark:data-[state=active]:bg-input/30 text-foreground dark:text-muted-foreground inline-flex h-[calc(100%-1px)] flex-1 items-center justify-center gap-1.5 rounded-xl border border-transparent px-2 py-1 text-sm font-medium whitespace-nowrap transition-[color,box-shadow] focus-visible:ring-[3px] focus-visible:outline-1 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:shrink-0 [&_svg:not([class*='size-'])]:size-4",t),...r})}function Or({className:t,...r}){return e.jsx(Kc,{"data-slot":"tabs-content",className:pe("flex-1 outline-none",t),...r})}function td(){const t=Ne();Ze();const[r,s]=d.useState("vouchers"),[a,n]=d.useState(!0),[o,x]=d.useState(""),[i,h]=d.useState(!1),[f,m]=d.useState(null),[l,p]=d.useState(null),[E,c]=d.useState(null),[g,u]=d.useState({type:"all",status:"all",dateRange:"all"}),[y,F]=d.useState("mm_voucher"),[j,w]=d.useState(""),[M,R]=d.useState(""),[D,b]=d.useState(""),[P,v]=d.useState(""),[T,I]=d.useState(""),[B,N]=d.useState(!1),[C,L]=d.useState(null),S=k=>{if(k.type==="mm_voucher"){const te=k.voucherCode.replace(/\D/g,"").padEnd(16,"0").substring(0,16);return{mainCode:`${te.substring(0,4)} ${te.substring(4,8)} ${te.substring(8,12)} ${te.substring(12,16)}`}}else if(k.type==="easypay_voucher"){if(k.status==="pending_payment"){if(k.easyPayNumber){const Z=k.easyPayNumber;return{mainCode:`${Z.substring(0,1)} ${Z.substring(1,5)} ${Z.substring(5,9)} ${Z.substring(9,13)} ${Z.substring(13,14)}`}}return{mainCode:k.voucherCode}}else if(k.status==="active"||k.status==="redeemed"){if(k.voucherCode&&k.voucherCode.length>=16){const te=k.voucherCode.replace(/\D/g,"").padEnd(16,"0").substring(0,16),U=`${te.substring(0,4)} ${te.substring(4,8)} ${te.substring(8,12)} ${te.substring(12,16)}`;if(k.easyPayNumber){const de=k.easyPayNumber,Xe=`${de.substring(0,1)} ${de.substring(1,5)} ${de.substring(5,9)} ${de.substring(9,13)} ${de.substring(13,14)}`;return{mainCode:U,subCode:Xe}}return{mainCode:U}}}else if(k.status==="cancelled"){if(k.easyPayNumber){const Z=k.easyPayNumber;return{mainCode:`${Z.substring(0,1)} ${Z.substring(1,5)} ${Z.substring(5,9)} ${Z.substring(9,13)} ${Z.substring(13,14)}`}}return{mainCode:k.voucherCode}}return{mainCode:k.voucherCode}}else return{mainCode:k.voucherCode}},[A,z]=d.useState([]);d.useState([]);const[$,_]=d.useState("R0.00"),Q=d.useRef(null),ee=async()=>{var k;try{const Z=Ee();if(!Z)return;const te=await fetch(`${he.API.baseUrl}/api/v1/wallets/balance`,{headers:{Authorization:`Bearer ${Z}`,"Content-Type":"application/json"}});if(te.ok){const U=await te.json();if(U.success&&((k=U.data)!=null&&k.balance)){const Xe=parseFloat(U.data.balance).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2});_(`R${Xe}`)}}}catch(Z){console.error("Failed to fetch wallet balance:",Z)}},G=async()=>{var k;try{n(!0),c(null);const Z=Ee();if(!Z)throw new Error("No authentication token found");const te={Authorization:`Bearer ${Z}`,"Content-Type":"application/json"};let U=await fetch(`${he.API.baseUrl}/api/v1/vouchers/`,{headers:te}),de;if(!U.ok){const ye=await U.json().catch(()=>({}));throw new Error(ye.message||`Failed to fetch vouchers: ${U.status}`)}if(de=await U.json(),!de.success)throw new Error(de.message||"Invalid response from vouchers API");const Pt=(((k=de.data)==null?void 0:k.vouchers)||de.data||[]).map(ye=>{var fr;let dt;ye.voucherType==="easypay_pending"||ye.voucherType==="easypay_active"?dt="easypay_voucher":dt="mm_voucher";let tt;ye.status==="pending"||ye.status==="pending_payment"?tt="pending_payment":ye.status==="expired"?tt="expired":ye.status==="cancelled"?tt="cancelled":ye.status==="redeemed"&&parseFloat(ye.balance||0)===0?tt="redeemed":tt="active";const dr=new Date(ye.createdAt||new Date().toISOString()).getTime(),fs=tt==="pending_payment"&&dt==="easypay_voucher"?new Date(dr+96*60*60*1e3).toISOString():new Date(dr+365*24*60*60*1e3).toISOString(),er=parseFloat(ye.balance||0),Rr=dt==="easypay_voucher"&&(tt==="pending_payment"||tt==="active"&&er===0)?parseFloat(ye.originalAmount||0):er;return{id:ye.id.toString(),type:dt,status:tt,amount:parseFloat(ye.originalAmount||0),originalAmount:parseFloat(ye.originalAmount||0),currency:"ZAR",voucherCode:ye.voucherCode||`VOUCHER-${ye.id}`,easyPayNumber:ye.easyPayCode,createdDate:ye.createdAt||new Date().toISOString(),expiryDate:ye.expiresAt||fs,expiresAt:ye.expiresAt||void 0,description:((fr=ye.metadata)==null?void 0:fr.description)||(dt==="easypay_voucher"?"EasyPay voucher":"MMVoucher"),transactionId:`VOUCHER-${ye.id}`,redemptionLocations:dt==="easypay_voucher"?["EasyPay Network","MyMoolah Network"]:["MyMoolah Network"],remainingValue:Rr,isPartialRedemption:parseFloat(ye.balance||0)>0&&parseFloat(ye.balance||0)<parseFloat(ye.originalAmount||0)}}).sort((ye,dt)=>{const tt=new Date(ye.createdDate).getTime();return new Date(dt.createdDate).getTime()-tt});z(Pt),c(null)}catch(Z){console.error("âŒ Error fetching vouchers:",Z),c(Z instanceof Error?Z.message:"Failed to fetch vouchers"),z([])}finally{n(!1)}};d.useEffect(()=>{G(),ee()},[]);const H=d.useMemo(()=>A.some(k=>k.type==="easypay_voucher"&&k.status==="pending_payment"),[A]);d.useEffect(()=>(Q.current&&(clearInterval(Q.current),Q.current=null),H&&(Q.current=window.setInterval(()=>{G()},5e3)),()=>{Q.current&&(clearInterval(Q.current),Q.current=null)}),[H]);const se=A.filter(k=>{var Z,te;if(o){const U=o.toLowerCase(),de=S(k);if(!(de.mainCode.toLowerCase().includes(U)||de.subCode&&de.subCode.toLowerCase().includes(U)||((Z=k.easyPayNumber)==null?void 0:Z.includes(U))||((te=k.merchantName)==null?void 0:te.toLowerCase().includes(U))))return!1}if(g.type!=="all"&&k.type!==g.type||g.status!=="all"&&k.status!==g.status)return!1;if(g.dateRange!=="all"){const U=new Date(k.createdDate),de=new Date;switch(g.dateRange){case"today":if(U.toDateString()!==de.toDateString())return!1;break;case"week":const Xe=new Date(de.getTime()-7*24*60*60*1e3);if(U<Xe)return!1;break;case"month":const ht=new Date(de.getTime()-30*24*60*60*1e3);if(U<ht)return!1;break;case"custom":if(g.startDate&&U<new Date(g.startDate)||g.endDate&&U>new Date(g.endDate))return!1;break}}return!0}),q=A.filter(k=>k.status==="active"||k.status==="pending_payment").sort((k,Z)=>new Date(Z.createdDate).getTime()-new Date(k.createdDate).getTime()).slice(0,10),re=async()=>{if(!j||parseFloat(j)<=0){alert("Please enter a valid amount");return}const k=parseFloat(j);if(y==="easypay_voucher"){if(k<50||k>4e3){alert("EasyPay vouchers must be between R 50 and R 4000");return}}else if(k<5||k>4e3){alert("Voucher amount must be between R 5 and R 4000");return}n(!0);try{const Z=y==="easypay_voucher"?`${he.API.baseUrl}/api/v1/vouchers/easypay/issue`:`${he.API.baseUrl}/api/v1/vouchers/issue`,te=await fetch(Z,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee()}`},body:JSON.stringify({original_amount:k,voucher_type:y,description:M,merchant:D,issued_to:y==="easypay_voucher"?"customer":void 0})}),U=await te.json();if(!te.ok)throw new Error(U.error||"Failed to generate voucher");L(y==="easypay_voucher"?{title:"EasyPay Voucher Generated!",message:"Take this number to any of 8000+ EasyPay retail stores to pay. Once paid, your MyMoolah voucher will be activated automatically.",voucherCode:U.data.easypay_code,amount:`R ${k}`,type:"easypay"}:{title:`${y==="mm_voucher"?"MyMoolah":"Third Party"} Voucher Generated!`,message:"Voucher is ready for use and redemption.",voucherCode:U.data.voucher_code,amount:`R ${k}`,walletBalance:`R ${U.data.wallet_balance}`,type:y==="mm_voucher"?"mm_voucher":"third_party"}),N(!0),w(""),R(""),b(""),await G(),s("vouchers")}catch(Z){console.error("Voucher generation error:",Z),c(Z instanceof Error?Z.message:"Failed to generate voucher. Please try again.")}finally{n(!1)}},K=async()=>{if(!P.trim()){c("Please enter a voucher code");return}n(!0);try{const k=T?parseFloat(T):0;if(k<0){c("Invalid redemption amount"),n(!1);return}const Z=await fetch(`${he.API.baseUrl}/api/v1/vouchers/redeem`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${Ee()}`},body:JSON.stringify({voucher_code:Y(P.trim()),amount:k||null,redeemer_id:localStorage.getItem("userId"),merchant_id:"MM_MERCHANT",service_provider_id:"MM_SYSTEM"})}),te=await Z.json();if(!Z.ok)throw new Error(te.error||"Failed to redeem voucher");L({title:"Voucher Redeemed Successfully!",message:"Funds have been added to your MyMoolah wallet.",amount:`R ${te.data.redeemed_amount}`,walletBalance:`R ${te.data.wallet_balance}`,type:"mm_voucher"}),N(!0),v(""),I(""),await G()}catch(k){console.error("Voucher redemption error:",k),c(k instanceof Error?k.message:"Failed to redeem voucher. Please try again.")}finally{n(!1)}},Y=k=>k.replace(/\s/g,"").replace(/\D/g,""),ae=async k=>{try{const te=S(k).mainCode;if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(te);else{const de=document.createElement("textarea");de.value=te,de.style.position="fixed",de.style.left="-999999px",de.style.top="-999999px",document.body.appendChild(de),de.focus(),de.select(),document.execCommand("copy"),document.body.removeChild(de)}p(k.voucherCode),setTimeout(()=>p(null),2e3);const U=document.createElement("div");U.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #16a34a;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        font-family: 'Montserrat', sans-serif;
        font-size: 14px;
        font-weight: 600;
        z-index: 9999;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      `,U.textContent="Voucher code copied!",document.body.appendChild(U),setTimeout(()=>{document.body.removeChild(U)},2e3)}catch(Z){console.error("Failed to copy voucher code:",Z),alert("Failed to copy voucher code. Please try again.")}},be=async k=>{try{const Z=k.slice(0,1)+" "+k.slice(1,5)+" "+k.slice(5,9)+" "+k.slice(9,13)+" "+k.slice(13);if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(Z);else{const U=document.createElement("textarea");U.value=Z,U.style.position="fixed",U.style.left="-999999px",U.style.top="-999999px",document.body.appendChild(U),U.focus(),U.select(),document.execCommand("copy"),document.body.removeChild(U)}p(Z),setTimeout(()=>p(""),2e3);const te=document.createElement("div");te.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #16a34a;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        font-family: 'Montserrat', sans-serif;
        font-size: 14px;
        font-weight: 600;
        z-index: 9999;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      `,te.textContent="EasyPay number copied!",document.body.appendChild(te),setTimeout(()=>{document.body.removeChild(te)},2e3)}catch(Z){console.error("Failed to copy EasyPay number:",Z),alert("Failed to copy EasyPay number. Please try again.")}},ne=k=>{switch(k){case"mm_voucher":return{text:"MMVoucher",color:"bg-[#86BE41] text-white"};case"easypay_voucher":return{text:"EasyPay",color:"bg-[#2D8CCA] text-white"};case"third_party_voucher":return{text:"3rd Party",color:"bg-orange-500 text-white"};default:return{text:"MMVoucher",color:"bg-[#86BE41] text-white"}}},ue=k=>{switch(k){case"active":return{text:"Active",color:"bg-green-100 text-green-700"};case"pending_payment":return{text:"Pending",color:"bg-orange-100 text-orange-700"};case"redeemed":return{text:"Redeemed",color:"bg-blue-100 text-blue-700"};case"expired":return{text:"Expired",color:"bg-red-100 text-red-700"};case"cancelled":return{text:"Cancelled",color:"bg-red-100 text-red-700"};default:return{text:"Active",color:"bg-green-100 text-green-700"}}},me=k=>{if(!k&&k!==0)return"R 0.00";const Z=k.toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2});return k<0?`R -${Math.abs(k).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`R ${Z}`},ze=k=>{if(!k&&k!==0)return"R0.00";const Z=k.toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2});return k<0?`R-${Math.abs(k).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`R${Z}`},He=k=>{const Z=new Date(k);return isNaN(Z.getTime())?"Invalid date":Z.toLocaleDateString("en-ZA",{year:"numeric",month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},mt=async k=>{try{if(!window.confirm(`Cancel this EasyPay voucher?

EasyPay Number: ${k.easyPayNumber}
Amount: R ${k.originalAmount}

This will:
â€¢ Cancel the voucher immediately
â€¢ Refund R ${k.originalAmount} to your wallet
â€¢ This action cannot be undone

Are you sure you want to cancel?`))return;const te=document.createElement("div");te.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #f59e0b;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        font-family: 'Montserrat', sans-serif;
        font-size: 14px;
        font-weight: 600;
        z-index: 9999;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      `,te.textContent="Cancelling voucher...",document.body.appendChild(te);const U=Ee(),de=await fetch(`${he.API.baseUrl}/api/v1/vouchers/${k.id}/cancel`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${U}`}});if(document.body.removeChild(te),!de.ok){const Jt=await de.json();throw new Error(Jt.error||"Failed to cancel voucher")}const Xe=await de.json(),ht=document.createElement("div");ht.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #16a34a;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        font-family: 'Montserrat', sans-serif;
        font-size: 14px;
        font-weight: 600;
        z-index: 9999;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      `,ht.textContent=`Voucher cancelled! R ${Xe.data.refundAmount} refunded to wallet`,document.body.appendChild(ht),setTimeout(()=>{document.body.removeChild(ht)},3e3),await G()}catch(Z){console.error("Error cancelling voucher:",Z);const te=document.createElement("div");te.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #dc2626;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        font-family: 'Montserrat', sans-serif;
        font-size: 14px;
        font-weight: 600;
        z-index: 9999;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      `,te.textContent=`Error: ${Z instanceof Error?Z.message:"Unknown error"}`,document.body.appendChild(te),setTimeout(()=>{document.body.removeChild(te)},3e3)}};return e.jsxs("div",{className:"mobile-container",children:[e.jsx("div",{style:{position:"sticky",top:0,backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:10},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"64px",padding:"0 16px"},children:[e.jsx("button",{onClick:()=>t("/dashboard"),style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background-color 0.2s ease",fontFamily:"Montserrat, sans-serif"},onMouseOver:k=>k.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:k=>k.currentTarget.style.backgroundColor="transparent","aria-label":"Back to Dashboard",children:e.jsx(Re,{style:{width:"24px",height:"24px",color:"#6b7280"}})}),e.jsx("div",{style:{flex:1,textAlign:"center"},children:e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:0},children:"MMVouchers"})}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"44px",height:"44px"},children:e.jsx(De,{style:{backgroundColor:"#86BE41",color:"#ffffff",fontFamily:"Montserrat, sans-serif",fontSize:"9.18px",fontWeight:"600",padding:"3.06px 6.12px",borderRadius:"9.18px",border:"none",whiteSpace:"nowrap"},children:$})})]})}),e.jsxs("div",{style:{padding:"16px"},children:[E&&e.jsxs(Ke,{style:{marginBottom:"16px",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"8px",padding:"12px 16px"},children:[e.jsx(nr,{style:{width:"16px",height:"16px",color:"#dc2626",marginRight:"8px"}}),e.jsx(Je,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#dc2626",margin:0},children:E}),e.jsx("button",{onClick:()=>c(null),style:{position:"absolute",top:"8px",right:"8px",background:"none",border:"none",cursor:"pointer",padding:"4px"},children:e.jsx(je,{style:{width:"16px",height:"16px",color:"#dc2626"}})})]}),e.jsxs(Jc,{value:r,onValueChange:k=>s(k),children:[e.jsxs(ed,{style:{width:"100%",backgroundColor:"#f8fafc",padding:"4px",borderRadius:"12px",marginBottom:"24px",display:"grid",gridTemplateColumns:"repeat(4, 1fr)",gap:"4px"},children:[e.jsx(Lr,{value:"vouchers",style:{fontFamily:"Montserrat, sans-serif",fontSize:"15px",fontWeight:"600",borderRadius:"8px",height:"36px",padding:"0 8px",backgroundColor:"transparent",color:r==="vouchers"?"#86BE41":"#374151",border:"1px solid transparent"},children:"Vouchers"}),e.jsx(Lr,{value:"sell",style:{fontFamily:"Montserrat, sans-serif",fontSize:"15px",fontWeight:"600",borderRadius:"8px",height:"36px",padding:"0 8px",backgroundColor:"transparent",color:r==="sell"?"#86BE41":"#374151",border:"1px solid transparent"},children:"Create"}),e.jsx(Lr,{value:"redeem",style:{fontFamily:"Montserrat, sans-serif",fontSize:"15px",fontWeight:"600",borderRadius:"8px",height:"36px",padding:"0 8px",backgroundColor:"transparent",color:r==="redeem"?"#86BE41":"#374151",border:"1px solid transparent"},children:"Redeem"}),e.jsx(Lr,{value:"history",style:{fontFamily:"Montserrat, sans-serif",fontSize:"15px",fontWeight:"600",borderRadius:"8px",height:"36px",padding:"0 8px",backgroundColor:"transparent",color:r==="history"?"#86BE41":"#374151",border:"1px solid transparent"},children:"History"})]}),e.jsxs(Or,{value:"vouchers",children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"repeat(3, 1fr)",gap:"12px",marginBottom:"24px"},children:[e.jsxs(oe,{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"16px",textAlign:"center"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px"},children:e.jsx(ut,{style:{width:"20px",height:"20px",color:"#86BE41"}})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280",margin:"0 0 4px 0"},children:"Active"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937",margin:0},children:A.filter(k=>k.status==="active").length})]}),e.jsxs(oe,{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"16px",textAlign:"center"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px"},children:e.jsx(yr,{style:{width:"20px",height:"20px",color:"#f59e0b"}})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280",margin:"0 0 4px 0"},children:"Pending"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937",margin:0},children:A.filter(k=>k.status==="pending_payment").length})]}),e.jsxs(oe,{style:{border:"1px solid #e2e8f0",borderRadius:"12px",padding:"16px",textAlign:"center"},children:[e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"8px"},children:e.jsx(Fr,{style:{width:"20px",height:"20px",color:"#16a34a"}})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280",margin:"0 0 4px 0"},children:"Total Value"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937",margin:0},children:ze(A.filter(k=>k.status==="active").reduce((k,Z)=>k+Z.remainingValue,0)+A.filter(k=>k.status==="pending_payment").reduce((k,Z)=>k+Z.amount,0))})]})]}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:(r==="vouchers"?q:se).length===0?e.jsx(oe,{style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{style:{padding:"var(--mobile-padding)"},children:e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#f8fafc",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px auto"},children:e.jsx(Yr,{style:{width:"24px",height:"24px",color:"#9ca3af"}})}),e.jsx("h4",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"600",color:"#6b7280",marginBottom:"8px"},children:r==="vouchers"?"No active vouchers":"No vouchers found"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#9ca3af",margin:0},children:r==="vouchers"?"Create your first voucher to get started":"Try adjusting your search or filters"})]})})}):(r==="vouchers"?q:se).map(k=>{const Z=ne(k.type),te=ue(k.status);return e.jsx("div",{style:{width:"100%",minWidth:"100%",maxWidth:"none",margin:"0",padding:"0",boxSizing:"border-box",border:"1px solid #e2e8f0",borderRadius:"16px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:"#ffffff",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)"},onMouseOver:U=>{U.currentTarget.style.borderColor="#86BE41",U.currentTarget.style.transform="translateY(-2px)",U.currentTarget.style.boxShadow="0 8px 20px rgba(134, 190, 65, 0.15)"},onMouseOut:U=>{U.currentTarget.style.borderColor="#e2e8f0",U.currentTarget.style.transform="translateY(0)",U.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.05)"},onClick:()=>m(k),children:e.jsxs("div",{style:{padding:"20px",width:"100%",boxSizing:"border-box"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("div",{style:{width:"40px",height:"40px",borderRadius:"12px",backgroundColor:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #e5e7eb",overflow:"hidden"},children:[e.jsx("img",{src:(k.type==="mm_voucher"||k.type==="easypay_voucher",rr),alt:k.type==="mm_voucher"?"MMVoucher Logo":k.type==="easypay_voucher"?"EasyPay Logo":"Voucher Logo",style:{width:"24px",height:"24px",objectFit:"contain"},onError:U=>{U.currentTarget.style.display="none";const de=U.currentTarget.nextElementSibling;de&&(de.style.display="flex")}}),e.jsx("div",{style:{display:"none",width:"24px",height:"24px",alignItems:"center",justifyContent:"center",backgroundColor:k.type==="mm_voucher"||k.type==="easypay_voucher"?"#86BE41":"#9ca3af",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"bold"},children:k.type==="mm_voucher"||k.type==="easypay_voucher"?"MM":"V"})]}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx(De,{className:Z.color,style:{fontSize:"10px",fontWeight:"600",padding:"3px 8px",borderRadius:"6px",fontFamily:"Montserrat, sans-serif"},children:Z.text}),e.jsx(De,{className:te.color,style:{fontSize:"10px",fontWeight:"500",padding:"3px 8px",borderRadius:"6px",fontFamily:"Montserrat, sans-serif"},children:te.text})]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:k.remainingValue>0?"#16a34a":"#9ca3af",margin:0,lineHeight:1},children:me(k.remainingValue)}),k.isPartialRedemption&&e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:"#9ca3af",margin:"2px 0 0 0",lineHeight:1},children:["of ",me(k.amount)]})]})]}),e.jsx("div",{style:{marginBottom:"12px"},children:(()=>{const U=S(k);return e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{fontFamily:"monospace",fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:0,letterSpacing:"0.5px",lineHeight:1.2},children:U.mainCode}),U.subCode&&e.jsx("p",{style:{fontFamily:"monospace",fontSize:"12px",fontWeight:"500",color:"#2D8CCA",margin:"2px 0 0 0",letterSpacing:"0.3px",lineHeight:1},children:U.subCode})]})})()}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280",margin:"0 0 12px 0",lineHeight:1.3}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(Ms,{style:{width:"12px",height:"12px",color:"#9ca3af"}}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:new Date(k.expiryDate)<new Date?"#dc2626":"#9ca3af",fontWeight:"500"},children:He(k.createdDate)})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:e.jsx("button",{onClick:U=>{U.stopPropagation(),ae(k)},style:{background:"none",border:"none",cursor:"pointer",color:l===k.voucherCode?"#16a34a":"#9ca3af",padding:"4px",borderRadius:"4px",transition:"color 0.2s ease",fontFamily:"Montserrat, sans-serif"},"aria-label":"Copy voucher code",children:l===k.voucherCode?e.jsx(Me,{style:{width:"14px",height:"14px"}}):e.jsx(lt,{style:{width:"14px",height:"14px"}})})})]}),k.type==="easypay_voucher"&&k.status==="pending_payment"&&e.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"8px",alignItems:"flex-start"},children:[e.jsxs("div",{style:{flex:1,padding:"8px 12px",backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"2px"},children:[e.jsx(yr,{style:{width:"10px",height:"10px",color:"#f59e0b"}}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:"#f59e0b",fontWeight:"600"},children:["Expires: ",He(k.expiryDate)]})]}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",color:"#d97706",fontWeight:"500"},children:"Make payment at any EasyPay terminal"})]}),e.jsx("button",{onClick:U=>{U.stopPropagation(),mt(k)},style:{backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",padding:"8px",width:"32px",height:"32px",cursor:"pointer",fontFamily:"Montserrat, sans-serif",transition:"background-color 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},onMouseOver:U=>U.currentTarget.style.backgroundColor="#b91c1c",onMouseOut:U=>U.currentTarget.style.backgroundColor="#dc2626",title:"Cancel voucher and get refund",children:e.jsx(je,{style:{width:"14px",height:"14px"}})})]})]})},k.id)})})]}),e.jsx(Or,{value:"sell",children:e.jsxs(oe,{style:{border:"1px solid #e2e8f0",borderRadius:"12px"},children:[e.jsxs(Ae,{children:[e.jsxs(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(Xr,{style:{width:"24px",height:"24px",color:"#86BE41"}}),"Generate New Voucher"]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:0},children:"Create MyMoolah, EasyPay, or 3rd Party vouchers"})]}),e.jsx(ce,{style:{padding:"24px"},children:e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Voucher Type"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:[{id:"mm_voucher",name:"MyMoolah Voucher",desc:"Redeemable at MyMoolah network and partner retailers",icon:e.jsx(ut,{style:{width:"20px",height:"20px"}})},{id:"easypay_voucher",name:"EasyPay Voucher",desc:"Pay at 8000+ retail stores, auto-convert to MyMoolah voucher",icon:e.jsx(gr,{style:{width:"20px",height:"20px"}})},{id:"third_party_voucher",name:"3rd Party Voucher",desc:"External vouchers like 1Voucher, OTT, Blu vouchers",icon:e.jsx(Bl,{style:{width:"20px",height:"20px"}})}].map(k=>e.jsxs("button",{onClick:()=>F(k.id),style:{padding:"16px",borderRadius:"12px",border:`2px solid ${y===k.id?"#86BE41":"#e2e8f0"}`,backgroundColor:y===k.id?"#86BE41":"#ffffff",color:y===k.id?"#ffffff":"#1f2937",textAlign:"left",cursor:"pointer",transition:"all 0.2s ease",width:"100%",fontFamily:"Montserrat, sans-serif"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",marginBottom:"8px"},children:[e.jsx("div",{style:{color:y===k.id?"#ffffff":"#6b7280"},children:k.icon}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600"},children:k.name})]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",margin:0,opacity:.9},children:k.desc})]},k.id))})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Amount (ZAR)"}),e.jsx(ie,{type:"number",inputMode:"numeric",pattern:"[0-9]*",value:j,onWheel:k=>k.currentTarget.blur(),onKeyDown:k=>{(k.key==="ArrowUp"||k.key==="ArrowDown")&&k.preventDefault(),["e","E","+","-","."].includes(k.key)&&k.preventDefault()},onChange:k=>{const Z=k.target.value.replace(/[^0-9]/g,"");w(Z)},onBlur:()=>{if(!j)return;const k=Math.min(4e3,Math.max(5,Number(j)));w(String(k))},style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:600,borderRadius:"12px"}})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Description (Optional)"}),e.jsx(qn,{placeholder:"Enter voucher description...",value:M,onChange:k=>R(k.target.value),style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px",minHeight:"80px"}})]}),y==="third_party_voucher"&&e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Merchant Name"}),e.jsx(ie,{type:"text",placeholder:"e.g., 1Voucher, OTT, Blu",value:D,onChange:k=>b(k.target.value),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px"}})]}),e.jsxs(Ke,{style:{backgroundColor:"#f0f9ff",border:"1px solid #bfdbfe"},children:[e.jsx(nr,{style:{width:"16px",height:"16px",color:"#1d4ed8"}}),e.jsxs(Je,{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#1e3a8a",margin:"0 0 4px 0"},children:"Voucher Format Information"}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#1e40af",margin:0},children:[y==="mm_voucher"&&"MyMoolah vouchers use 16 digits in format: XXXX XXXX XXXX XXXX",y==="easypay_voucher"&&'EasyPay numbers are 14 digits starting with "9". Customer pays at retail stores, then auto-converts to MyMoolah voucher.',y==="third_party_voucher"&&"Third party vouchers use custom merchant format codes."]})]})]}),e.jsx(O,{onClick:re,disabled:!j||parseFloat(j)<=0||a,style:{height:"44px",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",cursor:!j||parseFloat(j)<=0||a?"not-allowed":"pointer",opacity:!j||parseFloat(j)<=0||a?.5:1},children:a?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Ps,{style:{width:"16px",height:"16px",animation:"spin 1s linear infinite"}}),"Generating..."]}):`Generate ${y==="mm_voucher"?"MyMoolah":y==="easypay_voucher"?"EasyPay":"3rd Party"} Voucher`})]})})]})}),e.jsx(Or,{value:"redeem",children:e.jsxs(oe,{style:{border:"1px solid #e2e8f0",borderRadius:"12px"},children:[e.jsxs(Ae,{children:[e.jsxs(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(Qx,{style:{width:"24px",height:"24px",color:"#16a34a"}}),"Redeem Voucher"]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:0},children:"Deposit voucher value into your MyMoolah wallet"})]}),e.jsx(ce,{style:{padding:"24px"},children:e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Voucher Code or EasyPay Number"}),e.jsx(ie,{type:"text",placeholder:"Enter voucher code or EasyPay number...",value:P,onChange:k=>v(k.target.value),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px"}})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Amount (Optional - for partial redemption)"}),e.jsx(ie,{type:"number",placeholder:"Leave empty to redeem full amount",value:T,onChange:k=>I(k.target.value),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px"}})]}),e.jsxs(Ke,{style:{backgroundColor:"#f0fdf4",border:"1px solid #bbf7d0"},children:[e.jsx($e,{style:{width:"16px",height:"16px",color:"#16a34a"}}),e.jsxs(Je,{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#166534",margin:"0 0 4px 0"},children:"Instant Redemption"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#15803d",margin:0},children:"Voucher value will be instantly added to your MyMoolah wallet balance."})]})]}),e.jsx(O,{onClick:K,disabled:!P.trim()||a,style:{height:"44px",backgroundColor:"#16a34a",color:"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",cursor:!P.trim()||a?"not-allowed":"pointer",opacity:!P.trim()||a?.5:1},children:a?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(Ps,{style:{width:"16px",height:"16px",animation:"spin 1s linear infinite"}}),"Redeeming..."]}):"Redeem Voucher"})]})})]})}),e.jsxs(Or,{value:"history",children:[e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"12px"},children:[e.jsxs("div",{style:{position:"relative",flex:1},children:[e.jsx(Lt,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"20px",height:"20px",color:"#6b7280"}}),e.jsx(ie,{type:"text",placeholder:"Search vouchers, codes, or EasyPay numbers...",value:o,onChange:k=>x(k.target.value),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px",paddingLeft:"44px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff"}})]}),e.jsxs(O,{onClick:()=>h(!i),variant:"outline",style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px",border:"1px solid #e2e8f0",backgroundColor:i?"#f0f9ff":"#ffffff",color:i?"#1d4ed8":"#374151"},children:[e.jsx(Bx,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Filters"]})]}),i&&e.jsx(oe,{style:{borderRadius:"12px",marginBottom:"16px"},children:e.jsxs(ce,{style:{padding:"20px"},children:[e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Voucher Type"}),e.jsxs(nt,{value:g.type,onValueChange:k=>u({...g,type:k}),children:[e.jsx(it,{style:{height:"36px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px"},children:e.jsx(ot,{})}),e.jsxs(xt,{children:[e.jsx(Be,{value:"all",children:"All Types"}),e.jsx(Be,{value:"mm_voucher",children:"MMVoucher"}),e.jsx(Be,{value:"easypay_voucher",children:"EasyPay"}),e.jsx(Be,{value:"third_party_voucher",children:"Third Party"})]})]})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Status"}),e.jsxs(nt,{value:g.status,onValueChange:k=>u({...g,status:k}),children:[e.jsx(it,{style:{height:"36px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px"},children:e.jsx(ot,{})}),e.jsxs(xt,{children:[e.jsx(Be,{value:"all",children:"All Status"}),e.jsx(Be,{value:"active",children:"Active"}),e.jsx(Be,{value:"pending_payment",children:"Pending"}),e.jsx(Be,{value:"redeemed",children:"Redeemed"}),e.jsx(Be,{value:"expired",children:"Expired"}),e.jsx(Be,{value:"cancelled",children:"Cancelled"})]})]})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Date Range"}),e.jsxs(nt,{value:g.dateRange,onValueChange:k=>u({...g,dateRange:k}),children:[e.jsx(it,{style:{height:"36px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px"},children:e.jsx(ot,{})}),e.jsxs(xt,{children:[e.jsx(Be,{value:"all",children:"All Time"}),e.jsx(Be,{value:"today",children:"Today"}),e.jsx(Be,{value:"week",children:"This Week"}),e.jsx(Be,{value:"month",children:"This Month"}),e.jsx(Be,{value:"custom",children:"Custom Range"})]})]})]}),e.jsx("div",{style:{display:"flex",alignItems:"end"},children:e.jsx(O,{onClick:()=>{u({type:"all",status:"all",dateRange:"all",startDate:void 0,endDate:void 0}),x("")},variant:"outline",style:{height:"36px",fontFamily:"Montserrat, sans-serif",fontSize:"12px",borderRadius:"8px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff",color:"#6b7280"},children:"Clear All"})})]}),g.dateRange==="custom"&&e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"16px",marginTop:"16px"},children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Start Date"}),e.jsx(ie,{type:"date",value:g.startDate||"",onChange:k=>u({...g,startDate:k.target.value}),style:{height:"36px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px"}})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"End Date"}),e.jsx(ie,{type:"date",value:g.endDate||"",onChange:k=>u({...g,endDate:k.target.value}),style:{height:"36px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px"}})]})]})]})})]}),e.jsx("div",{style:{borderRadius:"12px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",marginBottom:"24px"},children:e.jsxs("div",{style:{padding:"24px",borderBottom:"1px solid #e2e8f0"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx(Mx,{style:{width:"24px",height:"24px",color:"#6b7280"}}),"Voucher History"]}),e.jsxs(O,{onClick:()=>{const k=`data:text/csv;charset=utf-8,Voucher Code,Type,Status,Amount,Currency,Created Date,Expiry Date,Description
`+se.map(U=>{const de=new Date(U.createdDate).getTime(),Xe=U.status==="pending_payment"&&U.type==="easypay_voucher"?new Date(de+96*60*60*1e3).toISOString():new Date(de+365*24*60*60*1e3).toISOString(),ht=U.expiresAt||U.expiryDate||Xe;return`"${U.voucherCode}","${U.type}","${U.status}","${U.amount}","${U.currency}","${U.createdDate}","${ht}","${U.description}"`}).join(`
`),Z=encodeURI(k),te=document.createElement("a");te.setAttribute("href",Z),te.setAttribute("download",`voucher_history_${new Date().toISOString().split("T")[0]}.csv`),document.body.appendChild(te),te.click(),document.body.removeChild(te)},style:{backgroundColor:"#f8fafc",color:"#6b7280",border:"1px solid #e2e8f0",borderRadius:"8px",height:"36px",fontSize:"12px",fontFamily:"Montserrat, sans-serif",fontWeight:"600"},children:[e.jsx(cr,{style:{width:"16px",height:"16px",marginRight:"4px"}}),"Export"]})]}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:"8px 0 0 0"},children:["Complete voucher transaction history (",se.length," vouchers)"]})]})}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"8px"},children:se.length===0?e.jsx(oe,{style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{style:{padding:"var(--mobile-padding)"},children:e.jsxs("div",{style:{textAlign:"center",padding:"40px 20px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#f8fafc",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px auto"},children:e.jsx(Yr,{style:{width:"24px",height:"24px",color:"#9ca3af"}})}),e.jsx("h4",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"600",color:"#6b7280",marginBottom:"8px"},children:"No vouchers found"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#9ca3af",margin:0},children:"Try adjusting your search or filters"})]})})}):se.map(k=>{const Z=ne(k.type),te=ue(k.status);return S(k),e.jsx("div",{style:{backgroundColor:"#ffffff",borderRadius:"12px",border:"1px solid #e2e8f0",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.05)",overflow:"hidden",width:"100%",minWidth:"100%",maxWidth:"none",flex:"1 1 100%",margin:"0",padding:"0",boxSizing:"border-box",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:U=>{U.currentTarget.style.borderColor="#86BE41",U.currentTarget.style.transform="translateY(-2px)",U.currentTarget.style.boxShadow="0 8px 20px rgba(134, 190, 65, 0.15)"},onMouseOut:U=>{U.currentTarget.style.borderColor="#e2e8f0",U.currentTarget.style.transform="translateY(0)",U.currentTarget.style.boxShadow="0 1px 3px rgba(0, 0, 0, 0.05)"},onClick:()=>m(k),children:e.jsxs("div",{style:{padding:"20px",width:"100%",boxSizing:"border-box"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsxs("div",{style:{width:"40px",height:"40px",borderRadius:"12px",backgroundColor:"#f8fafc",display:"flex",alignItems:"center",justifyContent:"center",border:"1px solid #e5e7eb",overflow:"hidden"},children:[e.jsx("img",{src:(k.type==="mm_voucher"||k.type==="easypay_voucher",rr),alt:k.type==="mm_voucher"?"MMVoucher Logo":k.type==="easypay_voucher"?"EasyPay Logo":"Voucher Logo",style:{width:"24px",height:"24px",objectFit:"contain"},onError:U=>{U.currentTarget.style.display="none";const de=U.currentTarget.nextElementSibling;de&&(de.style.display="flex")}}),e.jsx("div",{style:{display:"none",width:"24px",height:"24px",alignItems:"center",justifyContent:"center",backgroundColor:k.type==="mm_voucher"||k.type==="easypay_voucher"?"#86BE41":"#9ca3af",borderRadius:"6px",color:"white",fontSize:"12px",fontWeight:"bold"},children:k.type==="mm_voucher"||k.type==="easypay_voucher"?"MM":"V"})]}),e.jsxs("div",{style:{display:"flex",gap:"6px"},children:[e.jsx(De,{className:Z.color,style:{fontSize:"10px",fontWeight:"600",padding:"3px 8px",borderRadius:"6px",fontFamily:"Montserrat, sans-serif"},children:Z.text}),e.jsx(De,{className:te.color,style:{fontSize:"10px",fontWeight:"500",padding:"3px 8px",borderRadius:"6px",fontFamily:"Montserrat, sans-serif"},children:te.text})]})]}),e.jsxs("div",{style:{textAlign:"right"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:k.remainingValue>0?"#16a34a":"#9ca3af",margin:0,lineHeight:1},children:me(k.remainingValue)}),k.isPartialRedemption&&e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:"#9ca3af",margin:"2px 0 0 0",lineHeight:1},children:["of ",me(k.amount)]})]})]}),e.jsx("div",{style:{marginBottom:"12px"},children:(()=>{const U=S(k);return e.jsxs(e.Fragment,{children:[e.jsx("p",{style:{fontFamily:"monospace",fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:0,letterSpacing:"0.5px",lineHeight:1.2},children:U.mainCode}),U.subCode&&e.jsx("p",{style:{fontFamily:"monospace",fontSize:"12px",fontWeight:"500",color:"#2D8CCA",margin:"2px 0 0 0",letterSpacing:"0.3px",lineHeight:1},children:U.subCode})]})})()}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280",margin:"0 0 12px 0",lineHeight:1.3}}),e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(Ms,{style:{width:"12px",height:"12px",color:"#9ca3af"}}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:new Date(k.expiryDate)<new Date?"#dc2626":"#9ca3af",fontWeight:"500"},children:He(k.createdDate)})]}),e.jsx("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:e.jsx("button",{onClick:U=>{U.stopPropagation(),ae(k)},style:{background:"none",border:"none",cursor:"pointer",color:l===k.voucherCode?"#16a34a":"#9ca3af",padding:"4px",borderRadius:"4px",transition:"color 0.2s ease",fontFamily:"Montserrat, sans-serif"},"aria-label":"Copy voucher code",children:l===k.voucherCode?e.jsx(Me,{style:{width:"14px",height:"14px"}}):e.jsx(lt,{style:{width:"14px",height:"14px"}})})})]}),k.type==="easypay_voucher"&&k.status==="pending_payment"&&e.jsxs("div",{style:{marginTop:"8px",display:"flex",gap:"8px",alignItems:"flex-start"},children:[e.jsxs("div",{style:{flex:1,padding:"8px 12px",backgroundColor:"#fef3c7",border:"1px solid #f59e0b",borderRadius:"6px",borderLeft:"3px solid #f59e0b"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",marginBottom:"2px"},children:[e.jsx(yr,{style:{width:"10px",height:"10px",color:"#f59e0b"}}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:"#f59e0b",fontWeight:"600"},children:["Expires: ",He(k.expiryDate)]})]}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",color:"#d97706",fontWeight:"500"},children:"Make payment at any EasyPay terminal"})]}),e.jsx("button",{onClick:U=>{U.stopPropagation(),mt(k)},style:{backgroundColor:"#dc2626",color:"white",border:"none",borderRadius:"6px",padding:"8px",width:"32px",height:"32px",cursor:"pointer",fontFamily:"Montserrat, sans-serif",transition:"background-color 0.2s ease",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},onMouseOver:U=>U.currentTarget.style.backgroundColor="#b91c1c",onMouseOut:U=>U.currentTarget.style.backgroundColor="#dc2626",title:"Cancel voucher and get refund",children:e.jsx(je,{style:{width:"14px",height:"14px"}})})]})]})},k.id)})})]})]})]}),e.jsx(Le,{open:!!f,onOpenChange:()=>m(null),children:e.jsx(_e,{style:{fontFamily:"Montserrat, sans-serif",maxWidth:"340px",backgroundColor:"#ffffff",borderRadius:"16px"},"aria-describedby":"voucher-details-description",children:f&&e.jsxs(e.Fragment,{children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937"},children:"Voucher Details"}),e.jsx("div",{id:"voucher-details-description",className:"sr-only",children:"Detailed information about the selected voucher"})]}),e.jsxs("div",{style:{padding:"16px 0"},children:[e.jsxs("div",{style:{display:"flex",gap:"8px",marginBottom:"16px"},children:[e.jsx(De,{className:ne(f.type).color,style:{fontSize:"12px",fontWeight:"600",padding:"4px 8px",borderRadius:"6px"},children:ne(f.type).text}),e.jsx(De,{className:ue(f.status).color,style:{fontSize:"12px",fontWeight:"600",padding:"4px 8px",borderRadius:"6px"},children:ue(f.status).text})]}),f.type!=="easypay_voucher"&&e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"Voucher Code"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"8px",padding:"12px"},children:[e.jsx("span",{style:{fontFamily:"monospace",fontSize:"14px",fontWeight:"600",color:"#1f2937",flex:1},children:(()=>{const k=S(f);return e.jsxs("div",{children:[e.jsx("div",{children:k.mainCode}),k.subCode&&e.jsx("div",{style:{fontSize:"12px",color:"#6b7280",marginTop:"4px"},children:k.subCode})]})})()}),e.jsx("button",{onClick:()=>ae(f),style:{background:"none",border:"none",cursor:"pointer",color:l===f.voucherCode?"#16a34a":"#6b7280",fontFamily:"Montserrat, sans-serif"},children:l===f.voucherCode?e.jsx(Me,{style:{width:"16px",height:"16px"}}):e.jsx(lt,{style:{width:"16px",height:"16px"}})})]})]}),f.type==="easypay_voucher"&&f.easyPayNumber&&e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"8px",display:"block"},children:"EasyPay Number"}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",backgroundColor:"#dbeafe",border:"1px solid #93c5fd",borderRadius:"8px",padding:"12px"},children:[e.jsx("span",{style:{fontFamily:"monospace",fontSize:"14px",fontWeight:"600",color:"#1e40af",flex:1},children:f.easyPayNumber&&f.easyPayNumber.slice(0,1)+" "+f.easyPayNumber.slice(1,5)+" "+f.easyPayNumber.slice(5,9)+" "+f.easyPayNumber.slice(9,13)+" "+f.easyPayNumber.slice(13)}),e.jsx("button",{onClick:()=>{f.easyPayNumber&&be(f.easyPayNumber)},style:{background:"none",border:"none",cursor:"pointer",color:l===f.easyPayNumber?"#16a34a":"#1e40af",fontFamily:"Montserrat, sans-serif"},children:l===f.easyPayNumber?e.jsx(Me,{style:{width:"16px",height:"16px"}}):e.jsx(lt,{style:{width:"16px",height:"16px"}})})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"4px",display:"block"},children:"Original Amount"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937",margin:0},children:me(f.amount)})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"4px",display:"block"},children:"Remaining Value"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:f.remainingValue>0?"#16a34a":"#6b7280",margin:0},children:me(f.remainingValue)})]})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px",marginBottom:"16px"},children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"4px",display:"block"},children:"Created"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:0},children:He(f.createdDate)})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"4px",display:"block"},children:"Expires"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:new Date(f.expiryDate)<new Date?"#dc2626":"#6b7280",margin:0},children:He(f.expiryDate)})]})]}),f.redeemedAt&&e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"4px",display:"block"},children:"Redeemed In"}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:0},children:[f.redeemedAt.type==="wallet"?"Wallet":f.redeemedAt.type,f.redeemedAt.name?` (${f.redeemedAt.name})`:"",f.redeemedAt.phoneNumber?`, ${f.redeemedAt.phoneNumber}`:"",f.redeemedAt.timestamp?` on ${He(f.redeemedAt.timestamp)}`:""]})]}),e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",marginBottom:"4px",display:"block"},children:"Description"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:0},children:f.description&&f.description!=="MMVoucher"&&f.description!=="EasyPay voucher"?f.description:"No description provided"})]}),e.jsx(O,{onClick:()=>m(null),style:{width:"100%",height:"44px",backgroundColor:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"8px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600"},children:"Close"})]})]})})}),e.jsx(Le,{open:B,onOpenChange:N,children:e.jsxs(_e,{style:{maxWidth:"400px",width:"90vw",backgroundColor:"#ffffff",borderRadius:"16px",padding:"24px",border:"none",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},"aria-describedby":"voucher-success-description",children:[e.jsx("div",{id:"voucher-success-description",className:"sr-only",children:"Success notification for voucher purchase"}),e.jsxs("div",{style:{textAlign:"center"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",backgroundColor:"#f0fdf4",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 16px auto"},children:e.jsx($e,{style:{width:"32px",height:"32px",color:"#16a34a"}})}),e.jsx("h2",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:"0 0 8px 0"},children:C==null?void 0:C.title}),(C==null?void 0:C.voucherCode)&&e.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"12px",padding:"16px",margin:"16px 0",border:"1px solid #e2e8f0"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"600",color:"#6b7280",margin:"0 0 4px 0",textTransform:"uppercase",letterSpacing:"0.5px"},children:C.type==="easypay"?"EasyPay Number":"Voucher Code"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937",margin:0,letterSpacing:"1px"},children:C.voucherCode})]}),(C==null?void 0:C.amount)&&e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 4px 0"},children:"Amount"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"24px",fontWeight:"700",color:"#16a34a",margin:0},children:C.amount})]}),(C==null?void 0:C.walletBalance)&&e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#6b7280",margin:"0 0 4px 0"},children:"Wallet Balance"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937",margin:0},children:C.walletBalance})]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:"0 0 24px 0",lineHeight:"1.5"},children:C==null?void 0:C.message}),e.jsx(O,{onClick:()=>N(!1),style:{width:"100%",height:"44px",backgroundColor:"#86BE41",color:"#ffffff",border:"none",borderRadius:"8px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseOver:k=>k.currentTarget.style.backgroundColor="#7caf3a",onMouseOut:k=>k.currentTarget.style.backgroundColor="#86BE41",children:"OK"})]})]})})]})}var so={exports:{}};(function(t,r){(function(a,n){t.exports=n()})(typeof self<"u"?self:wi,function(){return function(s){var a={};function n(o){if(a[o])return a[o].exports;var x=a[o]={i:o,l:!1,exports:{}};return s[o].call(x.exports,x,x.exports,n),x.l=!0,x.exports}return n.m=s,n.c=a,n.d=function(o,x,i){n.o(o,x)||Object.defineProperty(o,x,{configurable:!1,enumerable:!0,get:i})},n.n=function(o){var x=o&&o.__esModule?function(){return o.default}:function(){return o};return n.d(x,"a",x),x},n.o=function(o,x){return Object.prototype.hasOwnProperty.call(o,x)},n.p="",n(n.s=3)}([function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function x(i,h){this.width=h,this.height=i.length/h,this.data=i}return x.createEmpty=function(i,h){return new x(new Uint8ClampedArray(i*h),i)},x.prototype.get=function(i,h){return i<0||i>=this.width||h<0||h>=this.height?!1:!!this.data[h*this.width+i]},x.prototype.set=function(i,h,f){this.data[h*this.width+i]=f?1:0},x.prototype.setRegion=function(i,h,f,m,l){for(var p=h;p<h+m;p++)for(var E=i;E<i+f;E++)this.set(E,p,!!l)},x}();a.BitMatrix=o},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=n(2);function x(h,f){return h^f}a.addOrSubtractGF=x;var i=function(){function h(f,m,l){this.primitive=f,this.size=m,this.generatorBase=l,this.expTable=new Array(this.size),this.logTable=new Array(this.size);for(var p=1,E=0;E<this.size;E++)this.expTable[E]=p,p=p*2,p>=this.size&&(p=(p^this.primitive)&this.size-1);for(var E=0;E<this.size-1;E++)this.logTable[this.expTable[E]]=E;this.zero=new o.default(this,Uint8ClampedArray.from([0])),this.one=new o.default(this,Uint8ClampedArray.from([1]))}return h.prototype.multiply=function(f,m){return f===0||m===0?0:this.expTable[(this.logTable[f]+this.logTable[m])%(this.size-1)]},h.prototype.inverse=function(f){if(f===0)throw new Error("Can't invert 0");return this.expTable[this.size-this.logTable[f]-1]},h.prototype.buildMonomial=function(f,m){if(f<0)throw new Error("Invalid monomial degree less than 0");if(m===0)return this.zero;var l=new Uint8ClampedArray(f+1);return l[0]=m,new o.default(this,l)},h.prototype.log=function(f){if(f===0)throw new Error("Can't take log(0)");return this.logTable[f]},h.prototype.exp=function(f){return this.expTable[f]},h}();a.default=i},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=n(1),x=function(){function i(h,f){if(f.length===0)throw new Error("No coefficients.");this.field=h;var m=f.length;if(m>1&&f[0]===0){for(var l=1;l<m&&f[l]===0;)l++;if(l===m)this.coefficients=h.zero.coefficients;else{this.coefficients=new Uint8ClampedArray(m-l);for(var p=0;p<this.coefficients.length;p++)this.coefficients[p]=f[l+p]}}else this.coefficients=f}return i.prototype.degree=function(){return this.coefficients.length-1},i.prototype.isZero=function(){return this.coefficients[0]===0},i.prototype.getCoefficient=function(h){return this.coefficients[this.coefficients.length-1-h]},i.prototype.addOrSubtract=function(h){var f;if(this.isZero())return h;if(h.isZero())return this;var m=this.coefficients,l=h.coefficients;m.length>l.length&&(f=[l,m],m=f[0],l=f[1]);for(var p=new Uint8ClampedArray(l.length),E=l.length-m.length,c=0;c<E;c++)p[c]=l[c];for(var c=E;c<l.length;c++)p[c]=o.addOrSubtractGF(m[c-E],l[c]);return new i(this.field,p)},i.prototype.multiply=function(h){if(h===0)return this.field.zero;if(h===1)return this;for(var f=this.coefficients.length,m=new Uint8ClampedArray(f),l=0;l<f;l++)m[l]=this.field.multiply(this.coefficients[l],h);return new i(this.field,m)},i.prototype.multiplyPoly=function(h){if(this.isZero()||h.isZero())return this.field.zero;for(var f=this.coefficients,m=f.length,l=h.coefficients,p=l.length,E=new Uint8ClampedArray(m+p-1),c=0;c<m;c++)for(var g=f[c],u=0;u<p;u++)E[c+u]=o.addOrSubtractGF(E[c+u],this.field.multiply(g,l[u]));return new i(this.field,E)},i.prototype.multiplyByMonomial=function(h,f){if(h<0)throw new Error("Invalid degree less than 0");if(f===0)return this.field.zero;for(var m=this.coefficients.length,l=new Uint8ClampedArray(m+h),p=0;p<m;p++)l[p]=this.field.multiply(this.coefficients[p],f);return new i(this.field,l)},i.prototype.evaluateAt=function(h){var f=0;if(h===0)return this.getCoefficient(0);var m=this.coefficients.length;if(h===1)return this.coefficients.forEach(function(p){f=o.addOrSubtractGF(f,p)}),f;f=this.coefficients[0];for(var l=1;l<m;l++)f=o.addOrSubtractGF(this.field.multiply(h,f),this.coefficients[l]);return f},i}();a.default=x},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=n(4),x=n(5),i=n(11),h=n(12);function f(p){var E=h.locate(p);if(!E)return null;for(var c=0,g=E;c<g.length;c++){var u=g[c],y=i.extract(p,u),F=x.decode(y.matrix);if(F)return{binaryData:F.bytes,data:F.text,chunks:F.chunks,version:F.version,location:{topRightCorner:y.mappingFunction(u.dimension,0),topLeftCorner:y.mappingFunction(0,0),bottomRightCorner:y.mappingFunction(u.dimension,u.dimension),bottomLeftCorner:y.mappingFunction(0,u.dimension),topRightFinderPattern:u.topRight,topLeftFinderPattern:u.topLeft,bottomLeftFinderPattern:u.bottomLeft,bottomRightAlignmentPattern:u.alignmentPattern}}}return null}var m={inversionAttempts:"attemptBoth"};function l(p,E,c,g){g===void 0&&(g={});var u=m;Object.keys(u||{}).forEach(function(D){u[D]=g[D]||u[D]});var y=u.inversionAttempts==="attemptBoth"||u.inversionAttempts==="invertFirst",F=u.inversionAttempts==="onlyInvert"||u.inversionAttempts==="invertFirst",j=o.binarize(p,E,c,y),w=j.binarized,M=j.inverted,R=f(F?M:w);return!R&&(u.inversionAttempts==="attemptBoth"||u.inversionAttempts==="invertFirst")&&(R=f(F?w:M)),R}l.default=l,a.default=l},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=n(0),x=8,i=24;function h(l,p,E){return l<p?p:l>E?E:l}var f=function(){function l(p,E){this.width=p,this.data=new Uint8ClampedArray(p*E)}return l.prototype.get=function(p,E){return this.data[E*this.width+p]},l.prototype.set=function(p,E,c){this.data[E*this.width+p]=c},l}();function m(l,p,E,c){if(l.length!==p*E*4)throw new Error("Malformed data passed to binarizer.");for(var g=new f(p,E),u=0;u<p;u++)for(var y=0;y<E;y++){var F=l[(y*p+u)*4+0],j=l[(y*p+u)*4+1],w=l[(y*p+u)*4+2];g.set(u,y,.2126*F+.7152*j+.0722*w)}for(var M=Math.ceil(p/x),R=Math.ceil(E/x),D=new f(M,R),b=0;b<R;b++)for(var P=0;P<M;P++){for(var v=0,T=1/0,I=0,y=0;y<x;y++)for(var u=0;u<x;u++){var B=g.get(P*x+u,b*x+y);v+=B,T=Math.min(T,B),I=Math.max(I,B)}var N=v/Math.pow(x,2);if(I-T<=i&&(N=T/2,b>0&&P>0)){var C=(D.get(P,b-1)+2*D.get(P-1,b)+D.get(P-1,b-1))/4;T<C&&(N=C)}D.set(P,b,N)}var L=o.BitMatrix.createEmpty(p,E),S=null;c&&(S=o.BitMatrix.createEmpty(p,E));for(var b=0;b<R;b++)for(var P=0;P<M;P++){for(var A=h(P,2,M-3),z=h(b,2,R-3),v=0,$=-2;$<=2;$++)for(var _=-2;_<=2;_++)v+=D.get(A+$,z+_);for(var Q=v/25,$=0;$<x;$++)for(var _=0;_<x;_++){var u=P*x+$,y=b*x+_,ee=g.get(u,y);L.set(u,y,ee<=Q),c&&S.set(u,y,!(ee<=Q))}}return c?{binarized:L,inverted:S}:{binarized:L}}a.binarize=m},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=n(0),x=n(6),i=n(9),h=n(10);function f(w,M){for(var R=w^M,D=0;R;)D++,R&=R-1;return D}function m(w,M){return M<<1|w}var l=[{bits:21522,formatInfo:{errorCorrectionLevel:1,dataMask:0}},{bits:20773,formatInfo:{errorCorrectionLevel:1,dataMask:1}},{bits:24188,formatInfo:{errorCorrectionLevel:1,dataMask:2}},{bits:23371,formatInfo:{errorCorrectionLevel:1,dataMask:3}},{bits:17913,formatInfo:{errorCorrectionLevel:1,dataMask:4}},{bits:16590,formatInfo:{errorCorrectionLevel:1,dataMask:5}},{bits:20375,formatInfo:{errorCorrectionLevel:1,dataMask:6}},{bits:19104,formatInfo:{errorCorrectionLevel:1,dataMask:7}},{bits:30660,formatInfo:{errorCorrectionLevel:0,dataMask:0}},{bits:29427,formatInfo:{errorCorrectionLevel:0,dataMask:1}},{bits:32170,formatInfo:{errorCorrectionLevel:0,dataMask:2}},{bits:30877,formatInfo:{errorCorrectionLevel:0,dataMask:3}},{bits:26159,formatInfo:{errorCorrectionLevel:0,dataMask:4}},{bits:25368,formatInfo:{errorCorrectionLevel:0,dataMask:5}},{bits:27713,formatInfo:{errorCorrectionLevel:0,dataMask:6}},{bits:26998,formatInfo:{errorCorrectionLevel:0,dataMask:7}},{bits:5769,formatInfo:{errorCorrectionLevel:3,dataMask:0}},{bits:5054,formatInfo:{errorCorrectionLevel:3,dataMask:1}},{bits:7399,formatInfo:{errorCorrectionLevel:3,dataMask:2}},{bits:6608,formatInfo:{errorCorrectionLevel:3,dataMask:3}},{bits:1890,formatInfo:{errorCorrectionLevel:3,dataMask:4}},{bits:597,formatInfo:{errorCorrectionLevel:3,dataMask:5}},{bits:3340,formatInfo:{errorCorrectionLevel:3,dataMask:6}},{bits:2107,formatInfo:{errorCorrectionLevel:3,dataMask:7}},{bits:13663,formatInfo:{errorCorrectionLevel:2,dataMask:0}},{bits:12392,formatInfo:{errorCorrectionLevel:2,dataMask:1}},{bits:16177,formatInfo:{errorCorrectionLevel:2,dataMask:2}},{bits:14854,formatInfo:{errorCorrectionLevel:2,dataMask:3}},{bits:9396,formatInfo:{errorCorrectionLevel:2,dataMask:4}},{bits:8579,formatInfo:{errorCorrectionLevel:2,dataMask:5}},{bits:11994,formatInfo:{errorCorrectionLevel:2,dataMask:6}},{bits:11245,formatInfo:{errorCorrectionLevel:2,dataMask:7}}],p=[function(w){return(w.y+w.x)%2===0},function(w){return w.y%2===0},function(w){return w.x%3===0},function(w){return(w.y+w.x)%3===0},function(w){return(Math.floor(w.y/2)+Math.floor(w.x/3))%2===0},function(w){return w.x*w.y%2+w.x*w.y%3===0},function(w){return(w.y*w.x%2+w.y*w.x%3)%2===0},function(w){return((w.y+w.x)%2+w.y*w.x%3)%2===0}];function E(w){var M=17+4*w.versionNumber,R=o.BitMatrix.createEmpty(M,M);R.setRegion(0,0,9,9,!0),R.setRegion(M-8,0,8,9,!0),R.setRegion(0,M-8,9,8,!0);for(var D=0,b=w.alignmentPatternCenters;D<b.length;D++)for(var P=b[D],v=0,T=w.alignmentPatternCenters;v<T.length;v++){var I=T[v];P===6&&I===6||P===6&&I===M-7||P===M-7&&I===6||R.setRegion(P-2,I-2,5,5,!0)}return R.setRegion(6,9,1,M-17,!0),R.setRegion(9,6,M-17,1,!0),w.versionNumber>6&&(R.setRegion(M-11,0,3,6,!0),R.setRegion(0,M-11,6,3,!0)),R}function c(w,M,R){for(var D=p[R.dataMask],b=w.height,P=E(M),v=[],T=0,I=0,B=!0,N=b-1;N>0;N-=2){N===6&&N--;for(var C=0;C<b;C++)for(var L=B?b-1-C:C,S=0;S<2;S++){var A=N-S;if(!P.get(A,L)){I++;var z=w.get(A,L);D({y:L,x:A})&&(z=!z),T=m(z,T),I===8&&(v.push(T),I=0,T=0)}}B=!B}return v}function g(w){var M=w.height,R=Math.floor((M-17)/4);if(R<=6)return h.VERSIONS[R-1];for(var D=0,b=5;b>=0;b--)for(var P=M-9;P>=M-11;P--)D=m(w.get(P,b),D);for(var v=0,P=5;P>=0;P--)for(var b=M-9;b>=M-11;b--)v=m(w.get(P,b),v);for(var T=1/0,I,B=0,N=h.VERSIONS;B<N.length;B++){var C=N[B];if(C.infoBits===D||C.infoBits===v)return C;var L=f(D,C.infoBits);L<T&&(I=C,T=L),L=f(v,C.infoBits),L<T&&(I=C,T=L)}if(T<=3)return I}function u(w){for(var M=0,R=0;R<=8;R++)R!==6&&(M=m(w.get(R,8),M));for(var D=7;D>=0;D--)D!==6&&(M=m(w.get(8,D),M));for(var b=w.height,P=0,D=b-1;D>=b-7;D--)P=m(w.get(8,D),P);for(var R=b-8;R<b;R++)P=m(w.get(R,8),P);for(var v=1/0,T=null,I=0,B=l;I<B.length;I++){var N=B[I],C=N.bits,L=N.formatInfo;if(C===M||C===P)return L;var S=f(M,C);S<v&&(T=L,v=S),M!==P&&(S=f(P,C),S<v&&(T=L,v=S))}return v<=3?T:null}function y(w,M,R){var D=M.errorCorrectionLevels[R],b=[],P=0;if(D.ecBlocks.forEach(function(z){for(var $=0;$<z.numBlocks;$++)b.push({numDataCodewords:z.dataCodewordsPerBlock,codewords:[]}),P+=z.dataCodewordsPerBlock+D.ecCodewordsPerBlock}),w.length<P)return null;w=w.slice(0,P);for(var v=D.ecBlocks[0].dataCodewordsPerBlock,T=0;T<v;T++)for(var I=0,B=b;I<B.length;I++){var N=B[I];N.codewords.push(w.shift())}if(D.ecBlocks.length>1)for(var C=D.ecBlocks[0].numBlocks,L=D.ecBlocks[1].numBlocks,T=0;T<L;T++)b[C+T].codewords.push(w.shift());for(;w.length>0;)for(var S=0,A=b;S<A.length;S++){var N=A[S];N.codewords.push(w.shift())}return b}function F(w){var M=g(w);if(!M)return null;var R=u(w);if(!R)return null;var D=c(w,M,R),b=y(D,M,R.errorCorrectionLevel);if(!b)return null;for(var P=b.reduce(function(S,A){return S+A.numDataCodewords},0),v=new Uint8ClampedArray(P),T=0,I=0,B=b;I<B.length;I++){var N=B[I],C=i.decode(N.codewords,N.codewords.length-N.numDataCodewords);if(!C)return null;for(var L=0;L<N.numDataCodewords;L++)v[T++]=C[L]}try{return x.decode(v,M.versionNumber)}catch{return null}}function j(w){if(w==null)return null;var M=F(w);if(M)return M;for(var R=0;R<w.width;R++)for(var D=R+1;D<w.height;D++)w.get(R,D)!==w.get(D,R)&&(w.set(R,D,!w.get(R,D)),w.set(D,R,!w.get(D,R)));return F(w)}a.decode=j},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=n(7),x=n(8),i;(function(g){g.Numeric="numeric",g.Alphanumeric="alphanumeric",g.Byte="byte",g.Kanji="kanji",g.ECI="eci"})(i=a.Mode||(a.Mode={}));var h;(function(g){g[g.Terminator=0]="Terminator",g[g.Numeric=1]="Numeric",g[g.Alphanumeric=2]="Alphanumeric",g[g.Byte=4]="Byte",g[g.Kanji=8]="Kanji",g[g.ECI=7]="ECI"})(h||(h={}));function f(g,u){for(var y=[],F="",j=[10,12,14][u],w=g.readBits(j);w>=3;){var M=g.readBits(10);if(M>=1e3)throw new Error("Invalid numeric value above 999");var R=Math.floor(M/100),D=Math.floor(M/10)%10,b=M%10;y.push(48+R,48+D,48+b),F+=R.toString()+D.toString()+b.toString(),w-=3}if(w===2){var M=g.readBits(7);if(M>=100)throw new Error("Invalid numeric value above 99");var R=Math.floor(M/10),D=M%10;y.push(48+R,48+D),F+=R.toString()+D.toString()}else if(w===1){var M=g.readBits(4);if(M>=10)throw new Error("Invalid numeric value above 9");y.push(48+M),F+=M.toString()}return{bytes:y,text:F}}var m=["0","1","2","3","4","5","6","7","8","9","A","B","C","D","E","F","G","H","I","J","K","L","M","N","O","P","Q","R","S","T","U","V","W","X","Y","Z"," ","$","%","*","+","-",".","/",":"];function l(g,u){for(var y=[],F="",j=[9,11,13][u],w=g.readBits(j);w>=2;){var M=g.readBits(11),R=Math.floor(M/45),D=M%45;y.push(m[R].charCodeAt(0),m[D].charCodeAt(0)),F+=m[R]+m[D],w-=2}if(w===1){var R=g.readBits(6);y.push(m[R].charCodeAt(0)),F+=m[R]}return{bytes:y,text:F}}function p(g,u){for(var y=[],F="",j=[8,16,16][u],w=g.readBits(j),M=0;M<w;M++){var R=g.readBits(8);y.push(R)}try{F+=decodeURIComponent(y.map(function(D){return"%"+("0"+D.toString(16)).substr(-2)}).join(""))}catch{}return{bytes:y,text:F}}function E(g,u){for(var y=[],F="",j=[8,10,12][u],w=g.readBits(j),M=0;M<w;M++){var R=g.readBits(13),D=Math.floor(R/192)<<8|R%192;D<7936?D+=33088:D+=49472,y.push(D>>8,D&255),F+=String.fromCharCode(x.shiftJISTable[D])}return{bytes:y,text:F}}function c(g,u){for(var y,F,j,w,M=new o.BitStream(g),R=u<=9?0:u<=26?1:2,D={text:"",bytes:[],chunks:[],version:u};M.available()>=4;){var b=M.readBits(4);if(b===h.Terminator)return D;if(b===h.ECI)M.readBits(1)===0?D.chunks.push({type:i.ECI,assignmentNumber:M.readBits(7)}):M.readBits(1)===0?D.chunks.push({type:i.ECI,assignmentNumber:M.readBits(14)}):M.readBits(1)===0?D.chunks.push({type:i.ECI,assignmentNumber:M.readBits(21)}):D.chunks.push({type:i.ECI,assignmentNumber:-1});else if(b===h.Numeric){var P=f(M,R);D.text+=P.text,(y=D.bytes).push.apply(y,P.bytes),D.chunks.push({type:i.Numeric,text:P.text})}else if(b===h.Alphanumeric){var v=l(M,R);D.text+=v.text,(F=D.bytes).push.apply(F,v.bytes),D.chunks.push({type:i.Alphanumeric,text:v.text})}else if(b===h.Byte){var T=p(M,R);D.text+=T.text,(j=D.bytes).push.apply(j,T.bytes),D.chunks.push({type:i.Byte,bytes:T.bytes,text:T.text})}else if(b===h.Kanji){var I=E(M,R);D.text+=I.text,(w=D.bytes).push.apply(w,I.bytes),D.chunks.push({type:i.Kanji,bytes:I.bytes,text:I.text})}}if(M.available()===0||M.readBits(M.available())===0)return D}a.decode=c},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=function(){function x(i){this.byteOffset=0,this.bitOffset=0,this.bytes=i}return x.prototype.readBits=function(i){if(i<1||i>32||i>this.available())throw new Error("Cannot read "+i.toString()+" bits");var h=0;if(this.bitOffset>0){var f=8-this.bitOffset,m=i<f?i:f,l=f-m,p=255>>8-m<<l;h=(this.bytes[this.byteOffset]&p)>>l,i-=m,this.bitOffset+=m,this.bitOffset===8&&(this.bitOffset=0,this.byteOffset++)}if(i>0){for(;i>=8;)h=h<<8|this.bytes[this.byteOffset]&255,this.byteOffset++,i-=8;if(i>0){var l=8-i,p=255>>l<<l;h=h<<i|(this.bytes[this.byteOffset]&p)>>l,this.bitOffset+=i}}return h},x.prototype.available=function(){return 8*(this.bytes.length-this.byteOffset)-this.bitOffset},x}();a.BitStream=o},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0}),a.shiftJISTable={32:32,33:33,34:34,35:35,36:36,37:37,38:38,39:39,40:40,41:41,42:42,43:43,44:44,45:45,46:46,47:47,48:48,49:49,50:50,51:51,52:52,53:53,54:54,55:55,56:56,57:57,58:58,59:59,60:60,61:61,62:62,63:63,64:64,65:65,66:66,67:67,68:68,69:69,70:70,71:71,72:72,73:73,74:74,75:75,76:76,77:77,78:78,79:79,80:80,81:81,82:82,83:83,84:84,85:85,86:86,87:87,88:88,89:89,90:90,91:91,92:165,93:93,94:94,95:95,96:96,97:97,98:98,99:99,100:100,101:101,102:102,103:103,104:104,105:105,106:106,107:107,108:108,109:109,110:110,111:111,112:112,113:113,114:114,115:115,116:116,117:117,118:118,119:119,120:120,121:121,122:122,123:123,124:124,125:125,126:8254,33088:12288,33089:12289,33090:12290,33091:65292,33092:65294,33093:12539,33094:65306,33095:65307,33096:65311,33097:65281,33098:12443,33099:12444,33100:180,33101:65344,33102:168,33103:65342,33104:65507,33105:65343,33106:12541,33107:12542,33108:12445,33109:12446,33110:12291,33111:20189,33112:12293,33113:12294,33114:12295,33115:12540,33116:8213,33117:8208,33118:65295,33119:92,33120:12316,33121:8214,33122:65372,33123:8230,33124:8229,33125:8216,33126:8217,33127:8220,33128:8221,33129:65288,33130:65289,33131:12308,33132:12309,33133:65339,33134:65341,33135:65371,33136:65373,33137:12296,33138:12297,33139:12298,33140:12299,33141:12300,33142:12301,33143:12302,33144:12303,33145:12304,33146:12305,33147:65291,33148:8722,33149:177,33150:215,33152:247,33153:65309,33154:8800,33155:65308,33156:65310,33157:8806,33158:8807,33159:8734,33160:8756,33161:9794,33162:9792,33163:176,33164:8242,33165:8243,33166:8451,33167:65509,33168:65284,33169:162,33170:163,33171:65285,33172:65283,33173:65286,33174:65290,33175:65312,33176:167,33177:9734,33178:9733,33179:9675,33180:9679,33181:9678,33182:9671,33183:9670,33184:9633,33185:9632,33186:9651,33187:9650,33188:9661,33189:9660,33190:8251,33191:12306,33192:8594,33193:8592,33194:8593,33195:8595,33196:12307,33208:8712,33209:8715,33210:8838,33211:8839,33212:8834,33213:8835,33214:8746,33215:8745,33224:8743,33225:8744,33226:172,33227:8658,33228:8660,33229:8704,33230:8707,33242:8736,33243:8869,33244:8978,33245:8706,33246:8711,33247:8801,33248:8786,33249:8810,33250:8811,33251:8730,33252:8765,33253:8733,33254:8757,33255:8747,33256:8748,33264:8491,33265:8240,33266:9839,33267:9837,33268:9834,33269:8224,33270:8225,33271:182,33276:9711,33359:65296,33360:65297,33361:65298,33362:65299,33363:65300,33364:65301,33365:65302,33366:65303,33367:65304,33368:65305,33376:65313,33377:65314,33378:65315,33379:65316,33380:65317,33381:65318,33382:65319,33383:65320,33384:65321,33385:65322,33386:65323,33387:65324,33388:65325,33389:65326,33390:65327,33391:65328,33392:65329,33393:65330,33394:65331,33395:65332,33396:65333,33397:65334,33398:65335,33399:65336,33400:65337,33401:65338,33409:65345,33410:65346,33411:65347,33412:65348,33413:65349,33414:65350,33415:65351,33416:65352,33417:65353,33418:65354,33419:65355,33420:65356,33421:65357,33422:65358,33423:65359,33424:65360,33425:65361,33426:65362,33427:65363,33428:65364,33429:65365,33430:65366,33431:65367,33432:65368,33433:65369,33434:65370,33439:12353,33440:12354,33441:12355,33442:12356,33443:12357,33444:12358,33445:12359,33446:12360,33447:12361,33448:12362,33449:12363,33450:12364,33451:12365,33452:12366,33453:12367,33454:12368,33455:12369,33456:12370,33457:12371,33458:12372,33459:12373,33460:12374,33461:12375,33462:12376,33463:12377,33464:12378,33465:12379,33466:12380,33467:12381,33468:12382,33469:12383,33470:12384,33471:12385,33472:12386,33473:12387,33474:12388,33475:12389,33476:12390,33477:12391,33478:12392,33479:12393,33480:12394,33481:12395,33482:12396,33483:12397,33484:12398,33485:12399,33486:12400,33487:12401,33488:12402,33489:12403,33490:12404,33491:12405,33492:12406,33493:12407,33494:12408,33495:12409,33496:12410,33497:12411,33498:12412,33499:12413,33500:12414,33501:12415,33502:12416,33503:12417,33504:12418,33505:12419,33506:12420,33507:12421,33508:12422,33509:12423,33510:12424,33511:12425,33512:12426,33513:12427,33514:12428,33515:12429,33516:12430,33517:12431,33518:12432,33519:12433,33520:12434,33521:12435,33600:12449,33601:12450,33602:12451,33603:12452,33604:12453,33605:12454,33606:12455,33607:12456,33608:12457,33609:12458,33610:12459,33611:12460,33612:12461,33613:12462,33614:12463,33615:12464,33616:12465,33617:12466,33618:12467,33619:12468,33620:12469,33621:12470,33622:12471,33623:12472,33624:12473,33625:12474,33626:12475,33627:12476,33628:12477,33629:12478,33630:12479,33631:12480,33632:12481,33633:12482,33634:12483,33635:12484,33636:12485,33637:12486,33638:12487,33639:12488,33640:12489,33641:12490,33642:12491,33643:12492,33644:12493,33645:12494,33646:12495,33647:12496,33648:12497,33649:12498,33650:12499,33651:12500,33652:12501,33653:12502,33654:12503,33655:12504,33656:12505,33657:12506,33658:12507,33659:12508,33660:12509,33661:12510,33662:12511,33664:12512,33665:12513,33666:12514,33667:12515,33668:12516,33669:12517,33670:12518,33671:12519,33672:12520,33673:12521,33674:12522,33675:12523,33676:12524,33677:12525,33678:12526,33679:12527,33680:12528,33681:12529,33682:12530,33683:12531,33684:12532,33685:12533,33686:12534,33695:913,33696:914,33697:915,33698:916,33699:917,33700:918,33701:919,33702:920,33703:921,33704:922,33705:923,33706:924,33707:925,33708:926,33709:927,33710:928,33711:929,33712:931,33713:932,33714:933,33715:934,33716:935,33717:936,33718:937,33727:945,33728:946,33729:947,33730:948,33731:949,33732:950,33733:951,33734:952,33735:953,33736:954,33737:955,33738:956,33739:957,33740:958,33741:959,33742:960,33743:961,33744:963,33745:964,33746:965,33747:966,33748:967,33749:968,33750:969,33856:1040,33857:1041,33858:1042,33859:1043,33860:1044,33861:1045,33862:1025,33863:1046,33864:1047,33865:1048,33866:1049,33867:1050,33868:1051,33869:1052,33870:1053,33871:1054,33872:1055,33873:1056,33874:1057,33875:1058,33876:1059,33877:1060,33878:1061,33879:1062,33880:1063,33881:1064,33882:1065,33883:1066,33884:1067,33885:1068,33886:1069,33887:1070,33888:1071,33904:1072,33905:1073,33906:1074,33907:1075,33908:1076,33909:1077,33910:1105,33911:1078,33912:1079,33913:1080,33914:1081,33915:1082,33916:1083,33917:1084,33918:1085,33920:1086,33921:1087,33922:1088,33923:1089,33924:1090,33925:1091,33926:1092,33927:1093,33928:1094,33929:1095,33930:1096,33931:1097,33932:1098,33933:1099,33934:1100,33935:1101,33936:1102,33937:1103,33951:9472,33952:9474,33953:9484,33954:9488,33955:9496,33956:9492,33957:9500,33958:9516,33959:9508,33960:9524,33961:9532,33962:9473,33963:9475,33964:9487,33965:9491,33966:9499,33967:9495,33968:9507,33969:9523,33970:9515,33971:9531,33972:9547,33973:9504,33974:9519,33975:9512,33976:9527,33977:9535,33978:9501,33979:9520,33980:9509,33981:9528,33982:9538,34975:20124,34976:21782,34977:23043,34978:38463,34979:21696,34980:24859,34981:25384,34982:23030,34983:36898,34984:33909,34985:33564,34986:31312,34987:24746,34988:25569,34989:28197,34990:26093,34991:33894,34992:33446,34993:39925,34994:26771,34995:22311,34996:26017,34997:25201,34998:23451,34999:22992,35e3:34427,35001:39156,35002:32098,35003:32190,35004:39822,35005:25110,35006:31903,35007:34999,35008:23433,35009:24245,35010:25353,35011:26263,35012:26696,35013:38343,35014:38797,35015:26447,35016:20197,35017:20234,35018:20301,35019:20381,35020:20553,35021:22258,35022:22839,35023:22996,35024:23041,35025:23561,35026:24799,35027:24847,35028:24944,35029:26131,35030:26885,35031:28858,35032:30031,35033:30064,35034:31227,35035:32173,35036:32239,35037:32963,35038:33806,35039:34915,35040:35586,35041:36949,35042:36986,35043:21307,35044:20117,35045:20133,35046:22495,35047:32946,35048:37057,35049:30959,35050:19968,35051:22769,35052:28322,35053:36920,35054:31282,35055:33576,35056:33419,35057:39983,35058:20801,35059:21360,35060:21693,35061:21729,35062:22240,35063:23035,35064:24341,35065:39154,35066:28139,35067:32996,35068:34093,35136:38498,35137:38512,35138:38560,35139:38907,35140:21515,35141:21491,35142:23431,35143:28879,35144:32701,35145:36802,35146:38632,35147:21359,35148:40284,35149:31418,35150:19985,35151:30867,35152:33276,35153:28198,35154:22040,35155:21764,35156:27421,35157:34074,35158:39995,35159:23013,35160:21417,35161:28006,35162:29916,35163:38287,35164:22082,35165:20113,35166:36939,35167:38642,35168:33615,35169:39180,35170:21473,35171:21942,35172:23344,35173:24433,35174:26144,35175:26355,35176:26628,35177:27704,35178:27891,35179:27945,35180:29787,35181:30408,35182:31310,35183:38964,35184:33521,35185:34907,35186:35424,35187:37613,35188:28082,35189:30123,35190:30410,35191:39365,35192:24742,35193:35585,35194:36234,35195:38322,35196:27022,35197:21421,35198:20870,35200:22290,35201:22576,35202:22852,35203:23476,35204:24310,35205:24616,35206:25513,35207:25588,35208:27839,35209:28436,35210:28814,35211:28948,35212:29017,35213:29141,35214:29503,35215:32257,35216:33398,35217:33489,35218:34199,35219:36960,35220:37467,35221:40219,35222:22633,35223:26044,35224:27738,35225:29989,35226:20985,35227:22830,35228:22885,35229:24448,35230:24540,35231:25276,35232:26106,35233:27178,35234:27431,35235:27572,35236:29579,35237:32705,35238:35158,35239:40236,35240:40206,35241:40644,35242:23713,35243:27798,35244:33659,35245:20740,35246:23627,35247:25014,35248:33222,35249:26742,35250:29281,35251:20057,35252:20474,35253:21368,35254:24681,35255:28201,35256:31311,35257:38899,35258:19979,35259:21270,35260:20206,35261:20309,35262:20285,35263:20385,35264:20339,35265:21152,35266:21487,35267:22025,35268:22799,35269:23233,35270:23478,35271:23521,35272:31185,35273:26247,35274:26524,35275:26550,35276:27468,35277:27827,35278:28779,35279:29634,35280:31117,35281:31166,35282:31292,35283:31623,35284:33457,35285:33499,35286:33540,35287:33655,35288:33775,35289:33747,35290:34662,35291:35506,35292:22057,35293:36008,35294:36838,35295:36942,35296:38686,35297:34442,35298:20420,35299:23784,35300:25105,35301:29273,35302:30011,35303:33253,35304:33469,35305:34558,35306:36032,35307:38597,35308:39187,35309:39381,35310:20171,35311:20250,35312:35299,35313:22238,35314:22602,35315:22730,35316:24315,35317:24555,35318:24618,35319:24724,35320:24674,35321:25040,35322:25106,35323:25296,35324:25913,35392:39745,35393:26214,35394:26800,35395:28023,35396:28784,35397:30028,35398:30342,35399:32117,35400:33445,35401:34809,35402:38283,35403:38542,35404:35997,35405:20977,35406:21182,35407:22806,35408:21683,35409:23475,35410:23830,35411:24936,35412:27010,35413:28079,35414:30861,35415:33995,35416:34903,35417:35442,35418:37799,35419:39608,35420:28012,35421:39336,35422:34521,35423:22435,35424:26623,35425:34510,35426:37390,35427:21123,35428:22151,35429:21508,35430:24275,35431:25313,35432:25785,35433:26684,35434:26680,35435:27579,35436:29554,35437:30906,35438:31339,35439:35226,35440:35282,35441:36203,35442:36611,35443:37101,35444:38307,35445:38548,35446:38761,35447:23398,35448:23731,35449:27005,35450:38989,35451:38990,35452:25499,35453:31520,35454:27179,35456:27263,35457:26806,35458:39949,35459:28511,35460:21106,35461:21917,35462:24688,35463:25324,35464:27963,35465:28167,35466:28369,35467:33883,35468:35088,35469:36676,35470:19988,35471:39993,35472:21494,35473:26907,35474:27194,35475:38788,35476:26666,35477:20828,35478:31427,35479:33970,35480:37340,35481:37772,35482:22107,35483:40232,35484:26658,35485:33541,35486:33841,35487:31909,35488:21e3,35489:33477,35490:29926,35491:20094,35492:20355,35493:20896,35494:23506,35495:21002,35496:21208,35497:21223,35498:24059,35499:21914,35500:22570,35501:23014,35502:23436,35503:23448,35504:23515,35505:24178,35506:24185,35507:24739,35508:24863,35509:24931,35510:25022,35511:25563,35512:25954,35513:26577,35514:26707,35515:26874,35516:27454,35517:27475,35518:27735,35519:28450,35520:28567,35521:28485,35522:29872,35523:29976,35524:30435,35525:30475,35526:31487,35527:31649,35528:31777,35529:32233,35530:32566,35531:32752,35532:32925,35533:33382,35534:33694,35535:35251,35536:35532,35537:36011,35538:36996,35539:37969,35540:38291,35541:38289,35542:38306,35543:38501,35544:38867,35545:39208,35546:33304,35547:20024,35548:21547,35549:23736,35550:24012,35551:29609,35552:30284,35553:30524,35554:23721,35555:32747,35556:36107,35557:38593,35558:38929,35559:38996,35560:39e3,35561:20225,35562:20238,35563:21361,35564:21916,35565:22120,35566:22522,35567:22855,35568:23305,35569:23492,35570:23696,35571:24076,35572:24190,35573:24524,35574:25582,35575:26426,35576:26071,35577:26082,35578:26399,35579:26827,35580:26820,35648:27231,35649:24112,35650:27589,35651:27671,35652:27773,35653:30079,35654:31048,35655:23395,35656:31232,35657:32e3,35658:24509,35659:35215,35660:35352,35661:36020,35662:36215,35663:36556,35664:36637,35665:39138,35666:39438,35667:39740,35668:20096,35669:20605,35670:20736,35671:22931,35672:23452,35673:25135,35674:25216,35675:25836,35676:27450,35677:29344,35678:30097,35679:31047,35680:32681,35681:34811,35682:35516,35683:35696,35684:25516,35685:33738,35686:38816,35687:21513,35688:21507,35689:21931,35690:26708,35691:27224,35692:35440,35693:30759,35694:26485,35695:40653,35696:21364,35697:23458,35698:33050,35699:34384,35700:36870,35701:19992,35702:20037,35703:20167,35704:20241,35705:21450,35706:21560,35707:23470,35708:24339,35709:24613,35710:25937,35712:26429,35713:27714,35714:27762,35715:27875,35716:28792,35717:29699,35718:31350,35719:31406,35720:31496,35721:32026,35722:31998,35723:32102,35724:26087,35725:29275,35726:21435,35727:23621,35728:24040,35729:25298,35730:25312,35731:25369,35732:28192,35733:34394,35734:35377,35735:36317,35736:37624,35737:28417,35738:31142,35739:39770,35740:20136,35741:20139,35742:20140,35743:20379,35744:20384,35745:20689,35746:20807,35747:31478,35748:20849,35749:20982,35750:21332,35751:21281,35752:21375,35753:21483,35754:21932,35755:22659,35756:23777,35757:24375,35758:24394,35759:24623,35760:24656,35761:24685,35762:25375,35763:25945,35764:27211,35765:27841,35766:29378,35767:29421,35768:30703,35769:33016,35770:33029,35771:33288,35772:34126,35773:37111,35774:37857,35775:38911,35776:39255,35777:39514,35778:20208,35779:20957,35780:23597,35781:26241,35782:26989,35783:23616,35784:26354,35785:26997,35786:29577,35787:26704,35788:31873,35789:20677,35790:21220,35791:22343,35792:24062,35793:37670,35794:26020,35795:27427,35796:27453,35797:29748,35798:31105,35799:31165,35800:31563,35801:32202,35802:33465,35803:33740,35804:34943,35805:35167,35806:35641,35807:36817,35808:37329,35809:21535,35810:37504,35811:20061,35812:20534,35813:21477,35814:21306,35815:29399,35816:29590,35817:30697,35818:33510,35819:36527,35820:39366,35821:39368,35822:39378,35823:20855,35824:24858,35825:34398,35826:21936,35827:31354,35828:20598,35829:23507,35830:36935,35831:38533,35832:20018,35833:27355,35834:37351,35835:23633,35836:23624,35904:25496,35905:31391,35906:27795,35907:38772,35908:36705,35909:31402,35910:29066,35911:38536,35912:31874,35913:26647,35914:32368,35915:26705,35916:37740,35917:21234,35918:21531,35919:34219,35920:35347,35921:32676,35922:36557,35923:37089,35924:21350,35925:34952,35926:31041,35927:20418,35928:20670,35929:21009,35930:20804,35931:21843,35932:22317,35933:29674,35934:22411,35935:22865,35936:24418,35937:24452,35938:24693,35939:24950,35940:24935,35941:25001,35942:25522,35943:25658,35944:25964,35945:26223,35946:26690,35947:28179,35948:30054,35949:31293,35950:31995,35951:32076,35952:32153,35953:32331,35954:32619,35955:33550,35956:33610,35957:34509,35958:35336,35959:35427,35960:35686,35961:36605,35962:38938,35963:40335,35964:33464,35965:36814,35966:39912,35968:21127,35969:25119,35970:25731,35971:28608,35972:38553,35973:26689,35974:20625,35975:27424,35976:27770,35977:28500,35978:31348,35979:32080,35980:34880,35981:35363,35982:26376,35983:20214,35984:20537,35985:20518,35986:20581,35987:20860,35988:21048,35989:21091,35990:21927,35991:22287,35992:22533,35993:23244,35994:24314,35995:25010,35996:25080,35997:25331,35998:25458,35999:26908,36e3:27177,36001:29309,36002:29356,36003:29486,36004:30740,36005:30831,36006:32121,36007:30476,36008:32937,36009:35211,36010:35609,36011:36066,36012:36562,36013:36963,36014:37749,36015:38522,36016:38997,36017:39443,36018:40568,36019:20803,36020:21407,36021:21427,36022:24187,36023:24358,36024:28187,36025:28304,36026:29572,36027:29694,36028:32067,36029:33335,36030:35328,36031:35578,36032:38480,36033:20046,36034:20491,36035:21476,36036:21628,36037:22266,36038:22993,36039:23396,36040:24049,36041:24235,36042:24359,36043:25144,36044:25925,36045:26543,36046:28246,36047:29392,36048:31946,36049:34996,36050:32929,36051:32993,36052:33776,36053:34382,36054:35463,36055:36328,36056:37431,36057:38599,36058:39015,36059:40723,36060:20116,36061:20114,36062:20237,36063:21320,36064:21577,36065:21566,36066:23087,36067:24460,36068:24481,36069:24735,36070:26791,36071:27278,36072:29786,36073:30849,36074:35486,36075:35492,36076:35703,36077:37264,36078:20062,36079:39881,36080:20132,36081:20348,36082:20399,36083:20505,36084:20502,36085:20809,36086:20844,36087:21151,36088:21177,36089:21246,36090:21402,36091:21475,36092:21521,36160:21518,36161:21897,36162:22353,36163:22434,36164:22909,36165:23380,36166:23389,36167:23439,36168:24037,36169:24039,36170:24055,36171:24184,36172:24195,36173:24218,36174:24247,36175:24344,36176:24658,36177:24908,36178:25239,36179:25304,36180:25511,36181:25915,36182:26114,36183:26179,36184:26356,36185:26477,36186:26657,36187:26775,36188:27083,36189:27743,36190:27946,36191:28009,36192:28207,36193:28317,36194:30002,36195:30343,36196:30828,36197:31295,36198:31968,36199:32005,36200:32024,36201:32094,36202:32177,36203:32789,36204:32771,36205:32943,36206:32945,36207:33108,36208:33167,36209:33322,36210:33618,36211:34892,36212:34913,36213:35611,36214:36002,36215:36092,36216:37066,36217:37237,36218:37489,36219:30783,36220:37628,36221:38308,36222:38477,36224:38917,36225:39321,36226:39640,36227:40251,36228:21083,36229:21163,36230:21495,36231:21512,36232:22741,36233:25335,36234:28640,36235:35946,36236:36703,36237:40633,36238:20811,36239:21051,36240:21578,36241:22269,36242:31296,36243:37239,36244:40288,36245:40658,36246:29508,36247:28425,36248:33136,36249:29969,36250:24573,36251:24794,36252:39592,36253:29403,36254:36796,36255:27492,36256:38915,36257:20170,36258:22256,36259:22372,36260:22718,36261:23130,36262:24680,36263:25031,36264:26127,36265:26118,36266:26681,36267:26801,36268:28151,36269:30165,36270:32058,36271:33390,36272:39746,36273:20123,36274:20304,36275:21449,36276:21766,36277:23919,36278:24038,36279:24046,36280:26619,36281:27801,36282:29811,36283:30722,36284:35408,36285:37782,36286:35039,36287:22352,36288:24231,36289:25387,36290:20661,36291:20652,36292:20877,36293:26368,36294:21705,36295:22622,36296:22971,36297:23472,36298:24425,36299:25165,36300:25505,36301:26685,36302:27507,36303:28168,36304:28797,36305:37319,36306:29312,36307:30741,36308:30758,36309:31085,36310:25998,36311:32048,36312:33756,36313:35009,36314:36617,36315:38555,36316:21092,36317:22312,36318:26448,36319:32618,36320:36001,36321:20916,36322:22338,36323:38442,36324:22586,36325:27018,36326:32948,36327:21682,36328:23822,36329:22524,36330:30869,36331:40442,36332:20316,36333:21066,36334:21643,36335:25662,36336:26152,36337:26388,36338:26613,36339:31364,36340:31574,36341:32034,36342:37679,36343:26716,36344:39853,36345:31545,36346:21273,36347:20874,36348:21047,36416:23519,36417:25334,36418:25774,36419:25830,36420:26413,36421:27578,36422:34217,36423:38609,36424:30352,36425:39894,36426:25420,36427:37638,36428:39851,36429:30399,36430:26194,36431:19977,36432:20632,36433:21442,36434:23665,36435:24808,36436:25746,36437:25955,36438:26719,36439:29158,36440:29642,36441:29987,36442:31639,36443:32386,36444:34453,36445:35715,36446:36059,36447:37240,36448:39184,36449:26028,36450:26283,36451:27531,36452:20181,36453:20180,36454:20282,36455:20351,36456:21050,36457:21496,36458:21490,36459:21987,36460:22235,36461:22763,36462:22987,36463:22985,36464:23039,36465:23376,36466:23629,36467:24066,36468:24107,36469:24535,36470:24605,36471:25351,36472:25903,36473:23388,36474:26031,36475:26045,36476:26088,36477:26525,36478:27490,36480:27515,36481:27663,36482:29509,36483:31049,36484:31169,36485:31992,36486:32025,36487:32043,36488:32930,36489:33026,36490:33267,36491:35222,36492:35422,36493:35433,36494:35430,36495:35468,36496:35566,36497:36039,36498:36060,36499:38604,36500:39164,36501:27503,36502:20107,36503:20284,36504:20365,36505:20816,36506:23383,36507:23546,36508:24904,36509:25345,36510:26178,36511:27425,36512:28363,36513:27835,36514:29246,36515:29885,36516:30164,36517:30913,36518:31034,36519:32780,36520:32819,36521:33258,36522:33940,36523:36766,36524:27728,36525:40575,36526:24335,36527:35672,36528:40235,36529:31482,36530:36600,36531:23437,36532:38635,36533:19971,36534:21489,36535:22519,36536:22833,36537:23241,36538:23460,36539:24713,36540:28287,36541:28422,36542:30142,36543:36074,36544:23455,36545:34048,36546:31712,36547:20594,36548:26612,36549:33437,36550:23649,36551:34122,36552:32286,36553:33294,36554:20889,36555:23556,36556:25448,36557:36198,36558:26012,36559:29038,36560:31038,36561:32023,36562:32773,36563:35613,36564:36554,36565:36974,36566:34503,36567:37034,36568:20511,36569:21242,36570:23610,36571:26451,36572:28796,36573:29237,36574:37196,36575:37320,36576:37675,36577:33509,36578:23490,36579:24369,36580:24825,36581:20027,36582:21462,36583:23432,36584:25163,36585:26417,36586:27530,36587:29417,36588:29664,36589:31278,36590:33131,36591:36259,36592:37202,36593:39318,36594:20754,36595:21463,36596:21610,36597:23551,36598:25480,36599:27193,36600:32172,36601:38656,36602:22234,36603:21454,36604:21608,36672:23447,36673:23601,36674:24030,36675:20462,36676:24833,36677:25342,36678:27954,36679:31168,36680:31179,36681:32066,36682:32333,36683:32722,36684:33261,36685:33311,36686:33936,36687:34886,36688:35186,36689:35728,36690:36468,36691:36655,36692:36913,36693:37195,36694:37228,36695:38598,36696:37276,36697:20160,36698:20303,36699:20805,36700:21313,36701:24467,36702:25102,36703:26580,36704:27713,36705:28171,36706:29539,36707:32294,36708:37325,36709:37507,36710:21460,36711:22809,36712:23487,36713:28113,36714:31069,36715:32302,36716:31899,36717:22654,36718:29087,36719:20986,36720:34899,36721:36848,36722:20426,36723:23803,36724:26149,36725:30636,36726:31459,36727:33308,36728:39423,36729:20934,36730:24490,36731:26092,36732:26991,36733:27529,36734:28147,36736:28310,36737:28516,36738:30462,36739:32020,36740:24033,36741:36981,36742:37255,36743:38918,36744:20966,36745:21021,36746:25152,36747:26257,36748:26329,36749:28186,36750:24246,36751:32210,36752:32626,36753:26360,36754:34223,36755:34295,36756:35576,36757:21161,36758:21465,36759:22899,36760:24207,36761:24464,36762:24661,36763:37604,36764:38500,36765:20663,36766:20767,36767:21213,36768:21280,36769:21319,36770:21484,36771:21736,36772:21830,36773:21809,36774:22039,36775:22888,36776:22974,36777:23100,36778:23477,36779:23558,36780:23567,36781:23569,36782:23578,36783:24196,36784:24202,36785:24288,36786:24432,36787:25215,36788:25220,36789:25307,36790:25484,36791:25463,36792:26119,36793:26124,36794:26157,36795:26230,36796:26494,36797:26786,36798:27167,36799:27189,36800:27836,36801:28040,36802:28169,36803:28248,36804:28988,36805:28966,36806:29031,36807:30151,36808:30465,36809:30813,36810:30977,36811:31077,36812:31216,36813:31456,36814:31505,36815:31911,36816:32057,36817:32918,36818:33750,36819:33931,36820:34121,36821:34909,36822:35059,36823:35359,36824:35388,36825:35412,36826:35443,36827:35937,36828:36062,36829:37284,36830:37478,36831:37758,36832:37912,36833:38556,36834:38808,36835:19978,36836:19976,36837:19998,36838:20055,36839:20887,36840:21104,36841:22478,36842:22580,36843:22732,36844:23330,36845:24120,36846:24773,36847:25854,36848:26465,36849:26454,36850:27972,36851:29366,36852:30067,36853:31331,36854:33976,36855:35698,36856:37304,36857:37664,36858:22065,36859:22516,36860:39166,36928:25325,36929:26893,36930:27542,36931:29165,36932:32340,36933:32887,36934:33394,36935:35302,36936:39135,36937:34645,36938:36785,36939:23611,36940:20280,36941:20449,36942:20405,36943:21767,36944:23072,36945:23517,36946:23529,36947:24515,36948:24910,36949:25391,36950:26032,36951:26187,36952:26862,36953:27035,36954:28024,36955:28145,36956:30003,36957:30137,36958:30495,36959:31070,36960:31206,36961:32051,36962:33251,36963:33455,36964:34218,36965:35242,36966:35386,36967:36523,36968:36763,36969:36914,36970:37341,36971:38663,36972:20154,36973:20161,36974:20995,36975:22645,36976:22764,36977:23563,36978:29978,36979:23613,36980:33102,36981:35338,36982:36805,36983:38499,36984:38765,36985:31525,36986:35535,36987:38920,36988:37218,36989:22259,36990:21416,36992:36887,36993:21561,36994:22402,36995:24101,36996:25512,36997:27700,36998:28810,36999:30561,37e3:31883,37001:32736,37002:34928,37003:36930,37004:37204,37005:37648,37006:37656,37007:38543,37008:29790,37009:39620,37010:23815,37011:23913,37012:25968,37013:26530,37014:36264,37015:38619,37016:25454,37017:26441,37018:26905,37019:33733,37020:38935,37021:38592,37022:35070,37023:28548,37024:25722,37025:23544,37026:19990,37027:28716,37028:30045,37029:26159,37030:20932,37031:21046,37032:21218,37033:22995,37034:24449,37035:24615,37036:25104,37037:25919,37038:25972,37039:26143,37040:26228,37041:26866,37042:26646,37043:27491,37044:28165,37045:29298,37046:29983,37047:30427,37048:31934,37049:32854,37050:22768,37051:35069,37052:35199,37053:35488,37054:35475,37055:35531,37056:36893,37057:37266,37058:38738,37059:38745,37060:25993,37061:31246,37062:33030,37063:38587,37064:24109,37065:24796,37066:25114,37067:26021,37068:26132,37069:26512,37070:30707,37071:31309,37072:31821,37073:32318,37074:33034,37075:36012,37076:36196,37077:36321,37078:36447,37079:30889,37080:20999,37081:25305,37082:25509,37083:25666,37084:25240,37085:35373,37086:31363,37087:31680,37088:35500,37089:38634,37090:32118,37091:33292,37092:34633,37093:20185,37094:20808,37095:21315,37096:21344,37097:23459,37098:23554,37099:23574,37100:24029,37101:25126,37102:25159,37103:25776,37104:26643,37105:26676,37106:27849,37107:27973,37108:27927,37109:26579,37110:28508,37111:29006,37112:29053,37113:26059,37114:31359,37115:31661,37116:32218,37184:32330,37185:32680,37186:33146,37187:33307,37188:33337,37189:34214,37190:35438,37191:36046,37192:36341,37193:36984,37194:36983,37195:37549,37196:37521,37197:38275,37198:39854,37199:21069,37200:21892,37201:28472,37202:28982,37203:20840,37204:31109,37205:32341,37206:33203,37207:31950,37208:22092,37209:22609,37210:23720,37211:25514,37212:26366,37213:26365,37214:26970,37215:29401,37216:30095,37217:30094,37218:30990,37219:31062,37220:31199,37221:31895,37222:32032,37223:32068,37224:34311,37225:35380,37226:38459,37227:36961,37228:40736,37229:20711,37230:21109,37231:21452,37232:21474,37233:20489,37234:21930,37235:22766,37236:22863,37237:29245,37238:23435,37239:23652,37240:21277,37241:24803,37242:24819,37243:25436,37244:25475,37245:25407,37246:25531,37248:25805,37249:26089,37250:26361,37251:24035,37252:27085,37253:27133,37254:28437,37255:29157,37256:20105,37257:30185,37258:30456,37259:31379,37260:31967,37261:32207,37262:32156,37263:32865,37264:33609,37265:33624,37266:33900,37267:33980,37268:34299,37269:35013,37270:36208,37271:36865,37272:36973,37273:37783,37274:38684,37275:39442,37276:20687,37277:22679,37278:24974,37279:33235,37280:34101,37281:36104,37282:36896,37283:20419,37284:20596,37285:21063,37286:21363,37287:24687,37288:25417,37289:26463,37290:28204,37291:36275,37292:36895,37293:20439,37294:23646,37295:36042,37296:26063,37297:32154,37298:21330,37299:34966,37300:20854,37301:25539,37302:23384,37303:23403,37304:23562,37305:25613,37306:26449,37307:36956,37308:20182,37309:22810,37310:22826,37311:27760,37312:35409,37313:21822,37314:22549,37315:22949,37316:24816,37317:25171,37318:26561,37319:33333,37320:26965,37321:38464,37322:39364,37323:39464,37324:20307,37325:22534,37326:23550,37327:32784,37328:23729,37329:24111,37330:24453,37331:24608,37332:24907,37333:25140,37334:26367,37335:27888,37336:28382,37337:32974,37338:33151,37339:33492,37340:34955,37341:36024,37342:36864,37343:36910,37344:38538,37345:40667,37346:39899,37347:20195,37348:21488,37349:22823,37350:31532,37351:37261,37352:38988,37353:40441,37354:28381,37355:28711,37356:21331,37357:21828,37358:23429,37359:25176,37360:25246,37361:25299,37362:27810,37363:28655,37364:29730,37365:35351,37366:37944,37367:28609,37368:35582,37369:33592,37370:20967,37371:34552,37372:21482,37440:21481,37441:20294,37442:36948,37443:36784,37444:22890,37445:33073,37446:24061,37447:31466,37448:36799,37449:26842,37450:35895,37451:29432,37452:40008,37453:27197,37454:35504,37455:20025,37456:21336,37457:22022,37458:22374,37459:25285,37460:25506,37461:26086,37462:27470,37463:28129,37464:28251,37465:28845,37466:30701,37467:31471,37468:31658,37469:32187,37470:32829,37471:32966,37472:34507,37473:35477,37474:37723,37475:22243,37476:22727,37477:24382,37478:26029,37479:26262,37480:27264,37481:27573,37482:30007,37483:35527,37484:20516,37485:30693,37486:22320,37487:24347,37488:24677,37489:26234,37490:27744,37491:30196,37492:31258,37493:32622,37494:33268,37495:34584,37496:36933,37497:39347,37498:31689,37499:30044,37500:31481,37501:31569,37502:33988,37504:36880,37505:31209,37506:31378,37507:33590,37508:23265,37509:30528,37510:20013,37511:20210,37512:23449,37513:24544,37514:25277,37515:26172,37516:26609,37517:27880,37518:34411,37519:34935,37520:35387,37521:37198,37522:37619,37523:39376,37524:27159,37525:28710,37526:29482,37527:33511,37528:33879,37529:36015,37530:19969,37531:20806,37532:20939,37533:21899,37534:23541,37535:24086,37536:24115,37537:24193,37538:24340,37539:24373,37540:24427,37541:24500,37542:25074,37543:25361,37544:26274,37545:26397,37546:28526,37547:29266,37548:30010,37549:30522,37550:32884,37551:33081,37552:33144,37553:34678,37554:35519,37555:35548,37556:36229,37557:36339,37558:37530,37559:38263,37560:38914,37561:40165,37562:21189,37563:25431,37564:30452,37565:26389,37566:27784,37567:29645,37568:36035,37569:37806,37570:38515,37571:27941,37572:22684,37573:26894,37574:27084,37575:36861,37576:37786,37577:30171,37578:36890,37579:22618,37580:26626,37581:25524,37582:27131,37583:20291,37584:28460,37585:26584,37586:36795,37587:34086,37588:32180,37589:37716,37590:26943,37591:28528,37592:22378,37593:22775,37594:23340,37595:32044,37596:29226,37597:21514,37598:37347,37599:40372,37600:20141,37601:20302,37602:20572,37603:20597,37604:21059,37605:35998,37606:21576,37607:22564,37608:23450,37609:24093,37610:24213,37611:24237,37612:24311,37613:24351,37614:24716,37615:25269,37616:25402,37617:25552,37618:26799,37619:27712,37620:30855,37621:31118,37622:31243,37623:32224,37624:33351,37625:35330,37626:35558,37627:36420,37628:36883,37696:37048,37697:37165,37698:37336,37699:40718,37700:27877,37701:25688,37702:25826,37703:25973,37704:28404,37705:30340,37706:31515,37707:36969,37708:37841,37709:28346,37710:21746,37711:24505,37712:25764,37713:36685,37714:36845,37715:37444,37716:20856,37717:22635,37718:22825,37719:23637,37720:24215,37721:28155,37722:32399,37723:29980,37724:36028,37725:36578,37726:39003,37727:28857,37728:20253,37729:27583,37730:28593,37731:3e4,37732:38651,37733:20814,37734:21520,37735:22581,37736:22615,37737:22956,37738:23648,37739:24466,37740:26007,37741:26460,37742:28193,37743:30331,37744:33759,37745:36077,37746:36884,37747:37117,37748:37709,37749:30757,37750:30778,37751:21162,37752:24230,37753:22303,37754:22900,37755:24594,37756:20498,37757:20826,37758:20908,37760:20941,37761:20992,37762:21776,37763:22612,37764:22616,37765:22871,37766:23445,37767:23798,37768:23947,37769:24764,37770:25237,37771:25645,37772:26481,37773:26691,37774:26812,37775:26847,37776:30423,37777:28120,37778:28271,37779:28059,37780:28783,37781:29128,37782:24403,37783:30168,37784:31095,37785:31561,37786:31572,37787:31570,37788:31958,37789:32113,37790:21040,37791:33891,37792:34153,37793:34276,37794:35342,37795:35588,37796:35910,37797:36367,37798:36867,37799:36879,37800:37913,37801:38518,37802:38957,37803:39472,37804:38360,37805:20685,37806:21205,37807:21516,37808:22530,37809:23566,37810:24999,37811:25758,37812:27934,37813:30643,37814:31461,37815:33012,37816:33796,37817:36947,37818:37509,37819:23776,37820:40199,37821:21311,37822:24471,37823:24499,37824:28060,37825:29305,37826:30563,37827:31167,37828:31716,37829:27602,37830:29420,37831:35501,37832:26627,37833:27233,37834:20984,37835:31361,37836:26932,37837:23626,37838:40182,37839:33515,37840:23493,37841:37193,37842:28702,37843:22136,37844:23663,37845:24775,37846:25958,37847:27788,37848:35930,37849:36929,37850:38931,37851:21585,37852:26311,37853:37389,37854:22856,37855:37027,37856:20869,37857:20045,37858:20970,37859:34201,37860:35598,37861:28760,37862:25466,37863:37707,37864:26978,37865:39348,37866:32260,37867:30071,37868:21335,37869:26976,37870:36575,37871:38627,37872:27741,37873:20108,37874:23612,37875:24336,37876:36841,37877:21250,37878:36049,37879:32905,37880:34425,37881:24319,37882:26085,37883:20083,37884:20837,37952:22914,37953:23615,37954:38894,37955:20219,37956:22922,37957:24525,37958:35469,37959:28641,37960:31152,37961:31074,37962:23527,37963:33905,37964:29483,37965:29105,37966:24180,37967:24565,37968:25467,37969:25754,37970:29123,37971:31896,37972:20035,37973:24316,37974:20043,37975:22492,37976:22178,37977:24745,37978:28611,37979:32013,37980:33021,37981:33075,37982:33215,37983:36786,37984:35223,37985:34468,37986:24052,37987:25226,37988:25773,37989:35207,37990:26487,37991:27874,37992:27966,37993:29750,37994:30772,37995:23110,37996:32629,37997:33453,37998:39340,37999:20467,38e3:24259,38001:25309,38002:25490,38003:25943,38004:26479,38005:30403,38006:29260,38007:32972,38008:32954,38009:36649,38010:37197,38011:20493,38012:22521,38013:23186,38014:26757,38016:26995,38017:29028,38018:29437,38019:36023,38020:22770,38021:36064,38022:38506,38023:36889,38024:34687,38025:31204,38026:30695,38027:33833,38028:20271,38029:21093,38030:21338,38031:25293,38032:26575,38033:27850,38034:30333,38035:31636,38036:31893,38037:33334,38038:34180,38039:36843,38040:26333,38041:28448,38042:29190,38043:32283,38044:33707,38045:39361,38046:40614,38047:20989,38048:31665,38049:30834,38050:31672,38051:32903,38052:31560,38053:27368,38054:24161,38055:32908,38056:30033,38057:30048,38058:20843,38059:37474,38060:28300,38061:30330,38062:37271,38063:39658,38064:20240,38065:32624,38066:25244,38067:31567,38068:38309,38069:40169,38070:22138,38071:22617,38072:34532,38073:38588,38074:20276,38075:21028,38076:21322,38077:21453,38078:21467,38079:24070,38080:25644,38081:26001,38082:26495,38083:27710,38084:27726,38085:29256,38086:29359,38087:29677,38088:30036,38089:32321,38090:33324,38091:34281,38092:36009,38093:31684,38094:37318,38095:29033,38096:38930,38097:39151,38098:25405,38099:26217,38100:30058,38101:30436,38102:30928,38103:34115,38104:34542,38105:21290,38106:21329,38107:21542,38108:22915,38109:24199,38110:24444,38111:24754,38112:25161,38113:25209,38114:25259,38115:26e3,38116:27604,38117:27852,38118:30130,38119:30382,38120:30865,38121:31192,38122:32203,38123:32631,38124:32933,38125:34987,38126:35513,38127:36027,38128:36991,38129:38750,38130:39131,38131:27147,38132:31800,38133:20633,38134:23614,38135:24494,38136:26503,38137:27608,38138:29749,38139:30473,38140:32654,38208:40763,38209:26570,38210:31255,38211:21305,38212:30091,38213:39661,38214:24422,38215:33181,38216:33777,38217:32920,38218:24380,38219:24517,38220:30050,38221:31558,38222:36924,38223:26727,38224:23019,38225:23195,38226:32016,38227:30334,38228:35628,38229:20469,38230:24426,38231:27161,38232:27703,38233:28418,38234:29922,38235:31080,38236:34920,38237:35413,38238:35961,38239:24287,38240:25551,38241:30149,38242:31186,38243:33495,38244:37672,38245:37618,38246:33948,38247:34541,38248:39981,38249:21697,38250:24428,38251:25996,38252:27996,38253:28693,38254:36007,38255:36051,38256:38971,38257:25935,38258:29942,38259:19981,38260:20184,38261:22496,38262:22827,38263:23142,38264:23500,38265:20904,38266:24067,38267:24220,38268:24598,38269:25206,38270:25975,38272:26023,38273:26222,38274:28014,38275:29238,38276:31526,38277:33104,38278:33178,38279:33433,38280:35676,38281:36e3,38282:36070,38283:36212,38284:38428,38285:38468,38286:20398,38287:25771,38288:27494,38289:33310,38290:33889,38291:34154,38292:37096,38293:23553,38294:26963,38295:39080,38296:33914,38297:34135,38298:20239,38299:21103,38300:24489,38301:24133,38302:26381,38303:31119,38304:33145,38305:35079,38306:35206,38307:28149,38308:24343,38309:25173,38310:27832,38311:20175,38312:29289,38313:39826,38314:20998,38315:21563,38316:22132,38317:22707,38318:24996,38319:25198,38320:28954,38321:22894,38322:31881,38323:31966,38324:32027,38325:38640,38326:25991,38327:32862,38328:19993,38329:20341,38330:20853,38331:22592,38332:24163,38333:24179,38334:24330,38335:26564,38336:20006,38337:34109,38338:38281,38339:38491,38340:31859,38341:38913,38342:20731,38343:22721,38344:30294,38345:30887,38346:21029,38347:30629,38348:34065,38349:31622,38350:20559,38351:22793,38352:29255,38353:31687,38354:32232,38355:36794,38356:36820,38357:36941,38358:20415,38359:21193,38360:23081,38361:24321,38362:38829,38363:20445,38364:33303,38365:37610,38366:22275,38367:25429,38368:27497,38369:29995,38370:35036,38371:36628,38372:31298,38373:21215,38374:22675,38375:24917,38376:25098,38377:26286,38378:27597,38379:31807,38380:33769,38381:20515,38382:20472,38383:21253,38384:21574,38385:22577,38386:22857,38387:23453,38388:23792,38389:23791,38390:23849,38391:24214,38392:25265,38393:25447,38394:25918,38395:26041,38396:26379,38464:27861,38465:27873,38466:28921,38467:30770,38468:32299,38469:32990,38470:33459,38471:33804,38472:34028,38473:34562,38474:35090,38475:35370,38476:35914,38477:37030,38478:37586,38479:39165,38480:40179,38481:40300,38482:20047,38483:20129,38484:20621,38485:21078,38486:22346,38487:22952,38488:24125,38489:24536,38490:24537,38491:25151,38492:26292,38493:26395,38494:26576,38495:26834,38496:20882,38497:32033,38498:32938,38499:33192,38500:35584,38501:35980,38502:36031,38503:37502,38504:38450,38505:21536,38506:38956,38507:21271,38508:20693,38509:21340,38510:22696,38511:25778,38512:26420,38513:29287,38514:30566,38515:31302,38516:37350,38517:21187,38518:27809,38519:27526,38520:22528,38521:24140,38522:22868,38523:26412,38524:32763,38525:20961,38526:30406,38528:25705,38529:30952,38530:39764,38531:40635,38532:22475,38533:22969,38534:26151,38535:26522,38536:27598,38537:21737,38538:27097,38539:24149,38540:33180,38541:26517,38542:39850,38543:26622,38544:40018,38545:26717,38546:20134,38547:20451,38548:21448,38549:25273,38550:26411,38551:27819,38552:36804,38553:20397,38554:32365,38555:40639,38556:19975,38557:24930,38558:28288,38559:28459,38560:34067,38561:21619,38562:26410,38563:39749,38564:24051,38565:31637,38566:23724,38567:23494,38568:34588,38569:28234,38570:34001,38571:31252,38572:33032,38573:22937,38574:31885,38575:27665,38576:30496,38577:21209,38578:22818,38579:28961,38580:29279,38581:30683,38582:38695,38583:40289,38584:26891,38585:23167,38586:23064,38587:20901,38588:21517,38589:21629,38590:26126,38591:30431,38592:36855,38593:37528,38594:40180,38595:23018,38596:29277,38597:28357,38598:20813,38599:26825,38600:32191,38601:32236,38602:38754,38603:40634,38604:25720,38605:27169,38606:33538,38607:22916,38608:23391,38609:27611,38610:29467,38611:30450,38612:32178,38613:32791,38614:33945,38615:20786,38616:26408,38617:40665,38618:30446,38619:26466,38620:21247,38621:39173,38622:23588,38623:25147,38624:31870,38625:36016,38626:21839,38627:24758,38628:32011,38629:38272,38630:21249,38631:20063,38632:20918,38633:22812,38634:29242,38635:32822,38636:37326,38637:24357,38638:30690,38639:21380,38640:24441,38641:32004,38642:34220,38643:35379,38644:36493,38645:38742,38646:26611,38647:34222,38648:37971,38649:24841,38650:24840,38651:27833,38652:30290,38720:35565,38721:36664,38722:21807,38723:20305,38724:20778,38725:21191,38726:21451,38727:23461,38728:24189,38729:24736,38730:24962,38731:25558,38732:26377,38733:26586,38734:28263,38735:28044,38736:29494,38737:29495,38738:30001,38739:31056,38740:35029,38741:35480,38742:36938,38743:37009,38744:37109,38745:38596,38746:34701,38747:22805,38748:20104,38749:20313,38750:19982,38751:35465,38752:36671,38753:38928,38754:20653,38755:24188,38756:22934,38757:23481,38758:24248,38759:25562,38760:25594,38761:25793,38762:26332,38763:26954,38764:27096,38765:27915,38766:28342,38767:29076,38768:29992,38769:31407,38770:32650,38771:32768,38772:33865,38773:33993,38774:35201,38775:35617,38776:36362,38777:36965,38778:38525,38779:39178,38780:24958,38781:25233,38782:27442,38784:27779,38785:28020,38786:32716,38787:32764,38788:28096,38789:32645,38790:34746,38791:35064,38792:26469,38793:33713,38794:38972,38795:38647,38796:27931,38797:32097,38798:33853,38799:37226,38800:20081,38801:21365,38802:23888,38803:27396,38804:28651,38805:34253,38806:34349,38807:35239,38808:21033,38809:21519,38810:23653,38811:26446,38812:26792,38813:29702,38814:29827,38815:30178,38816:35023,38817:35041,38818:37324,38819:38626,38820:38520,38821:24459,38822:29575,38823:31435,38824:33870,38825:25504,38826:30053,38827:21129,38828:27969,38829:28316,38830:29705,38831:30041,38832:30827,38833:31890,38834:38534,38835:31452,38836:40845,38837:20406,38838:24942,38839:26053,38840:34396,38841:20102,38842:20142,38843:20698,38844:20001,38845:20940,38846:23534,38847:26009,38848:26753,38849:28092,38850:29471,38851:30274,38852:30637,38853:31260,38854:31975,38855:33391,38856:35538,38857:36988,38858:37327,38859:38517,38860:38936,38861:21147,38862:32209,38863:20523,38864:21400,38865:26519,38866:28107,38867:29136,38868:29747,38869:33256,38870:36650,38871:38563,38872:40023,38873:40607,38874:29792,38875:22593,38876:28057,38877:32047,38878:39006,38879:20196,38880:20278,38881:20363,38882:20919,38883:21169,38884:23994,38885:24604,38886:29618,38887:31036,38888:33491,38889:37428,38890:38583,38891:38646,38892:38666,38893:40599,38894:40802,38895:26278,38896:27508,38897:21015,38898:21155,38899:28872,38900:35010,38901:24265,38902:24651,38903:24976,38904:28451,38905:29001,38906:31806,38907:32244,38908:32879,38976:34030,38977:36899,38978:37676,38979:21570,38980:39791,38981:27347,38982:28809,38983:36034,38984:36335,38985:38706,38986:21172,38987:23105,38988:24266,38989:24324,38990:26391,38991:27004,38992:27028,38993:28010,38994:28431,38995:29282,38996:29436,38997:31725,38998:32769,38999:32894,39e3:34635,39001:37070,39002:20845,39003:40595,39004:31108,39005:32907,39006:37682,39007:35542,39008:20525,39009:21644,39010:35441,39011:27498,39012:36036,39013:33031,39014:24785,39015:26528,39016:40434,39017:20121,39018:20120,39019:39952,39020:35435,39021:34241,39022:34152,39023:26880,39024:28286,39025:30871,39026:33109,39071:24332,39072:19984,39073:19989,39074:20010,39075:20017,39076:20022,39077:20028,39078:20031,39079:20034,39080:20054,39081:20056,39082:20098,39083:20101,39084:35947,39085:20106,39086:33298,39087:24333,39088:20110,39089:20126,39090:20127,39091:20128,39092:20130,39093:20144,39094:20147,39095:20150,39096:20174,39097:20173,39098:20164,39099:20166,39100:20162,39101:20183,39102:20190,39103:20205,39104:20191,39105:20215,39106:20233,39107:20314,39108:20272,39109:20315,39110:20317,39111:20311,39112:20295,39113:20342,39114:20360,39115:20367,39116:20376,39117:20347,39118:20329,39119:20336,39120:20369,39121:20335,39122:20358,39123:20374,39124:20760,39125:20436,39126:20447,39127:20430,39128:20440,39129:20443,39130:20433,39131:20442,39132:20432,39133:20452,39134:20453,39135:20506,39136:20520,39137:20500,39138:20522,39139:20517,39140:20485,39141:20252,39142:20470,39143:20513,39144:20521,39145:20524,39146:20478,39147:20463,39148:20497,39149:20486,39150:20547,39151:20551,39152:26371,39153:20565,39154:20560,39155:20552,39156:20570,39157:20566,39158:20588,39159:20600,39160:20608,39161:20634,39162:20613,39163:20660,39164:20658,39232:20681,39233:20682,39234:20659,39235:20674,39236:20694,39237:20702,39238:20709,39239:20717,39240:20707,39241:20718,39242:20729,39243:20725,39244:20745,39245:20737,39246:20738,39247:20758,39248:20757,39249:20756,39250:20762,39251:20769,39252:20794,39253:20791,39254:20796,39255:20795,39256:20799,39257:20800,39258:20818,39259:20812,39260:20820,39261:20834,39262:31480,39263:20841,39264:20842,39265:20846,39266:20864,39267:20866,39268:22232,39269:20876,39270:20873,39271:20879,39272:20881,39273:20883,39274:20885,39275:20886,39276:20900,39277:20902,39278:20898,39279:20905,39280:20906,39281:20907,39282:20915,39283:20913,39284:20914,39285:20912,39286:20917,39287:20925,39288:20933,39289:20937,39290:20955,39291:20960,39292:34389,39293:20969,39294:20973,39296:20976,39297:20981,39298:20990,39299:20996,39300:21003,39301:21012,39302:21006,39303:21031,39304:21034,39305:21038,39306:21043,39307:21049,39308:21071,39309:21060,39310:21067,39311:21068,39312:21086,39313:21076,39314:21098,39315:21108,39316:21097,39317:21107,39318:21119,39319:21117,39320:21133,39321:21140,39322:21138,39323:21105,39324:21128,39325:21137,39326:36776,39327:36775,39328:21164,39329:21165,39330:21180,39331:21173,39332:21185,39333:21197,39334:21207,39335:21214,39336:21219,39337:21222,39338:39149,39339:21216,39340:21235,39341:21237,39342:21240,39343:21241,39344:21254,39345:21256,39346:30008,39347:21261,39348:21264,39349:21263,39350:21269,39351:21274,39352:21283,39353:21295,39354:21297,39355:21299,39356:21304,39357:21312,39358:21318,39359:21317,39360:19991,39361:21321,39362:21325,39363:20950,39364:21342,39365:21353,39366:21358,39367:22808,39368:21371,39369:21367,39370:21378,39371:21398,39372:21408,39373:21414,39374:21413,39375:21422,39376:21424,39377:21430,39378:21443,39379:31762,39380:38617,39381:21471,39382:26364,39383:29166,39384:21486,39385:21480,39386:21485,39387:21498,39388:21505,39389:21565,39390:21568,39391:21548,39392:21549,39393:21564,39394:21550,39395:21558,39396:21545,39397:21533,39398:21582,39399:21647,39400:21621,39401:21646,39402:21599,39403:21617,39404:21623,39405:21616,39406:21650,39407:21627,39408:21632,39409:21622,39410:21636,39411:21648,39412:21638,39413:21703,39414:21666,39415:21688,39416:21669,39417:21676,39418:21700,39419:21704,39420:21672,39488:21675,39489:21698,39490:21668,39491:21694,39492:21692,39493:21720,39494:21733,39495:21734,39496:21775,39497:21780,39498:21757,39499:21742,39500:21741,39501:21754,39502:21730,39503:21817,39504:21824,39505:21859,39506:21836,39507:21806,39508:21852,39509:21829,39510:21846,39511:21847,39512:21816,39513:21811,39514:21853,39515:21913,39516:21888,39517:21679,39518:21898,39519:21919,39520:21883,39521:21886,39522:21912,39523:21918,39524:21934,39525:21884,39526:21891,39527:21929,39528:21895,39529:21928,39530:21978,39531:21957,39532:21983,39533:21956,39534:21980,39535:21988,39536:21972,39537:22036,39538:22007,39539:22038,39540:22014,39541:22013,39542:22043,39543:22009,39544:22094,39545:22096,39546:29151,39547:22068,39548:22070,39549:22066,39550:22072,39552:22123,39553:22116,39554:22063,39555:22124,39556:22122,39557:22150,39558:22144,39559:22154,39560:22176,39561:22164,39562:22159,39563:22181,39564:22190,39565:22198,39566:22196,39567:22210,39568:22204,39569:22209,39570:22211,39571:22208,39572:22216,39573:22222,39574:22225,39575:22227,39576:22231,39577:22254,39578:22265,39579:22272,39580:22271,39581:22276,39582:22281,39583:22280,39584:22283,39585:22285,39586:22291,39587:22296,39588:22294,39589:21959,39590:22300,39591:22310,39592:22327,39593:22328,39594:22350,39595:22331,39596:22336,39597:22351,39598:22377,39599:22464,39600:22408,39601:22369,39602:22399,39603:22409,39604:22419,39605:22432,39606:22451,39607:22436,39608:22442,39609:22448,39610:22467,39611:22470,39612:22484,39613:22482,39614:22483,39615:22538,39616:22486,39617:22499,39618:22539,39619:22553,39620:22557,39621:22642,39622:22561,39623:22626,39624:22603,39625:22640,39626:27584,39627:22610,39628:22589,39629:22649,39630:22661,39631:22713,39632:22687,39633:22699,39634:22714,39635:22750,39636:22715,39637:22712,39638:22702,39639:22725,39640:22739,39641:22737,39642:22743,39643:22745,39644:22744,39645:22757,39646:22748,39647:22756,39648:22751,39649:22767,39650:22778,39651:22777,39652:22779,39653:22780,39654:22781,39655:22786,39656:22794,39657:22800,39658:22811,39659:26790,39660:22821,39661:22828,39662:22829,39663:22834,39664:22840,39665:22846,39666:31442,39667:22869,39668:22864,39669:22862,39670:22874,39671:22872,39672:22882,39673:22880,39674:22887,39675:22892,39676:22889,39744:22904,39745:22913,39746:22941,39747:20318,39748:20395,39749:22947,39750:22962,39751:22982,39752:23016,39753:23004,39754:22925,39755:23001,39756:23002,39757:23077,39758:23071,39759:23057,39760:23068,39761:23049,39762:23066,39763:23104,39764:23148,39765:23113,39766:23093,39767:23094,39768:23138,39769:23146,39770:23194,39771:23228,39772:23230,39773:23243,39774:23234,39775:23229,39776:23267,39777:23255,39778:23270,39779:23273,39780:23254,39781:23290,39782:23291,39783:23308,39784:23307,39785:23318,39786:23346,39787:23248,39788:23338,39789:23350,39790:23358,39791:23363,39792:23365,39793:23360,39794:23377,39795:23381,39796:23386,39797:23387,39798:23397,39799:23401,39800:23408,39801:23411,39802:23413,39803:23416,39804:25992,39805:23418,39806:23424,39808:23427,39809:23462,39810:23480,39811:23491,39812:23495,39813:23497,39814:23508,39815:23504,39816:23524,39817:23526,39818:23522,39819:23518,39820:23525,39821:23531,39822:23536,39823:23542,39824:23539,39825:23557,39826:23559,39827:23560,39828:23565,39829:23571,39830:23584,39831:23586,39832:23592,39833:23608,39834:23609,39835:23617,39836:23622,39837:23630,39838:23635,39839:23632,39840:23631,39841:23409,39842:23660,39843:23662,39844:20066,39845:23670,39846:23673,39847:23692,39848:23697,39849:23700,39850:22939,39851:23723,39852:23739,39853:23734,39854:23740,39855:23735,39856:23749,39857:23742,39858:23751,39859:23769,39860:23785,39861:23805,39862:23802,39863:23789,39864:23948,39865:23786,39866:23819,39867:23829,39868:23831,39869:23900,39870:23839,39871:23835,39872:23825,39873:23828,39874:23842,39875:23834,39876:23833,39877:23832,39878:23884,39879:23890,39880:23886,39881:23883,39882:23916,39883:23923,39884:23926,39885:23943,39886:23940,39887:23938,39888:23970,39889:23965,39890:23980,39891:23982,39892:23997,39893:23952,39894:23991,39895:23996,39896:24009,39897:24013,39898:24019,39899:24018,39900:24022,39901:24027,39902:24043,39903:24050,39904:24053,39905:24075,39906:24090,39907:24089,39908:24081,39909:24091,39910:24118,39911:24119,39912:24132,39913:24131,39914:24128,39915:24142,39916:24151,39917:24148,39918:24159,39919:24162,39920:24164,39921:24135,39922:24181,39923:24182,39924:24186,39925:40636,39926:24191,39927:24224,39928:24257,39929:24258,39930:24264,39931:24272,39932:24271,4e4:24278,40001:24291,40002:24285,40003:24282,40004:24283,40005:24290,40006:24289,40007:24296,40008:24297,40009:24300,40010:24305,40011:24307,40012:24304,40013:24308,40014:24312,40015:24318,40016:24323,40017:24329,40018:24413,40019:24412,40020:24331,40021:24337,40022:24342,40023:24361,40024:24365,40025:24376,40026:24385,40027:24392,40028:24396,40029:24398,40030:24367,40031:24401,40032:24406,40033:24407,40034:24409,40035:24417,40036:24429,40037:24435,40038:24439,40039:24451,40040:24450,40041:24447,40042:24458,40043:24456,40044:24465,40045:24455,40046:24478,40047:24473,40048:24472,40049:24480,40050:24488,40051:24493,40052:24508,40053:24534,40054:24571,40055:24548,40056:24568,40057:24561,40058:24541,40059:24755,40060:24575,40061:24609,40062:24672,40064:24601,40065:24592,40066:24617,40067:24590,40068:24625,40069:24603,40070:24597,40071:24619,40072:24614,40073:24591,40074:24634,40075:24666,40076:24641,40077:24682,40078:24695,40079:24671,40080:24650,40081:24646,40082:24653,40083:24675,40084:24643,40085:24676,40086:24642,40087:24684,40088:24683,40089:24665,40090:24705,40091:24717,40092:24807,40093:24707,40094:24730,40095:24708,40096:24731,40097:24726,40098:24727,40099:24722,40100:24743,40101:24715,40102:24801,40103:24760,40104:24800,40105:24787,40106:24756,40107:24560,40108:24765,40109:24774,40110:24757,40111:24792,40112:24909,40113:24853,40114:24838,40115:24822,40116:24823,40117:24832,40118:24820,40119:24826,40120:24835,40121:24865,40122:24827,40123:24817,40124:24845,40125:24846,40126:24903,40127:24894,40128:24872,40129:24871,40130:24906,40131:24895,40132:24892,40133:24876,40134:24884,40135:24893,40136:24898,40137:24900,40138:24947,40139:24951,40140:24920,40141:24921,40142:24922,40143:24939,40144:24948,40145:24943,40146:24933,40147:24945,40148:24927,40149:24925,40150:24915,40151:24949,40152:24985,40153:24982,40154:24967,40155:25004,40156:24980,40157:24986,40158:24970,40159:24977,40160:25003,40161:25006,40162:25036,40163:25034,40164:25033,40165:25079,40166:25032,40167:25027,40168:25030,40169:25018,40170:25035,40171:32633,40172:25037,40173:25062,40174:25059,40175:25078,40176:25082,40177:25076,40178:25087,40179:25085,40180:25084,40181:25086,40182:25088,40183:25096,40184:25097,40185:25101,40186:25100,40187:25108,40188:25115,40256:25118,40257:25121,40258:25130,40259:25134,40260:25136,40261:25138,40262:25139,40263:25153,40264:25166,40265:25182,40266:25187,40267:25179,40268:25184,40269:25192,40270:25212,40271:25218,40272:25225,40273:25214,40274:25234,40275:25235,40276:25238,40277:25300,40278:25219,40279:25236,40280:25303,40281:25297,40282:25275,40283:25295,40284:25343,40285:25286,40286:25812,40287:25288,40288:25308,40289:25292,40290:25290,40291:25282,40292:25287,40293:25243,40294:25289,40295:25356,40296:25326,40297:25329,40298:25383,40299:25346,40300:25352,40301:25327,40302:25333,40303:25424,40304:25406,40305:25421,40306:25628,40307:25423,40308:25494,40309:25486,40310:25472,40311:25515,40312:25462,40313:25507,40314:25487,40315:25481,40316:25503,40317:25525,40318:25451,40320:25449,40321:25534,40322:25577,40323:25536,40324:25542,40325:25571,40326:25545,40327:25554,40328:25590,40329:25540,40330:25622,40331:25652,40332:25606,40333:25619,40334:25638,40335:25654,40336:25885,40337:25623,40338:25640,40339:25615,40340:25703,40341:25711,40342:25718,40343:25678,40344:25898,40345:25749,40346:25747,40347:25765,40348:25769,40349:25736,40350:25788,40351:25818,40352:25810,40353:25797,40354:25799,40355:25787,40356:25816,40357:25794,40358:25841,40359:25831,40360:33289,40361:25824,40362:25825,40363:25260,40364:25827,40365:25839,40366:25900,40367:25846,40368:25844,40369:25842,40370:25850,40371:25856,40372:25853,40373:25880,40374:25884,40375:25861,40376:25892,40377:25891,40378:25899,40379:25908,40380:25909,40381:25911,40382:25910,40383:25912,40384:30027,40385:25928,40386:25942,40387:25941,40388:25933,40389:25944,40390:25950,40391:25949,40392:25970,40393:25976,40394:25986,40395:25987,40396:35722,40397:26011,40398:26015,40399:26027,40400:26039,40401:26051,40402:26054,40403:26049,40404:26052,40405:26060,40406:26066,40407:26075,40408:26073,40409:26080,40410:26081,40411:26097,40412:26482,40413:26122,40414:26115,40415:26107,40416:26483,40417:26165,40418:26166,40419:26164,40420:26140,40421:26191,40422:26180,40423:26185,40424:26177,40425:26206,40426:26205,40427:26212,40428:26215,40429:26216,40430:26207,40431:26210,40432:26224,40433:26243,40434:26248,40435:26254,40436:26249,40437:26244,40438:26264,40439:26269,40440:26305,40441:26297,40442:26313,40443:26302,40444:26300,40512:26308,40513:26296,40514:26326,40515:26330,40516:26336,40517:26175,40518:26342,40519:26345,40520:26352,40521:26357,40522:26359,40523:26383,40524:26390,40525:26398,40526:26406,40527:26407,40528:38712,40529:26414,40530:26431,40531:26422,40532:26433,40533:26424,40534:26423,40535:26438,40536:26462,40537:26464,40538:26457,40539:26467,40540:26468,40541:26505,40542:26480,40543:26537,40544:26492,40545:26474,40546:26508,40547:26507,40548:26534,40549:26529,40550:26501,40551:26551,40552:26607,40553:26548,40554:26604,40555:26547,40556:26601,40557:26552,40558:26596,40559:26590,40560:26589,40561:26594,40562:26606,40563:26553,40564:26574,40565:26566,40566:26599,40567:27292,40568:26654,40569:26694,40570:26665,40571:26688,40572:26701,40573:26674,40574:26702,40576:26803,40577:26667,40578:26713,40579:26723,40580:26743,40581:26751,40582:26783,40583:26767,40584:26797,40585:26772,40586:26781,40587:26779,40588:26755,40589:27310,40590:26809,40591:26740,40592:26805,40593:26784,40594:26810,40595:26895,40596:26765,40597:26750,40598:26881,40599:26826,40600:26888,40601:26840,40602:26914,40603:26918,40604:26849,40605:26892,40606:26829,40607:26836,40608:26855,40609:26837,40610:26934,40611:26898,40612:26884,40613:26839,40614:26851,40615:26917,40616:26873,40617:26848,40618:26863,40619:26920,40620:26922,40621:26906,40622:26915,40623:26913,40624:26822,40625:27001,40626:26999,40627:26972,40628:27e3,40629:26987,40630:26964,40631:27006,40632:26990,40633:26937,40634:26996,40635:26941,40636:26969,40637:26928,40638:26977,40639:26974,40640:26973,40641:27009,40642:26986,40643:27058,40644:27054,40645:27088,40646:27071,40647:27073,40648:27091,40649:27070,40650:27086,40651:23528,40652:27082,40653:27101,40654:27067,40655:27075,40656:27047,40657:27182,40658:27025,40659:27040,40660:27036,40661:27029,40662:27060,40663:27102,40664:27112,40665:27138,40666:27163,40667:27135,40668:27402,40669:27129,40670:27122,40671:27111,40672:27141,40673:27057,40674:27166,40675:27117,40676:27156,40677:27115,40678:27146,40679:27154,40680:27329,40681:27171,40682:27155,40683:27204,40684:27148,40685:27250,40686:27190,40687:27256,40688:27207,40689:27234,40690:27225,40691:27238,40692:27208,40693:27192,40694:27170,40695:27280,40696:27277,40697:27296,40698:27268,40699:27298,40700:27299,40768:27287,40769:34327,40770:27323,40771:27331,40772:27330,40773:27320,40774:27315,40775:27308,40776:27358,40777:27345,40778:27359,40779:27306,40780:27354,40781:27370,40782:27387,40783:27397,40784:34326,40785:27386,40786:27410,40787:27414,40788:39729,40789:27423,40790:27448,40791:27447,40792:30428,40793:27449,40794:39150,40795:27463,40796:27459,40797:27465,40798:27472,40799:27481,40800:27476,40801:27483,40802:27487,40803:27489,40804:27512,40805:27513,40806:27519,40807:27520,40808:27524,40809:27523,40810:27533,40811:27544,40812:27541,40813:27550,40814:27556,40815:27562,40816:27563,40817:27567,40818:27570,40819:27569,40820:27571,40821:27575,40822:27580,40823:27590,40824:27595,40825:27603,40826:27615,40827:27628,40828:27627,40829:27635,40830:27631,40832:40638,40833:27656,40834:27667,40835:27668,40836:27675,40837:27684,40838:27683,40839:27742,40840:27733,40841:27746,40842:27754,40843:27778,40844:27789,40845:27802,40846:27777,40847:27803,40848:27774,40849:27752,40850:27763,40851:27794,40852:27792,40853:27844,40854:27889,40855:27859,40856:27837,40857:27863,40858:27845,40859:27869,40860:27822,40861:27825,40862:27838,40863:27834,40864:27867,40865:27887,40866:27865,40867:27882,40868:27935,40869:34893,40870:27958,40871:27947,40872:27965,40873:27960,40874:27929,40875:27957,40876:27955,40877:27922,40878:27916,40879:28003,40880:28051,40881:28004,40882:27994,40883:28025,40884:27993,40885:28046,40886:28053,40887:28644,40888:28037,40889:28153,40890:28181,40891:28170,40892:28085,40893:28103,40894:28134,40895:28088,40896:28102,40897:28140,40898:28126,40899:28108,40900:28136,40901:28114,40902:28101,40903:28154,40904:28121,40905:28132,40906:28117,40907:28138,40908:28142,40909:28205,40910:28270,40911:28206,40912:28185,40913:28274,40914:28255,40915:28222,40916:28195,40917:28267,40918:28203,40919:28278,40920:28237,40921:28191,40922:28227,40923:28218,40924:28238,40925:28196,40926:28415,40927:28189,40928:28216,40929:28290,40930:28330,40931:28312,40932:28361,40933:28343,40934:28371,40935:28349,40936:28335,40937:28356,40938:28338,40939:28372,40940:28373,40941:28303,40942:28325,40943:28354,40944:28319,40945:28481,40946:28433,40947:28748,40948:28396,40949:28408,40950:28414,40951:28479,40952:28402,40953:28465,40954:28399,40955:28466,40956:28364,161:65377,162:65378,163:65379,164:65380,165:65381,166:65382,167:65383,168:65384,169:65385,170:65386,171:65387,172:65388,173:65389,174:65390,175:65391,176:65392,177:65393,178:65394,179:65395,180:65396,181:65397,182:65398,183:65399,184:65400,185:65401,186:65402,187:65403,188:65404,189:65405,190:65406,191:65407,192:65408,193:65409,194:65410,195:65411,196:65412,197:65413,198:65414,199:65415,200:65416,201:65417,202:65418,203:65419,204:65420,205:65421,206:65422,207:65423,208:65424,209:65425,210:65426,211:65427,212:65428,213:65429,214:65430,215:65431,216:65432,217:65433,218:65434,219:65435,220:65436,221:65437,222:65438,223:65439,57408:28478,57409:28435,57410:28407,57411:28550,57412:28538,57413:28536,57414:28545,57415:28544,57416:28527,57417:28507,57418:28659,57419:28525,57420:28546,57421:28540,57422:28504,57423:28558,57424:28561,57425:28610,57426:28518,57427:28595,57428:28579,57429:28577,57430:28580,57431:28601,57432:28614,57433:28586,57434:28639,57435:28629,57436:28652,57437:28628,57438:28632,57439:28657,57440:28654,57441:28635,57442:28681,57443:28683,57444:28666,57445:28689,57446:28673,57447:28687,57448:28670,57449:28699,57450:28698,57451:28532,57452:28701,57453:28696,57454:28703,57455:28720,57456:28734,57457:28722,57458:28753,57459:28771,57460:28825,57461:28818,57462:28847,57463:28913,57464:28844,57465:28856,57466:28851,57467:28846,57468:28895,57469:28875,57470:28893,57472:28889,57473:28937,57474:28925,57475:28956,57476:28953,57477:29029,57478:29013,57479:29064,57480:29030,57481:29026,57482:29004,57483:29014,57484:29036,57485:29071,57486:29179,57487:29060,57488:29077,57489:29096,57490:29100,57491:29143,57492:29113,57493:29118,57494:29138,57495:29129,57496:29140,57497:29134,57498:29152,57499:29164,57500:29159,57501:29173,57502:29180,57503:29177,57504:29183,57505:29197,57506:29200,57507:29211,57508:29224,57509:29229,57510:29228,57511:29232,57512:29234,57513:29243,57514:29244,57515:29247,57516:29248,57517:29254,57518:29259,57519:29272,57520:29300,57521:29310,57522:29314,57523:29313,57524:29319,57525:29330,57526:29334,57527:29346,57528:29351,57529:29369,57530:29362,57531:29379,57532:29382,57533:29380,57534:29390,57535:29394,57536:29410,57537:29408,57538:29409,57539:29433,57540:29431,57541:20495,57542:29463,57543:29450,57544:29468,57545:29462,57546:29469,57547:29492,57548:29487,57549:29481,57550:29477,57551:29502,57552:29518,57553:29519,57554:40664,57555:29527,57556:29546,57557:29544,57558:29552,57559:29560,57560:29557,57561:29563,57562:29562,57563:29640,57564:29619,57565:29646,57566:29627,57567:29632,57568:29669,57569:29678,57570:29662,57571:29858,57572:29701,57573:29807,57574:29733,57575:29688,57576:29746,57577:29754,57578:29781,57579:29759,57580:29791,57581:29785,57582:29761,57583:29788,57584:29801,57585:29808,57586:29795,57587:29802,57588:29814,57589:29822,57590:29835,57591:29854,57592:29863,57593:29898,57594:29903,57595:29908,57596:29681,57664:29920,57665:29923,57666:29927,57667:29929,57668:29934,57669:29938,57670:29936,57671:29937,57672:29944,57673:29943,57674:29956,57675:29955,57676:29957,57677:29964,57678:29966,57679:29965,57680:29973,57681:29971,57682:29982,57683:29990,57684:29996,57685:30012,57686:30020,57687:30029,57688:30026,57689:30025,57690:30043,57691:30022,57692:30042,57693:30057,57694:30052,57695:30055,57696:30059,57697:30061,57698:30072,57699:30070,57700:30086,57701:30087,57702:30068,57703:30090,57704:30089,57705:30082,57706:30100,57707:30106,57708:30109,57709:30117,57710:30115,57711:30146,57712:30131,57713:30147,57714:30133,57715:30141,57716:30136,57717:30140,57718:30129,57719:30157,57720:30154,57721:30162,57722:30169,57723:30179,57724:30174,57725:30206,57726:30207,57728:30204,57729:30209,57730:30192,57731:30202,57732:30194,57733:30195,57734:30219,57735:30221,57736:30217,57737:30239,57738:30247,57739:30240,57740:30241,57741:30242,57742:30244,57743:30260,57744:30256,57745:30267,57746:30279,57747:30280,57748:30278,57749:30300,57750:30296,57751:30305,57752:30306,57753:30312,57754:30313,57755:30314,57756:30311,57757:30316,57758:30320,57759:30322,57760:30326,57761:30328,57762:30332,57763:30336,57764:30339,57765:30344,57766:30347,57767:30350,57768:30358,57769:30355,57770:30361,57771:30362,57772:30384,57773:30388,57774:30392,57775:30393,57776:30394,57777:30402,57778:30413,57779:30422,57780:30418,57781:30430,57782:30433,57783:30437,57784:30439,57785:30442,57786:34351,57787:30459,57788:30472,57789:30471,57790:30468,57791:30505,57792:30500,57793:30494,57794:30501,57795:30502,57796:30491,57797:30519,57798:30520,57799:30535,57800:30554,57801:30568,57802:30571,57803:30555,57804:30565,57805:30591,57806:30590,57807:30585,57808:30606,57809:30603,57810:30609,57811:30624,57812:30622,57813:30640,57814:30646,57815:30649,57816:30655,57817:30652,57818:30653,57819:30651,57820:30663,57821:30669,57822:30679,57823:30682,57824:30684,57825:30691,57826:30702,57827:30716,57828:30732,57829:30738,57830:31014,57831:30752,57832:31018,57833:30789,57834:30862,57835:30836,57836:30854,57837:30844,57838:30874,57839:30860,57840:30883,57841:30901,57842:30890,57843:30895,57844:30929,57845:30918,57846:30923,57847:30932,57848:30910,57849:30908,57850:30917,57851:30922,57852:30956,57920:30951,57921:30938,57922:30973,57923:30964,57924:30983,57925:30994,57926:30993,57927:31001,57928:31020,57929:31019,57930:31040,57931:31072,57932:31063,57933:31071,57934:31066,57935:31061,57936:31059,57937:31098,57938:31103,57939:31114,57940:31133,57941:31143,57942:40779,57943:31146,57944:31150,57945:31155,57946:31161,57947:31162,57948:31177,57949:31189,57950:31207,57951:31212,57952:31201,57953:31203,57954:31240,57955:31245,57956:31256,57957:31257,57958:31264,57959:31263,57960:31104,57961:31281,57962:31291,57963:31294,57964:31287,57965:31299,57966:31319,57967:31305,57968:31329,57969:31330,57970:31337,57971:40861,57972:31344,57973:31353,57974:31357,57975:31368,57976:31383,57977:31381,57978:31384,57979:31382,57980:31401,57981:31432,57982:31408,57984:31414,57985:31429,57986:31428,57987:31423,57988:36995,57989:31431,57990:31434,57991:31437,57992:31439,57993:31445,57994:31443,57995:31449,57996:31450,57997:31453,57998:31457,57999:31458,58e3:31462,58001:31469,58002:31472,58003:31490,58004:31503,58005:31498,58006:31494,58007:31539,58008:31512,58009:31513,58010:31518,58011:31541,58012:31528,58013:31542,58014:31568,58015:31610,58016:31492,58017:31565,58018:31499,58019:31564,58020:31557,58021:31605,58022:31589,58023:31604,58024:31591,58025:31600,58026:31601,58027:31596,58028:31598,58029:31645,58030:31640,58031:31647,58032:31629,58033:31644,58034:31642,58035:31627,58036:31634,58037:31631,58038:31581,58039:31641,58040:31691,58041:31681,58042:31692,58043:31695,58044:31668,58045:31686,58046:31709,58047:31721,58048:31761,58049:31764,58050:31718,58051:31717,58052:31840,58053:31744,58054:31751,58055:31763,58056:31731,58057:31735,58058:31767,58059:31757,58060:31734,58061:31779,58062:31783,58063:31786,58064:31775,58065:31799,58066:31787,58067:31805,58068:31820,58069:31811,58070:31828,58071:31823,58072:31808,58073:31824,58074:31832,58075:31839,58076:31844,58077:31830,58078:31845,58079:31852,58080:31861,58081:31875,58082:31888,58083:31908,58084:31917,58085:31906,58086:31915,58087:31905,58088:31912,58089:31923,58090:31922,58091:31921,58092:31918,58093:31929,58094:31933,58095:31936,58096:31941,58097:31938,58098:31960,58099:31954,58100:31964,58101:31970,58102:39739,58103:31983,58104:31986,58105:31988,58106:31990,58107:31994,58108:32006,58176:32002,58177:32028,58178:32021,58179:32010,58180:32069,58181:32075,58182:32046,58183:32050,58184:32063,58185:32053,58186:32070,58187:32115,58188:32086,58189:32078,58190:32114,58191:32104,58192:32110,58193:32079,58194:32099,58195:32147,58196:32137,58197:32091,58198:32143,58199:32125,58200:32155,58201:32186,58202:32174,58203:32163,58204:32181,58205:32199,58206:32189,58207:32171,58208:32317,58209:32162,58210:32175,58211:32220,58212:32184,58213:32159,58214:32176,58215:32216,58216:32221,58217:32228,58218:32222,58219:32251,58220:32242,58221:32225,58222:32261,58223:32266,58224:32291,58225:32289,58226:32274,58227:32305,58228:32287,58229:32265,58230:32267,58231:32290,58232:32326,58233:32358,58234:32315,58235:32309,58236:32313,58237:32323,58238:32311,58240:32306,58241:32314,58242:32359,58243:32349,58244:32342,58245:32350,58246:32345,58247:32346,58248:32377,58249:32362,58250:32361,58251:32380,58252:32379,58253:32387,58254:32213,58255:32381,58256:36782,58257:32383,58258:32392,58259:32393,58260:32396,58261:32402,58262:32400,58263:32403,58264:32404,58265:32406,58266:32398,58267:32411,58268:32412,58269:32568,58270:32570,58271:32581,58272:32588,58273:32589,58274:32590,58275:32592,58276:32593,58277:32597,58278:32596,58279:32600,58280:32607,58281:32608,58282:32616,58283:32617,58284:32615,58285:32632,58286:32642,58287:32646,58288:32643,58289:32648,58290:32647,58291:32652,58292:32660,58293:32670,58294:32669,58295:32666,58296:32675,58297:32687,58298:32690,58299:32697,58300:32686,58301:32694,58302:32696,58303:35697,58304:32709,58305:32710,58306:32714,58307:32725,58308:32724,58309:32737,58310:32742,58311:32745,58312:32755,58313:32761,58314:39132,58315:32774,58316:32772,58317:32779,58318:32786,58319:32792,58320:32793,58321:32796,58322:32801,58323:32808,58324:32831,58325:32827,58326:32842,58327:32838,58328:32850,58329:32856,58330:32858,58331:32863,58332:32866,58333:32872,58334:32883,58335:32882,58336:32880,58337:32886,58338:32889,58339:32893,58340:32895,58341:32900,58342:32902,58343:32901,58344:32923,58345:32915,58346:32922,58347:32941,58348:20880,58349:32940,58350:32987,58351:32997,58352:32985,58353:32989,58354:32964,58355:32986,58356:32982,58357:33033,58358:33007,58359:33009,58360:33051,58361:33065,58362:33059,58363:33071,58364:33099,58432:38539,58433:33094,58434:33086,58435:33107,58436:33105,58437:33020,58438:33137,58439:33134,58440:33125,58441:33126,58442:33140,58443:33155,58444:33160,58445:33162,58446:33152,58447:33154,58448:33184,58449:33173,58450:33188,58451:33187,58452:33119,58453:33171,58454:33193,58455:33200,58456:33205,58457:33214,58458:33208,58459:33213,58460:33216,58461:33218,58462:33210,58463:33225,58464:33229,58465:33233,58466:33241,58467:33240,58468:33224,58469:33242,58470:33247,58471:33248,58472:33255,58473:33274,58474:33275,58475:33278,58476:33281,58477:33282,58478:33285,58479:33287,58480:33290,58481:33293,58482:33296,58483:33302,58484:33321,58485:33323,58486:33336,58487:33331,58488:33344,58489:33369,58490:33368,58491:33373,58492:33370,58493:33375,58494:33380,58496:33378,58497:33384,58498:33386,58499:33387,58500:33326,58501:33393,58502:33399,58503:33400,58504:33406,58505:33421,58506:33426,58507:33451,58508:33439,58509:33467,58510:33452,58511:33505,58512:33507,58513:33503,58514:33490,58515:33524,58516:33523,58517:33530,58518:33683,58519:33539,58520:33531,58521:33529,58522:33502,58523:33542,58524:33500,58525:33545,58526:33497,58527:33589,58528:33588,58529:33558,58530:33586,58531:33585,58532:33600,58533:33593,58534:33616,58535:33605,58536:33583,58537:33579,58538:33559,58539:33560,58540:33669,58541:33690,58542:33706,58543:33695,58544:33698,58545:33686,58546:33571,58547:33678,58548:33671,58549:33674,58550:33660,58551:33717,58552:33651,58553:33653,58554:33696,58555:33673,58556:33704,58557:33780,58558:33811,58559:33771,58560:33742,58561:33789,58562:33795,58563:33752,58564:33803,58565:33729,58566:33783,58567:33799,58568:33760,58569:33778,58570:33805,58571:33826,58572:33824,58573:33725,58574:33848,58575:34054,58576:33787,58577:33901,58578:33834,58579:33852,58580:34138,58581:33924,58582:33911,58583:33899,58584:33965,58585:33902,58586:33922,58587:33897,58588:33862,58589:33836,58590:33903,58591:33913,58592:33845,58593:33994,58594:33890,58595:33977,58596:33983,58597:33951,58598:34009,58599:33997,58600:33979,58601:34010,58602:34e3,58603:33985,58604:33990,58605:34006,58606:33953,58607:34081,58608:34047,58609:34036,58610:34071,58611:34072,58612:34092,58613:34079,58614:34069,58615:34068,58616:34044,58617:34112,58618:34147,58619:34136,58620:34120,58688:34113,58689:34306,58690:34123,58691:34133,58692:34176,58693:34212,58694:34184,58695:34193,58696:34186,58697:34216,58698:34157,58699:34196,58700:34203,58701:34282,58702:34183,58703:34204,58704:34167,58705:34174,58706:34192,58707:34249,58708:34234,58709:34255,58710:34233,58711:34256,58712:34261,58713:34269,58714:34277,58715:34268,58716:34297,58717:34314,58718:34323,58719:34315,58720:34302,58721:34298,58722:34310,58723:34338,58724:34330,58725:34352,58726:34367,58727:34381,58728:20053,58729:34388,58730:34399,58731:34407,58732:34417,58733:34451,58734:34467,58735:34473,58736:34474,58737:34443,58738:34444,58739:34486,58740:34479,58741:34500,58742:34502,58743:34480,58744:34505,58745:34851,58746:34475,58747:34516,58748:34526,58749:34537,58750:34540,58752:34527,58753:34523,58754:34543,58755:34578,58756:34566,58757:34568,58758:34560,58759:34563,58760:34555,58761:34577,58762:34569,58763:34573,58764:34553,58765:34570,58766:34612,58767:34623,58768:34615,58769:34619,58770:34597,58771:34601,58772:34586,58773:34656,58774:34655,58775:34680,58776:34636,58777:34638,58778:34676,58779:34647,58780:34664,58781:34670,58782:34649,58783:34643,58784:34659,58785:34666,58786:34821,58787:34722,58788:34719,58789:34690,58790:34735,58791:34763,58792:34749,58793:34752,58794:34768,58795:38614,58796:34731,58797:34756,58798:34739,58799:34759,58800:34758,58801:34747,58802:34799,58803:34802,58804:34784,58805:34831,58806:34829,58807:34814,58808:34806,58809:34807,58810:34830,58811:34770,58812:34833,58813:34838,58814:34837,58815:34850,58816:34849,58817:34865,58818:34870,58819:34873,58820:34855,58821:34875,58822:34884,58823:34882,58824:34898,58825:34905,58826:34910,58827:34914,58828:34923,58829:34945,58830:34942,58831:34974,58832:34933,58833:34941,58834:34997,58835:34930,58836:34946,58837:34967,58838:34962,58839:34990,58840:34969,58841:34978,58842:34957,58843:34980,58844:34992,58845:35007,58846:34993,58847:35011,58848:35012,58849:35028,58850:35032,58851:35033,58852:35037,58853:35065,58854:35074,58855:35068,58856:35060,58857:35048,58858:35058,58859:35076,58860:35084,58861:35082,58862:35091,58863:35139,58864:35102,58865:35109,58866:35114,58867:35115,58868:35137,58869:35140,58870:35131,58871:35126,58872:35128,58873:35148,58874:35101,58875:35168,58876:35166,58944:35174,58945:35172,58946:35181,58947:35178,58948:35183,58949:35188,58950:35191,58951:35198,58952:35203,58953:35208,58954:35210,58955:35219,58956:35224,58957:35233,58958:35241,58959:35238,58960:35244,58961:35247,58962:35250,58963:35258,58964:35261,58965:35263,58966:35264,58967:35290,58968:35292,58969:35293,58970:35303,58971:35316,58972:35320,58973:35331,58974:35350,58975:35344,58976:35340,58977:35355,58978:35357,58979:35365,58980:35382,58981:35393,58982:35419,58983:35410,58984:35398,58985:35400,58986:35452,58987:35437,58988:35436,58989:35426,58990:35461,58991:35458,58992:35460,58993:35496,58994:35489,58995:35473,58996:35493,58997:35494,58998:35482,58999:35491,59e3:35524,59001:35533,59002:35522,59003:35546,59004:35563,59005:35571,59006:35559,59008:35556,59009:35569,59010:35604,59011:35552,59012:35554,59013:35575,59014:35550,59015:35547,59016:35596,59017:35591,59018:35610,59019:35553,59020:35606,59021:35600,59022:35607,59023:35616,59024:35635,59025:38827,59026:35622,59027:35627,59028:35646,59029:35624,59030:35649,59031:35660,59032:35663,59033:35662,59034:35657,59035:35670,59036:35675,59037:35674,59038:35691,59039:35679,59040:35692,59041:35695,59042:35700,59043:35709,59044:35712,59045:35724,59046:35726,59047:35730,59048:35731,59049:35734,59050:35737,59051:35738,59052:35898,59053:35905,59054:35903,59055:35912,59056:35916,59057:35918,59058:35920,59059:35925,59060:35938,59061:35948,59062:35960,59063:35962,59064:35970,59065:35977,59066:35973,59067:35978,59068:35981,59069:35982,59070:35988,59071:35964,59072:35992,59073:25117,59074:36013,59075:36010,59076:36029,59077:36018,59078:36019,59079:36014,59080:36022,59081:36040,59082:36033,59083:36068,59084:36067,59085:36058,59086:36093,59087:36090,59088:36091,59089:36100,59090:36101,59091:36106,59092:36103,59093:36111,59094:36109,59095:36112,59096:40782,59097:36115,59098:36045,59099:36116,59100:36118,59101:36199,59102:36205,59103:36209,59104:36211,59105:36225,59106:36249,59107:36290,59108:36286,59109:36282,59110:36303,59111:36314,59112:36310,59113:36300,59114:36315,59115:36299,59116:36330,59117:36331,59118:36319,59119:36323,59120:36348,59121:36360,59122:36361,59123:36351,59124:36381,59125:36382,59126:36368,59127:36383,59128:36418,59129:36405,59130:36400,59131:36404,59132:36426,59200:36423,59201:36425,59202:36428,59203:36432,59204:36424,59205:36441,59206:36452,59207:36448,59208:36394,59209:36451,59210:36437,59211:36470,59212:36466,59213:36476,59214:36481,59215:36487,59216:36485,59217:36484,59218:36491,59219:36490,59220:36499,59221:36497,59222:36500,59223:36505,59224:36522,59225:36513,59226:36524,59227:36528,59228:36550,59229:36529,59230:36542,59231:36549,59232:36552,59233:36555,59234:36571,59235:36579,59236:36604,59237:36603,59238:36587,59239:36606,59240:36618,59241:36613,59242:36629,59243:36626,59244:36633,59245:36627,59246:36636,59247:36639,59248:36635,59249:36620,59250:36646,59251:36659,59252:36667,59253:36665,59254:36677,59255:36674,59256:36670,59257:36684,59258:36681,59259:36678,59260:36686,59261:36695,59262:36700,59264:36706,59265:36707,59266:36708,59267:36764,59268:36767,59269:36771,59270:36781,59271:36783,59272:36791,59273:36826,59274:36837,59275:36834,59276:36842,59277:36847,59278:36999,59279:36852,59280:36869,59281:36857,59282:36858,59283:36881,59284:36885,59285:36897,59286:36877,59287:36894,59288:36886,59289:36875,59290:36903,59291:36918,59292:36917,59293:36921,59294:36856,59295:36943,59296:36944,59297:36945,59298:36946,59299:36878,59300:36937,59301:36926,59302:36950,59303:36952,59304:36958,59305:36968,59306:36975,59307:36982,59308:38568,59309:36978,59310:36994,59311:36989,59312:36993,59313:36992,59314:37002,59315:37001,59316:37007,59317:37032,59318:37039,59319:37041,59320:37045,59321:37090,59322:37092,59323:25160,59324:37083,59325:37122,59326:37138,59327:37145,59328:37170,59329:37168,59330:37194,59331:37206,59332:37208,59333:37219,59334:37221,59335:37225,59336:37235,59337:37234,59338:37259,59339:37257,59340:37250,59341:37282,59342:37291,59343:37295,59344:37290,59345:37301,59346:37300,59347:37306,59348:37312,59349:37313,59350:37321,59351:37323,59352:37328,59353:37334,59354:37343,59355:37345,59356:37339,59357:37372,59358:37365,59359:37366,59360:37406,59361:37375,59362:37396,59363:37420,59364:37397,59365:37393,59366:37470,59367:37463,59368:37445,59369:37449,59370:37476,59371:37448,59372:37525,59373:37439,59374:37451,59375:37456,59376:37532,59377:37526,59378:37523,59379:37531,59380:37466,59381:37583,59382:37561,59383:37559,59384:37609,59385:37647,59386:37626,59387:37700,59388:37678,59456:37657,59457:37666,59458:37658,59459:37667,59460:37690,59461:37685,59462:37691,59463:37724,59464:37728,59465:37756,59466:37742,59467:37718,59468:37808,59469:37804,59470:37805,59471:37780,59472:37817,59473:37846,59474:37847,59475:37864,59476:37861,59477:37848,59478:37827,59479:37853,59480:37840,59481:37832,59482:37860,59483:37914,59484:37908,59485:37907,59486:37891,59487:37895,59488:37904,59489:37942,59490:37931,59491:37941,59492:37921,59493:37946,59494:37953,59495:37970,59496:37956,59497:37979,59498:37984,59499:37986,59500:37982,59501:37994,59502:37417,59503:38e3,59504:38005,59505:38007,59506:38013,59507:37978,59508:38012,59509:38014,59510:38017,59511:38015,59512:38274,59513:38279,59514:38282,59515:38292,59516:38294,59517:38296,59518:38297,59520:38304,59521:38312,59522:38311,59523:38317,59524:38332,59525:38331,59526:38329,59527:38334,59528:38346,59529:28662,59530:38339,59531:38349,59532:38348,59533:38357,59534:38356,59535:38358,59536:38364,59537:38369,59538:38373,59539:38370,59540:38433,59541:38440,59542:38446,59543:38447,59544:38466,59545:38476,59546:38479,59547:38475,59548:38519,59549:38492,59550:38494,59551:38493,59552:38495,59553:38502,59554:38514,59555:38508,59556:38541,59557:38552,59558:38549,59559:38551,59560:38570,59561:38567,59562:38577,59563:38578,59564:38576,59565:38580,59566:38582,59567:38584,59568:38585,59569:38606,59570:38603,59571:38601,59572:38605,59573:35149,59574:38620,59575:38669,59576:38613,59577:38649,59578:38660,59579:38662,59580:38664,59581:38675,59582:38670,59583:38673,59584:38671,59585:38678,59586:38681,59587:38692,59588:38698,59589:38704,59590:38713,59591:38717,59592:38718,59593:38724,59594:38726,59595:38728,59596:38722,59597:38729,59598:38748,59599:38752,59600:38756,59601:38758,59602:38760,59603:21202,59604:38763,59605:38769,59606:38777,59607:38789,59608:38780,59609:38785,59610:38778,59611:38790,59612:38795,59613:38799,59614:38800,59615:38812,59616:38824,59617:38822,59618:38819,59619:38835,59620:38836,59621:38851,59622:38854,59623:38856,59624:38859,59625:38876,59626:38893,59627:40783,59628:38898,59629:31455,59630:38902,59631:38901,59632:38927,59633:38924,59634:38968,59635:38948,59636:38945,59637:38967,59638:38973,59639:38982,59640:38991,59641:38987,59642:39019,59643:39023,59644:39024,59712:39025,59713:39028,59714:39027,59715:39082,59716:39087,59717:39089,59718:39094,59719:39108,59720:39107,59721:39110,59722:39145,59723:39147,59724:39171,59725:39177,59726:39186,59727:39188,59728:39192,59729:39201,59730:39197,59731:39198,59732:39204,59733:39200,59734:39212,59735:39214,59736:39229,59737:39230,59738:39234,59739:39241,59740:39237,59741:39248,59742:39243,59743:39249,59744:39250,59745:39244,59746:39253,59747:39319,59748:39320,59749:39333,59750:39341,59751:39342,59752:39356,59753:39391,59754:39387,59755:39389,59756:39384,59757:39377,59758:39405,59759:39406,59760:39409,59761:39410,59762:39419,59763:39416,59764:39425,59765:39439,59766:39429,59767:39394,59768:39449,59769:39467,59770:39479,59771:39493,59772:39490,59773:39488,59774:39491,59776:39486,59777:39509,59778:39501,59779:39515,59780:39511,59781:39519,59782:39522,59783:39525,59784:39524,59785:39529,59786:39531,59787:39530,59788:39597,59789:39600,59790:39612,59791:39616,59792:39631,59793:39633,59794:39635,59795:39636,59796:39646,59797:39647,59798:39650,59799:39651,59800:39654,59801:39663,59802:39659,59803:39662,59804:39668,59805:39665,59806:39671,59807:39675,59808:39686,59809:39704,59810:39706,59811:39711,59812:39714,59813:39715,59814:39717,59815:39719,59816:39720,59817:39721,59818:39722,59819:39726,59820:39727,59821:39730,59822:39748,59823:39747,59824:39759,59825:39757,59826:39758,59827:39761,59828:39768,59829:39796,59830:39827,59831:39811,59832:39825,59833:39830,59834:39831,59835:39839,59836:39840,59837:39848,59838:39860,59839:39872,59840:39882,59841:39865,59842:39878,59843:39887,59844:39889,59845:39890,59846:39907,59847:39906,59848:39908,59849:39892,59850:39905,59851:39994,59852:39922,59853:39921,59854:39920,59855:39957,59856:39956,59857:39945,59858:39955,59859:39948,59860:39942,59861:39944,59862:39954,59863:39946,59864:39940,59865:39982,59866:39963,59867:39973,59868:39972,59869:39969,59870:39984,59871:40007,59872:39986,59873:40006,59874:39998,59875:40026,59876:40032,59877:40039,59878:40054,59879:40056,59880:40167,59881:40172,59882:40176,59883:40201,59884:40200,59885:40171,59886:40195,59887:40198,59888:40234,59889:40230,59890:40367,59891:40227,59892:40223,59893:40260,59894:40213,59895:40210,59896:40257,59897:40255,59898:40254,59899:40262,59900:40264,59968:40285,59969:40286,59970:40292,59971:40273,59972:40272,59973:40281,59974:40306,59975:40329,59976:40327,59977:40363,59978:40303,59979:40314,59980:40346,59981:40356,59982:40361,59983:40370,59984:40388,59985:40385,59986:40379,59987:40376,59988:40378,59989:40390,59990:40399,59991:40386,59992:40409,59993:40403,59994:40440,59995:40422,59996:40429,59997:40431,59998:40445,59999:40474,6e4:40475,60001:40478,60002:40565,60003:40569,60004:40573,60005:40577,60006:40584,60007:40587,60008:40588,60009:40594,60010:40597,60011:40593,60012:40605,60013:40613,60014:40617,60015:40632,60016:40618,60017:40621,60018:38753,60019:40652,60020:40654,60021:40655,60022:40656,60023:40660,60024:40668,60025:40670,60026:40669,60027:40672,60028:40677,60029:40680,60030:40687,60032:40692,60033:40694,60034:40695,60035:40697,60036:40699,60037:40700,60038:40701,60039:40711,60040:40712,60041:30391,60042:40725,60043:40737,60044:40748,60045:40766,60046:40778,60047:40786,60048:40788,60049:40803,60050:40799,60051:40800,60052:40801,60053:40806,60054:40807,60055:40812,60056:40810,60057:40823,60058:40818,60059:40822,60060:40853,60061:40860,60062:40864,60063:22575,60064:27079,60065:36953,60066:29796,60067:20956,60068:29081}},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=n(1),x=n(2);function i(l,p,E,c){var g;p.degree()<E.degree()&&(g=[E,p],p=g[0],E=g[1]);for(var u=p,y=E,F=l.zero,j=l.one;y.degree()>=c/2;){var w=u,M=F;if(u=y,F=j,u.isZero())return null;y=w;for(var R=l.zero,D=u.getCoefficient(u.degree()),b=l.inverse(D);y.degree()>=u.degree()&&!y.isZero();){var P=y.degree()-u.degree(),v=l.multiply(y.getCoefficient(y.degree()),b);R=R.addOrSubtract(l.buildMonomial(P,v)),y=y.addOrSubtract(u.multiplyByMonomial(P,v))}if(j=R.multiplyPoly(F).addOrSubtract(M),y.degree()>=u.degree())return null}var T=j.getCoefficient(0);if(T===0)return null;var I=l.inverse(T);return[j.multiply(I),y.multiply(I)]}function h(l,p){var E=p.degree();if(E===1)return[p.getCoefficient(1)];for(var c=new Array(E),g=0,u=1;u<l.size&&g<E;u++)p.evaluateAt(u)===0&&(c[g]=l.inverse(u),g++);return g!==E?null:c}function f(l,p,E){for(var c=E.length,g=new Array(c),u=0;u<c;u++){for(var y=l.inverse(E[u]),F=1,j=0;j<c;j++)u!==j&&(F=l.multiply(F,o.addOrSubtractGF(1,l.multiply(E[j],y))));g[u]=l.multiply(p.evaluateAt(y),l.inverse(F)),l.generatorBase!==0&&(g[u]=l.multiply(g[u],y))}return g}function m(l,p){var E=new Uint8ClampedArray(l.length);E.set(l);for(var c=new o.default(285,256,0),g=new x.default(c,E),u=new Uint8ClampedArray(p),y=!1,F=0;F<p;F++){var j=g.evaluateAt(c.exp(F+c.generatorBase));u[u.length-1-F]=j,j!==0&&(y=!0)}if(!y)return E;var w=new x.default(c,u),M=i(c,c.buildMonomial(p,1),w,p);if(M===null)return null;var R=h(c,M[0]);if(R==null)return null;for(var D=f(c,M[1],R),b=0;b<R.length;b++){var P=E.length-1-c.log(R[b]);if(P<0)return null;E[P]=o.addOrSubtractGF(E[P],D[b])}return E}a.decode=m},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0}),a.VERSIONS=[{infoBits:null,versionNumber:1,alignmentPatternCenters:[],errorCorrectionLevels:[{ecCodewordsPerBlock:7,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:13,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:13}]},{ecCodewordsPerBlock:17,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:2,alignmentPatternCenters:[6,18],errorCorrectionLevels:[{ecCodewordsPerBlock:10,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:34}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:28}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:16}]}]},{infoBits:null,versionNumber:3,alignmentPatternCenters:[6,22],errorCorrectionLevels:[{ecCodewordsPerBlock:15,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:55}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:13}]}]},{infoBits:null,versionNumber:4,alignmentPatternCenters:[6,26],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:80}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:32}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:9}]}]},{infoBits:null,versionNumber:5,alignmentPatternCenters:[6,30],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:43}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:11},{numBlocks:2,dataCodewordsPerBlock:12}]}]},{infoBits:null,versionNumber:6,alignmentPatternCenters:[6,34],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68}]},{ecCodewordsPerBlock:16,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:27}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:31892,versionNumber:7,alignmentPatternCenters:[6,22,38],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:78}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:31}]},{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:13},{numBlocks:1,dataCodewordsPerBlock:14}]}]},{infoBits:34236,versionNumber:8,alignmentPatternCenters:[6,24,42],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:97}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:38},{numBlocks:2,dataCodewordsPerBlock:39}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:18},{numBlocks:2,dataCodewordsPerBlock:19}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:14},{numBlocks:2,dataCodewordsPerBlock:15}]}]},{infoBits:39577,versionNumber:9,alignmentPatternCenters:[6,26,46],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:12},{numBlocks:4,dataCodewordsPerBlock:13}]}]},{infoBits:42195,versionNumber:10,alignmentPatternCenters:[6,28,50],errorCorrectionLevels:[{ecCodewordsPerBlock:18,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:68},{numBlocks:2,dataCodewordsPerBlock:69}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:43},{numBlocks:1,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:15},{numBlocks:2,dataCodewordsPerBlock:16}]}]},{infoBits:48118,versionNumber:11,alignmentPatternCenters:[6,30,54],errorCorrectionLevels:[{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:81}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:50},{numBlocks:4,dataCodewordsPerBlock:51}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:22},{numBlocks:4,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:12},{numBlocks:8,dataCodewordsPerBlock:13}]}]},{infoBits:51042,versionNumber:12,alignmentPatternCenters:[6,32,58],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:92},{numBlocks:2,dataCodewordsPerBlock:93}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:36},{numBlocks:2,dataCodewordsPerBlock:37}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:20},{numBlocks:6,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:14},{numBlocks:4,dataCodewordsPerBlock:15}]}]},{infoBits:55367,versionNumber:13,alignmentPatternCenters:[6,34,62],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:37},{numBlocks:1,dataCodewordsPerBlock:38}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:20},{numBlocks:4,dataCodewordsPerBlock:21}]},{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:11},{numBlocks:4,dataCodewordsPerBlock:12}]}]},{infoBits:58893,versionNumber:14,alignmentPatternCenters:[6,26,46,66],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:40},{numBlocks:5,dataCodewordsPerBlock:41}]},{ecCodewordsPerBlock:20,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:16},{numBlocks:5,dataCodewordsPerBlock:17}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:5,dataCodewordsPerBlock:13}]}]},{infoBits:63784,versionNumber:15,alignmentPatternCenters:[6,26,48,70],errorCorrectionLevels:[{ecCodewordsPerBlock:22,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:87},{numBlocks:1,dataCodewordsPerBlock:88}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:41},{numBlocks:5,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:12},{numBlocks:7,dataCodewordsPerBlock:13}]}]},{infoBits:68472,versionNumber:16,alignmentPatternCenters:[6,26,50,74],errorCorrectionLevels:[{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:98},{numBlocks:1,dataCodewordsPerBlock:99}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:19},{numBlocks:2,dataCodewordsPerBlock:20}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:70749,versionNumber:17,alignmentPatternCenters:[6,30,54,78],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:1,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:22},{numBlocks:15,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:17,dataCodewordsPerBlock:15}]}]},{infoBits:76311,versionNumber:18,alignmentPatternCenters:[6,30,56,82],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:120},{numBlocks:1,dataCodewordsPerBlock:121}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:43},{numBlocks:4,dataCodewordsPerBlock:44}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:1,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:14},{numBlocks:19,dataCodewordsPerBlock:15}]}]},{infoBits:79154,versionNumber:19,alignmentPatternCenters:[6,30,58,86],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:113},{numBlocks:4,dataCodewordsPerBlock:114}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:44},{numBlocks:11,dataCodewordsPerBlock:45}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:21},{numBlocks:4,dataCodewordsPerBlock:22}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:9,dataCodewordsPerBlock:13},{numBlocks:16,dataCodewordsPerBlock:14}]}]},{infoBits:84390,versionNumber:20,alignmentPatternCenters:[6,34,62,90],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:107},{numBlocks:5,dataCodewordsPerBlock:108}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:41},{numBlocks:13,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:5,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:15},{numBlocks:10,dataCodewordsPerBlock:16}]}]},{infoBits:87683,versionNumber:21,alignmentPatternCenters:[6,28,50,72,94],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:116},{numBlocks:4,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:42}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:16},{numBlocks:6,dataCodewordsPerBlock:17}]}]},{infoBits:92361,versionNumber:22,alignmentPatternCenters:[6,26,50,74,98],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:111},{numBlocks:7,dataCodewordsPerBlock:112}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:24,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:13}]}]},{infoBits:96236,versionNumber:23,alignmentPatternCenters:[6,30,54,74,102],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:121},{numBlocks:5,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:47},{numBlocks:14,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:16,dataCodewordsPerBlock:15},{numBlocks:14,dataCodewordsPerBlock:16}]}]},{infoBits:102084,versionNumber:24,alignmentPatternCenters:[6,28,54,80,106],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:45},{numBlocks:14,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:24},{numBlocks:16,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:30,dataCodewordsPerBlock:16},{numBlocks:2,dataCodewordsPerBlock:17}]}]},{infoBits:102881,versionNumber:25,alignmentPatternCenters:[6,32,58,84,110],errorCorrectionLevels:[{ecCodewordsPerBlock:26,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:106},{numBlocks:4,dataCodewordsPerBlock:107}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:47},{numBlocks:13,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:13,dataCodewordsPerBlock:16}]}]},{infoBits:110507,versionNumber:26,alignmentPatternCenters:[6,30,58,86,114],errorCorrectionLevels:[{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:114},{numBlocks:2,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:46},{numBlocks:4,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:28,dataCodewordsPerBlock:22},{numBlocks:6,dataCodewordsPerBlock:23}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:33,dataCodewordsPerBlock:16},{numBlocks:4,dataCodewordsPerBlock:17}]}]},{infoBits:110734,versionNumber:27,alignmentPatternCenters:[6,34,62,90,118],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:45},{numBlocks:3,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:8,dataCodewordsPerBlock:23},{numBlocks:26,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:117786,versionNumber:28,alignmentPatternCenters:[6,26,50,74,98,122],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:117},{numBlocks:10,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:3,dataCodewordsPerBlock:45},{numBlocks:23,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:24},{numBlocks:31,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:31,dataCodewordsPerBlock:16}]}]},{infoBits:119615,versionNumber:29,alignmentPatternCenters:[6,30,54,78,102,126],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:7,dataCodewordsPerBlock:116},{numBlocks:7,dataCodewordsPerBlock:117}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:21,dataCodewordsPerBlock:45},{numBlocks:7,dataCodewordsPerBlock:46}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:1,dataCodewordsPerBlock:23},{numBlocks:37,dataCodewordsPerBlock:24}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:26,dataCodewordsPerBlock:16}]}]},{infoBits:126325,versionNumber:30,alignmentPatternCenters:[6,26,52,78,104,130],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:5,dataCodewordsPerBlock:115},{numBlocks:10,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:47},{numBlocks:10,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:15,dataCodewordsPerBlock:24},{numBlocks:25,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:25,dataCodewordsPerBlock:16}]}]},{infoBits:127568,versionNumber:31,alignmentPatternCenters:[6,30,56,82,108,134],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:3,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:46},{numBlocks:29,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:24},{numBlocks:1,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:23,dataCodewordsPerBlock:15},{numBlocks:28,dataCodewordsPerBlock:16}]}]},{infoBits:133589,versionNumber:32,alignmentPatternCenters:[6,34,60,86,112,138],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:24},{numBlocks:35,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:15},{numBlocks:35,dataCodewordsPerBlock:16}]}]},{infoBits:136944,versionNumber:33,alignmentPatternCenters:[6,30,58,86,114,142],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:115},{numBlocks:1,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:21,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:24},{numBlocks:19,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:11,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:141498,versionNumber:34,alignmentPatternCenters:[6,34,62,90,118,146],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:115},{numBlocks:6,dataCodewordsPerBlock:116}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:14,dataCodewordsPerBlock:46},{numBlocks:23,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:44,dataCodewordsPerBlock:24},{numBlocks:7,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:59,dataCodewordsPerBlock:16},{numBlocks:1,dataCodewordsPerBlock:17}]}]},{infoBits:145311,versionNumber:35,alignmentPatternCenters:[6,30,54,78,102,126,150],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:121},{numBlocks:7,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:12,dataCodewordsPerBlock:47},{numBlocks:26,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:39,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:22,dataCodewordsPerBlock:15},{numBlocks:41,dataCodewordsPerBlock:16}]}]},{infoBits:150283,versionNumber:36,alignmentPatternCenters:[6,24,50,76,102,128,154],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:121},{numBlocks:14,dataCodewordsPerBlock:122}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:6,dataCodewordsPerBlock:47},{numBlocks:34,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:46,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:2,dataCodewordsPerBlock:15},{numBlocks:64,dataCodewordsPerBlock:16}]}]},{infoBits:152622,versionNumber:37,alignmentPatternCenters:[6,28,54,80,106,132,158],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:17,dataCodewordsPerBlock:122},{numBlocks:4,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:29,dataCodewordsPerBlock:46},{numBlocks:14,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:49,dataCodewordsPerBlock:24},{numBlocks:10,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:24,dataCodewordsPerBlock:15},{numBlocks:46,dataCodewordsPerBlock:16}]}]},{infoBits:158308,versionNumber:38,alignmentPatternCenters:[6,32,58,84,110,136,162],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:4,dataCodewordsPerBlock:122},{numBlocks:18,dataCodewordsPerBlock:123}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:13,dataCodewordsPerBlock:46},{numBlocks:32,dataCodewordsPerBlock:47}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:48,dataCodewordsPerBlock:24},{numBlocks:14,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:42,dataCodewordsPerBlock:15},{numBlocks:32,dataCodewordsPerBlock:16}]}]},{infoBits:161089,versionNumber:39,alignmentPatternCenters:[6,26,54,82,110,138,166],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:117},{numBlocks:4,dataCodewordsPerBlock:118}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:40,dataCodewordsPerBlock:47},{numBlocks:7,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:43,dataCodewordsPerBlock:24},{numBlocks:22,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:10,dataCodewordsPerBlock:15},{numBlocks:67,dataCodewordsPerBlock:16}]}]},{infoBits:167017,versionNumber:40,alignmentPatternCenters:[6,30,58,86,114,142,170],errorCorrectionLevels:[{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:19,dataCodewordsPerBlock:118},{numBlocks:6,dataCodewordsPerBlock:119}]},{ecCodewordsPerBlock:28,ecBlocks:[{numBlocks:18,dataCodewordsPerBlock:47},{numBlocks:31,dataCodewordsPerBlock:48}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:34,dataCodewordsPerBlock:24},{numBlocks:34,dataCodewordsPerBlock:25}]},{ecCodewordsPerBlock:30,ecBlocks:[{numBlocks:20,dataCodewordsPerBlock:15},{numBlocks:61,dataCodewordsPerBlock:16}]}]}]},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=n(0);function x(m,l,p,E){var c=m.x-l.x+p.x-E.x,g=m.y-l.y+p.y-E.y;if(c===0&&g===0)return{a11:l.x-m.x,a12:l.y-m.y,a13:0,a21:p.x-l.x,a22:p.y-l.y,a23:0,a31:m.x,a32:m.y,a33:1};var u=l.x-p.x,y=E.x-p.x,F=l.y-p.y,j=E.y-p.y,w=u*j-y*F,M=(c*j-y*g)/w,R=(u*g-c*F)/w;return{a11:l.x-m.x+M*l.x,a12:l.y-m.y+M*l.y,a13:M,a21:E.x-m.x+R*E.x,a22:E.y-m.y+R*E.y,a23:R,a31:m.x,a32:m.y,a33:1}}function i(m,l,p,E){var c=x(m,l,p,E);return{a11:c.a22*c.a33-c.a23*c.a32,a12:c.a13*c.a32-c.a12*c.a33,a13:c.a12*c.a23-c.a13*c.a22,a21:c.a23*c.a31-c.a21*c.a33,a22:c.a11*c.a33-c.a13*c.a31,a23:c.a13*c.a21-c.a11*c.a23,a31:c.a21*c.a32-c.a22*c.a31,a32:c.a12*c.a31-c.a11*c.a32,a33:c.a11*c.a22-c.a12*c.a21}}function h(m,l){return{a11:m.a11*l.a11+m.a21*l.a12+m.a31*l.a13,a12:m.a12*l.a11+m.a22*l.a12+m.a32*l.a13,a13:m.a13*l.a11+m.a23*l.a12+m.a33*l.a13,a21:m.a11*l.a21+m.a21*l.a22+m.a31*l.a23,a22:m.a12*l.a21+m.a22*l.a22+m.a32*l.a23,a23:m.a13*l.a21+m.a23*l.a22+m.a33*l.a23,a31:m.a11*l.a31+m.a21*l.a32+m.a31*l.a33,a32:m.a12*l.a31+m.a22*l.a32+m.a32*l.a33,a33:m.a13*l.a31+m.a23*l.a32+m.a33*l.a33}}function f(m,l){for(var p=i({x:3.5,y:3.5},{x:l.dimension-3.5,y:3.5},{x:l.dimension-6.5,y:l.dimension-6.5},{x:3.5,y:l.dimension-3.5}),E=x(l.topLeft,l.topRight,l.alignmentPattern,l.bottomLeft),c=h(E,p),g=o.BitMatrix.createEmpty(l.dimension,l.dimension),u=function(R,D){var b=c.a13*R+c.a23*D+c.a33;return{x:(c.a11*R+c.a21*D+c.a31)/b,y:(c.a12*R+c.a22*D+c.a32)/b}},y=0;y<l.dimension;y++)for(var F=0;F<l.dimension;F++){var j=F+.5,w=y+.5,M=u(j,w);g.set(F,y,m.get(Math.floor(M.x),Math.floor(M.y)))}return{matrix:g,mappingFunction:u}}a.extract=f},function(s,a,n){Object.defineProperty(a,"__esModule",{value:!0});var o=4,x=.5,i=1.5,h=function(j,w){return Math.sqrt(Math.pow(w.x-j.x,2)+Math.pow(w.y-j.y,2))};function f(j){return j.reduce(function(w,M){return w+M})}function m(j,w,M){var R,D,b,P,v=h(j,w),T=h(w,M),I=h(j,M),B,N,C;return T>=v&&T>=I?(R=[w,j,M],B=R[0],N=R[1],C=R[2]):I>=T&&I>=v?(D=[j,w,M],B=D[0],N=D[1],C=D[2]):(b=[j,M,w],B=b[0],N=b[1],C=b[2]),(C.x-N.x)*(B.y-N.y)-(C.y-N.y)*(B.x-N.x)<0&&(P=[C,B],B=P[0],C=P[1]),{bottomLeft:B,topLeft:N,topRight:C}}function l(j,w,M,R){var D=(f(E(j,M,R,5))/7+f(E(j,w,R,5))/7+f(E(M,j,R,5))/7+f(E(w,j,R,5))/7)/4;if(D<1)throw new Error("Invalid module size");var b=Math.round(h(j,w)/D),P=Math.round(h(j,M)/D),v=Math.floor((b+P)/2)+7;switch(v%4){case 0:v++;break;case 2:v--;break}return{dimension:v,moduleSize:D}}function p(j,w,M,R){var D=[{x:Math.floor(j.x),y:Math.floor(j.y)}],b=Math.abs(w.y-j.y)>Math.abs(w.x-j.x),P,v,T,I;b?(P=Math.floor(j.y),v=Math.floor(j.x),T=Math.floor(w.y),I=Math.floor(w.x)):(P=Math.floor(j.x),v=Math.floor(j.y),T=Math.floor(w.x),I=Math.floor(w.y));for(var B=Math.abs(T-P),N=Math.abs(I-v),C=Math.floor(-B/2),L=P<T?1:-1,S=v<I?1:-1,A=!0,z=P,$=v;z!==T+L;z+=L){var _=b?$:z,Q=b?z:$;if(M.get(_,Q)!==A&&(A=!A,D.push({x:_,y:Q}),D.length===R+1))break;if(C+=N,C>0){if($===I)break;$+=S,C-=B}}for(var ee=[],G=0;G<R;G++)D[G]&&D[G+1]?ee.push(h(D[G],D[G+1])):ee.push(0);return ee}function E(j,w,M,R){var D,b=w.y-j.y,P=w.x-j.x,v=p(j,w,M,Math.ceil(R/2)),T=p(j,{x:j.x-P,y:j.y-b},M,Math.ceil(R/2)),I=v.shift()+T.shift()-1;return(D=T.concat(I)).concat.apply(D,v)}function c(j,w){var M=f(j)/f(w),R=0;return w.forEach(function(D,b){R+=Math.pow(j[b]-D*M,2)}),{averageSize:M,error:R}}function g(j,w,M){try{var R=E(j,{x:-1,y:j.y},M,w.length),D=E(j,{x:j.x,y:-1},M,w.length),b={x:Math.max(0,j.x-j.y)-1,y:Math.max(0,j.y-j.x)-1},P=E(j,b,M,w.length),v={x:Math.min(M.width,j.x+j.y)+1,y:Math.min(M.height,j.y+j.x)+1},T=E(j,v,M,w.length),I=c(R,w),B=c(D,w),N=c(P,w),C=c(T,w),L=Math.sqrt(I.error*I.error+B.error*B.error+N.error*N.error+C.error*C.error),S=(I.averageSize+B.averageSize+N.averageSize+C.averageSize)/4,A=(Math.pow(I.averageSize-S,2)+Math.pow(B.averageSize-S,2)+Math.pow(N.averageSize-S,2)+Math.pow(C.averageSize-S,2))/S;return L+A}catch{return 1/0}}function u(j,w){for(var M=Math.round(w.x);j.get(M,Math.round(w.y));)M--;for(var R=Math.round(w.x);j.get(R,Math.round(w.y));)R++;for(var D=(M+R)/2,b=Math.round(w.y);j.get(Math.round(D),b);)b--;for(var P=Math.round(w.y);j.get(Math.round(D),P);)P++;var v=(b+P)/2;return{x:D,y:v}}function y(j){for(var w=[],M=[],R=[],D=[],b=function(_){for(var Q=0,ee=!1,G=[0,0,0,0,0],H=function(q){var re=j.get(q,_);if(re===ee)Q++;else{G=[G[1],G[2],G[3],G[4],Q],Q=1,ee=re;var K=f(G)/7,Y=Math.abs(G[0]-K)<K&&Math.abs(G[1]-K)<K&&Math.abs(G[2]-3*K)<3*K&&Math.abs(G[3]-K)<K&&Math.abs(G[4]-K)<K&&!re,ae=f(G.slice(-3))/3,be=Math.abs(G[2]-ae)<ae&&Math.abs(G[3]-ae)<ae&&Math.abs(G[4]-ae)<ae&&re;if(Y){var ne=q-G[3]-G[4],ue=ne-G[2],me={startX:ue,endX:ne,y:_},ze=M.filter(function(k){return ue>=k.bottom.startX&&ue<=k.bottom.endX||ne>=k.bottom.startX&&ue<=k.bottom.endX||ue<=k.bottom.startX&&ne>=k.bottom.endX&&G[2]/(k.bottom.endX-k.bottom.startX)<i&&G[2]/(k.bottom.endX-k.bottom.startX)>x});ze.length>0?ze[0].bottom=me:M.push({top:me,bottom:me})}if(be){var He=q-G[4],mt=He-G[3],me={startX:mt,y:_,endX:He},ze=D.filter(function(te){return mt>=te.bottom.startX&&mt<=te.bottom.endX||He>=te.bottom.startX&&mt<=te.bottom.endX||mt<=te.bottom.startX&&He>=te.bottom.endX&&G[2]/(te.bottom.endX-te.bottom.startX)<i&&G[2]/(te.bottom.endX-te.bottom.startX)>x});ze.length>0?ze[0].bottom=me:D.push({top:me,bottom:me})}}},se=-1;se<=j.width;se++)H(se);w.push.apply(w,M.filter(function(q){return q.bottom.y!==_&&q.bottom.y-q.top.y>=2})),M=M.filter(function(q){return q.bottom.y===_}),R.push.apply(R,D.filter(function(q){return q.bottom.y!==_})),D=D.filter(function(q){return q.bottom.y===_})},P=0;P<=j.height;P++)b(P);w.push.apply(w,M.filter(function(_){return _.bottom.y-_.top.y>=2})),R.push.apply(R,D);var v=w.filter(function(_){return _.bottom.y-_.top.y>=2}).map(function(_){var Q=(_.top.startX+_.top.endX+_.bottom.startX+_.bottom.endX)/4,ee=(_.top.y+_.bottom.y+1)/2;if(j.get(Math.round(Q),Math.round(ee))){var G=[_.top.endX-_.top.startX,_.bottom.endX-_.bottom.startX,_.bottom.y-_.top.y+1],H=f(G)/G.length,se=g({x:Math.round(Q),y:Math.round(ee)},[1,1,3,1,1],j);return{score:se,x:Q,y:ee,size:H}}}).filter(function(_){return!!_}).sort(function(_,Q){return _.score-Q.score}).map(function(_,Q,ee){if(Q>o)return null;var G=ee.filter(function(se,q){return Q!==q}).map(function(se){return{x:se.x,y:se.y,score:se.score+Math.pow(se.size-_.size,2)/_.size,size:se.size}}).sort(function(se,q){return se.score-q.score});if(G.length<2)return null;var H=_.score+G[0].score+G[1].score;return{points:[_].concat(G.slice(0,2)),score:H}}).filter(function(_){return!!_}).sort(function(_,Q){return _.score-Q.score});if(v.length===0)return null;var T=m(v[0].points[0],v[0].points[1],v[0].points[2]),I=T.topRight,B=T.topLeft,N=T.bottomLeft,C=F(j,R,I,B,N),L=[];C&&L.push({alignmentPattern:{x:C.alignmentPattern.x,y:C.alignmentPattern.y},bottomLeft:{x:N.x,y:N.y},dimension:C.dimension,topLeft:{x:B.x,y:B.y},topRight:{x:I.x,y:I.y}});var S=u(j,I),A=u(j,B),z=u(j,N),$=F(j,R,S,A,z);return $&&L.push({alignmentPattern:{x:$.alignmentPattern.x,y:$.alignmentPattern.y},bottomLeft:{x:z.x,y:z.y},topLeft:{x:A.x,y:A.y},topRight:{x:S.x,y:S.y},dimension:$.dimension}),L.length===0?null:L}a.locate=y;function F(j,w,M,R,D){var b,P,v;try{b=l(R,M,D,j),P=b.dimension,v=b.moduleSize}catch{return null}var T={x:M.x-R.x+D.x,y:M.y-R.y+D.y},I=(h(R,D)+h(R,M))/2/v,B=1-3/I,N={x:R.x+B*(T.x-R.x),y:R.y+B*(T.y-R.y)},C=w.map(function(S){var A=(S.top.startX+S.top.endX+S.bottom.startX+S.bottom.endX)/4,z=(S.top.y+S.bottom.y+1)/2;if(j.get(Math.floor(A),Math.floor(z))){var $=[S.top.endX-S.top.startX,S.bottom.endX-S.bottom.startX,S.bottom.y-S.top.y+1];f($)/$.length;var _=g({x:Math.floor(A),y:Math.floor(z)},[1,1,1],j),Q=_+h({x:A,y:z},N);return{x:A,y:z,score:Q}}}).filter(function(S){return!!S}).sort(function(S,A){return S.score-A.score}),L=I>=15&&C.length?C[0]:N;return{alignmentPattern:L,dimension:P}}}]).default})})(so);var rd=so.exports;const sd=ji(rd);function ad(){var L,S;const t=Ne(),{user:r,requiresKYC:s}=Ze(),[a,n]=d.useState(!1),[o,x]=d.useState(!1);d.useState("");const[i,h]=d.useState(!1),[f,m]=d.useState(null),l=d.useRef(null),p=d.useRef(null),[E,c]=d.useState([]),[g,u]=d.useState(!1),[y,F]=d.useState(null),[j,w]=d.useState(null),[M,R]=d.useState("R0.00");d.useEffect(()=>{b(),D()},[]);const D=async()=>{var A;try{const z=Ee();if(!z)return;const $=await fetch(`${he.API.baseUrl}/api/v1/wallets/balance`,{headers:{Authorization:`Bearer ${z}`,"Content-Type":"application/json"}});if($.ok){const _=await $.json();if(_.success&&((A=_.data)!=null&&A.balance)){const ee=parseFloat(_.data.balance).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2});R(`R${ee}`)}}}catch(z){console.error("Failed to fetch wallet balance:",z)}},b=async()=>{try{u(!0),m(null);const A=await Ge.getQRMerchants();c(A.slice(0,6))}catch(A){console.error("Error loading merchants:",A),m("Failed to load merchant data. Please try again.")}finally{u(!1)}},P=async()=>{try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia)throw new Error("Camera API not supported in this browser");const A=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});p.current=A,l.current&&(l.current.srcObject=A),x(!0)}catch(A){console.error("Camera access failed:",A),m("Unable to access camera. Please check permissions or try uploading a QR code image instead.")}},v=()=>{p.current&&(p.current.getTracks().forEach(A=>A.stop()),p.current=null),x(!1),n(!1)},T=async()=>{n(!0),m(null),await P()},I=async A=>{try{h(!0),m(null);const z=await Ge.validateQRCode(A);if(F(z),z.merchant){const $=await Ge.initiateQRPayment(A,z.paymentDetails.amount,(r==null?void 0:r.walletId)||"default",z.paymentDetails.reference);w($),alert(`âœ… QR Code validated successfully!

Merchant: ${z.merchant.name}
Amount: R${z.paymentDetails.amount.toFixed(2)}

Payment initiated! Check your transaction history.`)}v()}catch(z){console.error("QR processing error:",z),m("Failed to process QR code. Please try again.")}finally{h(!1)}},B=async()=>{await I("ZAPPER_woolworths_R125.50")},N=()=>{const A=document.createElement("input");A.type="file",A.accept="image/*",A.capture="environment",A.onchange=async z=>{var _;const $=(_=z.target.files)==null?void 0:_[0];if($)try{await C($)}catch(Q){console.error("QR upload processing failed:",Q),m("Failed to process uploaded QR code image. Please try again.")}},A.click()},C=async A=>{try{h(!0),m(null);const z=document.createElement("canvas"),$=z.getContext("2d"),_=new Image;await new Promise((ee,G)=>{_.onload=ee,_.onerror=G,_.src=URL.createObjectURL(A)}),z.width=_.width,z.height=_.height,$==null||$.drawImage(_,0,0);const Q=$==null?void 0:$.getImageData(0,0,z.width,z.height);if(Q){const ee=sd(Q.data,Q.width,Q.height);ee?await I(ee.data):m("No QR code detected in the uploaded image. Please try a different image.")}URL.revokeObjectURL(_.src)}catch(z){console.error("QR upload processing error:",z),m("Failed to process uploaded QR code. Please try again.")}finally{h(!1)}};return d.useEffect(()=>()=>{v()},[]),e.jsxs("div",{style:{backgroundColor:"#ffffff",fontFamily:"Montserrat, sans-serif",position:"relative",width:"100%"},children:[e.jsx("header",{style:{position:"sticky",top:0,zIndex:40,backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",fontFamily:"Montserrat, sans-serif"},children:e.jsxs("div",{style:{maxWidth:"375px",margin:"0 auto",display:"flex",alignItems:"center",justifyContent:"space-between",height:"64px",padding:"0 16px"},children:[e.jsx("button",{onClick:()=>t(-1),style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background-color 0.2s ease",fontFamily:"Montserrat, sans-serif"},onMouseOver:A=>A.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:A=>A.currentTarget.style.backgroundColor="transparent","aria-label":"Go back",children:e.jsx(Re,{style:{width:"20px",height:"20px",color:"#6b7280"}})}),e.jsx("div",{style:{flex:1,display:"flex",justifyContent:"center",alignItems:"center"},children:e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"var(--font-weight-bold)",color:"#1f2937",margin:0},children:"QR Payment"})}),e.jsx("div",{style:{display:"flex",alignItems:"center",justifyContent:"center",minWidth:"44px",height:"44px"},children:e.jsx(De,{style:{backgroundColor:"#86BE41",color:"#ffffff",fontFamily:"Montserrat, sans-serif",fontSize:"9.18px",fontWeight:"600",padding:"3.06px 6.12px",borderRadius:"9.18px",border:"none",whiteSpace:"nowrap"},children:M})})]})}),e.jsx("div",{style:{maxWidth:"375px",margin:"0 auto",padding:"1rem",paddingBottom:"120px"},children:o?e.jsxs("div",{style:{position:"fixed",top:0,left:"50%",transform:"translateX(-50%)",width:"100%",maxWidth:"375px",height:"100vh",backgroundColor:"#000000",zIndex:45,display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"1rem",backgroundColor:"rgba(0, 0, 0, 0.8)",color:"#ffffff"},children:[e.jsx("h2",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:"#ffffff",margin:0},children:"Scan QR Code"}),e.jsx("button",{onClick:v,style:{backgroundColor:"transparent",border:"none",color:"#ffffff",cursor:"pointer",padding:"0.5rem"},children:e.jsx(je,{className:"w-6 h-6"})})]}),e.jsxs("div",{style:{flex:1,position:"relative",display:"flex",alignItems:"center",justifyContent:"center"},children:[e.jsx("video",{ref:l,autoPlay:!0,playsInline:!0,style:{width:"100%",height:"100%",objectFit:"cover"}}),e.jsxs("div",{style:{position:"absolute",top:"50%",left:"50%",transform:"translate(-50%, -50%)",width:"250px",height:"250px",border:"2px solid #86BE41",borderRadius:"12px",backgroundColor:"rgba(134, 190, 65, 0.1)"},children:[e.jsx("div",{style:{position:"absolute",top:"10px",left:"10px",width:"30px",height:"30px",borderTop:"4px solid #86BE41",borderLeft:"4px solid #86BE41"}}),e.jsx("div",{style:{position:"absolute",top:"10px",right:"10px",width:"30px",height:"30px",borderTop:"4px solid #86BE41",borderRight:"4px solid #86BE41"}}),e.jsx("div",{style:{position:"absolute",bottom:"10px",left:"10px",width:"30px",height:"30px",borderBottom:"4px solid #86BE41",borderLeft:"4px solid #86BE41"}}),e.jsx("div",{style:{position:"absolute",bottom:"10px",right:"10px",width:"30px",height:"30px",borderBottom:"4px solid #86BE41",borderRight:"4px solid #86BE41"}})]})]}),e.jsxs("div",{style:{padding:"1.5rem",backgroundColor:"rgba(0, 0, 0, 0.8)",display:"flex",flexDirection:"column",alignItems:"center",gap:"1rem"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",color:"#ffffff",textAlign:"center",margin:0},children:"Position the QR code within the frame"}),e.jsx(O,{onClick:B,disabled:i,style:{background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"var(--mobile-border-radius)",padding:"12px 24px",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",cursor:"pointer",minHeight:"var(--mobile-touch-target)"},children:i?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2 animate-spin"}),"Processing..."]}):e.jsxs(e.Fragment,{children:[e.jsx(il,{className:"w-4 h-4 mr-2"}),"Demo Scan"]})})]})]}):e.jsxs(e.Fragment,{children:[f&&e.jsxs(Ke,{style:{borderRadius:"var(--mobile-border-radius)",border:"1px solid #ef4444",backgroundColor:"#fef2f2",marginBottom:"1rem"},children:[e.jsx(Ie,{className:"h-4 w-4 text-red-600"}),e.jsx(Je,{children:e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#dc2626",margin:0},children:f})})]}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{style:{width:"80px",height:"80px",margin:"0 auto 1rem",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",borderRadius:"50%",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ns,{className:"w-10 h-10 text-white"})}),e.jsx("h2",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"0.5rem"},children:"Scan QR Code to Pay!"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",marginBottom:"1.5rem"},children:"Pay at thousands of Zapper merchants across South Africa"})]}),e.jsxs("div",{className:"space-y-4 mb-6",children:[e.jsx(oe,{className:"cursor-pointer hover:shadow-lg transition-all duration-200",style:{borderRadius:"var(--mobile-border-radius)",border:"2px solid #86BE41",background:"linear-gradient(135deg, #86BE41/5 0%, #2D8CCA/5 100%)"},onClick:T,title:(L=navigator.mediaDevices)!=null&&L.getUserMedia?"Scan QR code with camera":"Camera not supported in this browser",children:e.jsx(ce,{style:{padding:"1.5rem"},children:e.jsxs("div",{className:"flex items-center gap-4",children:[e.jsx("div",{style:{width:"60px",height:"60px",borderRadius:"50%",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(Ns,{className:"w-8 h-8 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"0.25rem"},children:"Scan with Camera"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",margin:0},children:typeof((S=navigator.mediaDevices)==null?void 0:S.getUserMedia)=="function"?"Point your camera at a QR code":"Camera not supported - use upload instead"})]})]})})}),e.jsx(oe,{className:"cursor-pointer hover:shadow-lg transition-all duration-200",style:{borderRadius:"var(--mobile-border-radius)"},onClick:i?void 0:N,children:e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{style:{width:"48px",height:"48px",borderRadius:"12px",backgroundColor:i?"#9ca3af":"#2D8CCA",display:"flex",alignItems:"center",justifyContent:"center"},children:i?e.jsx(Qe,{className:"w-6 h-6 text-white animate-spin"}):e.jsx(Rs,{className:"w-6 h-6 text-white"})}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h4",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:i?"#6b7280":"#1f2937",marginBottom:"0.25rem"},children:i?"Processing...":"Upload QR Code"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",margin:0},children:i?"Decoding QR code...":"Select from gallery"})]})]})})})]}),e.jsxs(Ke,{style:{borderRadius:"var(--mobile-border-radius)",border:"1px solid #f59e0b",backgroundColor:"#fef3c7",marginBottom:"1.5rem"},children:[e.jsx(Ie,{className:"h-4 w-4 text-orange-600"}),e.jsx(Je,{children:e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#92400e",margin:0},children:"QR Code payments are coming soon! We're integrating with Zapper to bring you seamless QR payments at thousands of merchants."})})]}),e.jsxs("div",{className:"mb-6",children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"1rem"},children:"Featured Zapper Merchants"}),g?e.jsxs("div",{className:"flex items-center justify-center py-8",children:[e.jsx(Qe,{className:"w-6 h-6 animate-spin text-#86BE41"}),e.jsx("span",{className:"ml-2 text-gray-600",children:"Loading merchants..."})]}):e.jsx("div",{className:"grid grid-cols-2 gap-3",children:E.map(A=>e.jsx(oe,{style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsxs(ce,{style:{padding:"1rem",textAlign:"center"},children:[e.jsx("div",{style:{fontSize:"2rem",marginBottom:"0.5rem"},children:A.logo}),e.jsx("h4",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"0.25rem"},children:A.name}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",marginBottom:"0.25rem"},children:A.category}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",fontWeight:"var(--font-weight-medium)",color:"#86BE41",margin:0},children:A.locations})]})},A.id))})]}),e.jsxs(oe,{style:{borderRadius:"var(--mobile-border-radius)"},children:[e.jsx(Ae,{children:e.jsxs(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.125rem, 2.5vw, 1.25rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",display:"flex",alignItems:"center",gap:"0.5rem"},children:[e.jsx(Bt,{className:"w-5 h-5 text-#86BE41"}),"Why QR Payments?"]})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#1f2937",margin:0},children:"Instant payments - no cash or cards needed"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#1f2937",margin:0},children:"Secure transactions with MyMoolah protection"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#1f2937",margin:0},children:"Works at thousands of merchants nationwide"})]}),e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{className:"w-5 h-5 text-green-500 flex-shrink-0"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#1f2937",margin:0},children:"Automatic transaction history and receipts"})]})]})})]})]})})]})}var nd="Separator",Ta="horizontal",od=["horizontal","vertical"],ao=d.forwardRef((t,r)=>{const{decorative:s,orientation:a=Ta,...n}=t,o=id(a)?a:Ta,i=s?{role:"none"}:{"aria-orientation":o==="vertical"?o:void 0,role:"separator"};return e.jsx(et.div,{"data-orientation":o,...i,...n,ref:r})});ao.displayName=nd;function id(t){return od.includes(t)}var xd=ao;function qt({className:t,orientation:r="horizontal",decorative:s=!0,...a}){return e.jsx(xd,{"data-slot":"separator-root",decorative:s,orientation:r,className:pe("bg-border shrink-0 data-[orientation=horizontal]:h-px data-[orientation=horizontal]:w-full data-[orientation=vertical]:h-full data-[orientation=vertical]:w-px",t),...a})}function ld(t){if(!t)return"Member since Nov 2024";try{const r=new Date(t),s=r.toLocaleDateString("en-US",{month:"short"}),a=r.getFullYear();return`Member since ${s} ${a}`}catch(r){return console.error("Error formatting registration date:",r),"Member since Nov 2024"}}function cd(){const t=Ne(),{user:r,logout:s,updateKYCStatus:a,requiresKYC:n,changePassword:o}=Ze(),[x,i]=d.useState(!1),[h,f]=d.useState(!1),[m,l]=d.useState(!1),[p,E]=d.useState(!1),[c,g]=d.useState(!1),[u,y]=d.useState({name:(r==null?void 0:r.name)||"",phone:(r==null?void 0:r.phoneNumber)||""}),[F,j]=d.useState({currentPassword:"",newPassword:"",confirmPassword:""});sn.useEffect(()=>{r&&y({name:r.name||"",phone:(r.phoneNumber||r.identifier||"").replace(/^\+?27/,"0")})},[r,x]);const w=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/,M=F.newPassword===F.confirmPassword&&F.confirmPassword.length>0,R=w.test(F.newPassword),D=!!F.currentPassword&&M&&R,P=(()=>{if(!r)return{status:"Unknown",color:"gray",description:"Please log in"};switch(r.kycStatus){case"verified":return{status:"Verified",color:"green",description:"Your identity has been verified successfully"};case"under_review":return{status:"Under Review",color:"blue",description:"Your documents are being reviewed (2-5 minutes)"};case"documents_uploaded":return{status:"Documents Uploaded",color:"orange",description:"Documents received, verification starting soon"};case"rejected":return{status:"Action Required",color:"red",description:"Some documents need to be re-submitted"};default:return{status:"KYC Required",color:"orange",description:"Complete verification to unlock all features"}}})(),v=[{id:"kyc-status",title:"Identity Verification",description:P.description,icon:e.jsx(Et,{className:"w-5 h-5"}),badge:P.status,badgeColor:P.color,onClick:()=>{(r==null?void 0:r.kycStatus)==="not_started"?t("/kyc/documents"):t("/kyc/status")}},{id:"wallet-settings",title:"Wallet Settings",description:"Manage your digital wallet preferences",icon:e.jsx(ut,{className:"w-5 h-5"}),onClick:()=>t("/wallet-settings")},{id:"security-settings",title:"Security & Authentication",description:"Password, PIN, and security preferences",icon:e.jsx(Wx,{className:"w-5 h-5"}),onClick:()=>f(!0)},{id:"notification-settings",title:"Notification Settings",description:"Manage alerts, marketing, and update notifications",icon:e.jsx(ss,{className:"w-5 h-5"}),onClick:()=>alert("Notification settings coming soon!")},{id:"device-management",title:"Device Management",description:"Manage logged-in devices and sessions",icon:e.jsx(Ct,{className:"w-5 h-5"}),onClick:()=>alert("Device management coming soon!")},{id:"feedback",title:"Send Feedback",description:"Help us improve MyMoolah with your suggestions",icon:e.jsx(Ux,{className:"w-5 h-5"}),onClick:()=>t("/feedback")}],T=async()=>{try{alert("Profile updated successfully! (Demo mode)"),i(!1)}catch{alert("Failed to update profile. Please try again.")}},I=async()=>{const C=/^(?=.*[A-Za-z])(?=.*\d)(?=.*[@$!%*?&])[A-Za-z\d@$!%*?&]{8,}$/;if(F.newPassword!==F.confirmPassword){alert("New password and confirmation do not match");return}if(!C.test(F.newPassword)){alert("Password must be at least 8 characters and contain a letter, a number, and a special character");return}try{await o(F.currentPassword,F.newPassword,F.confirmPassword),alert("Password changed successfully"),j({currentPassword:"",newPassword:"",confirmPassword:""}),f(!1)}catch(L){alert((L==null?void 0:L.message)||"Failed to change password. Please try again.")}},B=async()=>{if(window.confirm("Are you sure you want to log out of MyMoolah?"))try{await s(),t("/login")}catch{alert("Logout failed. Please try again.")}},N=C=>{switch(C){case"green":return"bg-green-100 text-green-700 border-green-200";case"orange":return"bg-orange-100 text-orange-700 border-orange-200";case"blue":return"bg-blue-100 text-blue-700 border-blue-200";case"red":return"bg-red-100 text-red-700 border-red-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}};return r?e.jsxs("div",{style:{fontFamily:"Montserrat, sans-serif",backgroundColor:"#ffffff",minHeight:"100vh"},children:[e.jsx("div",{style:{position:"sticky",top:0,backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:10},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"64px",padding:"0 16px"},children:[e.jsx("button",{onClick:()=>t("/dashboard"),style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseOver:C=>C.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:C=>C.currentTarget.style.backgroundColor="transparent","aria-label":"Back to Dashboard",children:e.jsx(Re,{style:{width:"24px",height:"24px",color:"#6b7280"}})}),e.jsx("div",{style:{flex:1,textAlign:"center"},children:e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:0},children:"Profile"})}),e.jsx("button",{onClick:()=>i(!0),style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background-color 0.2s ease"},onMouseOver:C=>C.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:C=>C.currentTarget.style.backgroundColor="transparent","aria-label":"Edit Profile",children:e.jsx(Jx,{style:{width:"24px",height:"24px",color:"#6b7280"}})})]})}),e.jsxs("div",{style:{padding:"16px"},children:[e.jsx("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"16px",padding:"24px",marginBottom:"24px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("div",{style:{width:"64px",height:"64px",borderRadius:"50%",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0},children:e.jsx(Xs,{style:{width:"32px",height:"32px",color:"#ffffff"}})}),e.jsxs("div",{style:{flex:1},children:[e.jsx("h2",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"24px",fontWeight:"700",color:"#1f2937",margin:"0 0 4px 0"},children:r.name}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:"0 0 8px 0"},children:r.phoneNumber||r.identifier}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(De,{className:N(P.color),style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"600"},children:P.status}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:ld(r==null?void 0:r.createdAt)})]})]})]})}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr",gap:"12px"},children:v.map(C=>e.jsx("button",{onClick:C.onClick,disabled:C.disabled,style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",padding:"16px",textAlign:"left",cursor:C.disabled?"not-allowed":"pointer",transition:"all 0.2s ease",opacity:C.disabled?.5:1},onMouseOver:L=>{C.disabled||(L.currentTarget.style.backgroundColor="#f8fafc",L.currentTarget.style.borderColor="#86BE41",L.currentTarget.style.transform="translateY(-1px)")},onMouseOut:L=>{C.disabled||(L.currentTarget.style.backgroundColor="#ffffff",L.currentTarget.style.borderColor="#e2e8f0",L.currentTarget.style.transform="translateY(0)")},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px",flex:1},children:[e.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#86BE41",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:C.icon}),e.jsxs("div",{style:{flex:1},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px",marginBottom:"4px"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",color:"#1f2937",margin:"0"},children:C.title}),C.badge&&e.jsx(De,{className:N(C.badgeColor||"gray"),style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",fontWeight:"600"},children:C.badge})]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:"0"},children:C.description})]})]}),e.jsx(as,{style:{width:"20px",height:"20px",color:"#6b7280"}})]})},C.id))}),e.jsxs("div",{style:{marginTop:"32px",marginBottom:"24px"},children:[e.jsx(qt,{style:{marginBottom:"24px"}}),e.jsx("button",{onClick:B,style:{width:"100%",backgroundColor:"#fef2f2",border:"1px solid #fecaca",borderRadius:"12px",padding:"16px",textAlign:"left",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:C=>{C.currentTarget.style.backgroundColor="#fee2e2",C.currentTarget.style.borderColor="#dc2626"},onMouseOut:C=>{C.currentTarget.style.backgroundColor="#fef2f2",C.currentTarget.style.borderColor="#fecaca"},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"12px"},children:[e.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#dc2626",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx($x,{style:{width:"24px",height:"24px",color:"#ffffff"}})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",color:"#dc2626",margin:"0 0 4px 0"},children:"Log Out"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#7f1d1d",margin:"0"},children:"Sign out of your MyMoolah account"})]})]})})]}),e.jsxs("div",{style:{textAlign:"center",padding:"16px",marginBottom:"24px"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#9ca3af",margin:"0"},children:"MyMoolah v1.0.0 â€¢ Build 2024.11"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#9ca3af",margin:"4px 0 0 0"},children:"Â© 2024 MyMoolah. All rights reserved."})]})]}),e.jsx(Le,{open:x,onOpenChange:i,children:e.jsxs(_e,{style:{fontFamily:"Montserrat, sans-serif",maxWidth:"340px",backgroundColor:"#ffffff",borderRadius:"16px"},"aria-describedby":"edit-profile-description",children:[e.jsx(Gs,{id:"edit-profile-description",className:"sr-only",children:"Edit your profile information including name and phone number"}),e.jsx(Ve,{children:e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937"},children:"Edit Profile"})}),e.jsxs("div",{style:{padding:"16px 0"},children:[e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"edit-name",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Full Name"}),e.jsx(ie,{id:"edit-name",type:"text",value:u.name,onChange:C=>y(L=>({...L,name:C.target.value})),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px",marginTop:"4px"}})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"edit-phone",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Phone Number"}),e.jsx(ie,{id:"edit-phone",type:"tel",value:u.phone,onChange:C=>y(L=>({...L,phone:C.target.value})),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px",marginTop:"4px"},disabled:!0}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280",margin:"4px 0 0 0"},children:"Phone number cannot be changed for security reasons"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"24px"},children:[e.jsx(O,{onClick:()=>i(!1),style:{flex:1,backgroundColor:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"8px",height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600"},children:"Cancel"}),e.jsx(O,{onClick:T,style:{flex:1,background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"8px",height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600"},children:"Save Changes"})]})]})]})}),e.jsx(Le,{open:h,onOpenChange:f,children:e.jsxs(_e,{style:{fontFamily:"Montserrat, sans-serif",maxWidth:"340px",backgroundColor:"#ffffff",borderRadius:"16px"},"aria-describedby":"change-password-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937"},children:"Change Password"}),e.jsx("div",{id:"change-password-description",className:"sr-only",children:"Change your account password by entering current and new password"})]}),e.jsxs("div",{style:{padding:"16px 0"},children:[e.jsxs("div",{style:{display:"grid",gap:"16px"},children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"current-password",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Current Password"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ie,{id:"current-password",type:m?"text":"password",value:F.currentPassword,onChange:C=>j(L=>({...L,currentPassword:C.target.value})),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px",marginTop:"4px",paddingRight:"48px"}}),e.jsx("button",{type:"button",onClick:()=>l(!m),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"#6b7280"},children:m?e.jsx(sr,{size:16}):e.jsx(kt,{size:16})})]})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"new-password",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"New Password"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ie,{id:"new-password",type:p?"text":"password",value:F.newPassword,onChange:C=>j(L=>({...L,newPassword:C.target.value})),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px",marginTop:"4px",paddingRight:"48px"}}),e.jsx("button",{type:"button",onClick:()=>E(!p),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"#6b7280"},children:p?e.jsx(sr,{size:16}):e.jsx(kt,{size:16})})]}),!R&&F.newPassword.length>0&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626",marginTop:"4px"},children:"Password must be at least 8 characters and contain a letter, a number, and a special character"})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"confirm-password",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151"},children:"Confirm New Password"}),e.jsxs("div",{style:{position:"relative"},children:[e.jsx(ie,{id:"confirm-password",type:c?"text":"password",value:F.confirmPassword,onChange:C=>j(L=>({...L,confirmPassword:C.target.value})),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"8px",marginTop:"4px",paddingRight:"48px"}}),e.jsx("button",{type:"button",onClick:()=>g(!c),style:{position:"absolute",right:"12px",top:"50%",transform:"translateY(-50%)",backgroundColor:"transparent",border:"none",cursor:"pointer",color:"#6b7280"},children:c?e.jsx(sr,{size:16}):e.jsx(kt,{size:16})})]}),!M&&F.confirmPassword.length>0&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626",marginTop:"4px"},children:"Confirmation does not match the new password"})]})]}),e.jsxs("div",{style:{display:"flex",gap:"8px",marginTop:"24px"},children:[e.jsx(O,{onClick:()=>{f(!1),j({currentPassword:"",newPassword:"",confirmPassword:""})},style:{flex:1,backgroundColor:"#f3f4f6",color:"#6b7280",border:"none",borderRadius:"8px",height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600"},children:"Cancel"}),e.jsx(O,{onClick:I,disabled:!D,style:{flex:1,background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"8px",height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",opacity:D?1:.6,cursor:D?"pointer":"not-allowed"},children:"Change Password"})]})]})]})})]}):e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",backgroundColor:"#ffffff",minHeight:"100vh"},children:e.jsxs("div",{style:{padding:"2rem",textAlign:"center"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",color:"#6b7280"},children:"Please log in to view your profile."}),e.jsx(O,{onClick:()=>t("/login"),className:"mymoolah-btn-primary mt-4",children:"Go to Login"})]})})}var fe=function(){return fe=Object.assign||function(r){for(var s,a=1,n=arguments.length;a<n;a++){s=arguments[a];for(var o in s)Object.prototype.hasOwnProperty.call(s,o)&&(r[o]=s[o])}return r},fe.apply(this,arguments)};function dd(t,r){var s={};for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&r.indexOf(a)<0&&(s[a]=t[a]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var n=0,a=Object.getOwnPropertySymbols(t);n<a.length;n++)r.indexOf(a[n])<0&&Object.prototype.propertyIsEnumerable.call(t,a[n])&&(s[a[n]]=t[a[n]]);return s}function no(t,r,s){if(s||arguments.length===2)for(var a=0,n=r.length,o;a<n;a++)(o||!(a in r))&&(o||(o=Array.prototype.slice.call(r,0,a)),o[a]=r[a]);return t.concat(o||Array.prototype.slice.call(r))}function Sr(t){return t.mode==="multiple"}function Mr(t){return t.mode==="range"}function ls(t){return t.mode==="single"}var fd={root:"rdp",multiple_months:"rdp-multiple_months",with_weeknumber:"rdp-with_weeknumber",vhidden:"rdp-vhidden",button_reset:"rdp-button_reset",button:"rdp-button",caption:"rdp-caption",caption_start:"rdp-caption_start",caption_end:"rdp-caption_end",caption_between:"rdp-caption_between",caption_label:"rdp-caption_label",caption_dropdowns:"rdp-caption_dropdowns",dropdown:"rdp-dropdown",dropdown_month:"rdp-dropdown_month",dropdown_year:"rdp-dropdown_year",dropdown_icon:"rdp-dropdown_icon",months:"rdp-months",month:"rdp-month",table:"rdp-table",tbody:"rdp-tbody",tfoot:"rdp-tfoot",head:"rdp-head",head_row:"rdp-head_row",head_cell:"rdp-head_cell",nav:"rdp-nav",nav_button:"rdp-nav_button",nav_button_previous:"rdp-nav_button_previous",nav_button_next:"rdp-nav_button_next",nav_icon:"rdp-nav_icon",row:"rdp-row",weeknumber:"rdp-weeknumber",cell:"rdp-cell",day:"rdp-day",day_today:"rdp-day_today",day_outside:"rdp-day_outside",day_selected:"rdp-day_selected",day_disabled:"rdp-day_disabled",day_hidden:"rdp-day_hidden",day_range_start:"rdp-day_range_start",day_range_end:"rdp-day_range_end",day_range_middle:"rdp-day_range_middle"};function ud(t,r){return Zt(t,"LLLL y",r)}function md(t,r){return Zt(t,"d",r)}function hd(t,r){return Zt(t,"LLLL",r)}function pd(t){return"".concat(t)}function gd(t,r){return Zt(t,"cccccc",r)}function yd(t,r){return Zt(t,"yyyy",r)}var bd=Object.freeze({__proto__:null,formatCaption:ud,formatDay:md,formatMonthCaption:hd,formatWeekNumber:pd,formatWeekdayName:gd,formatYearCaption:yd}),Ed=function(t,r,s){return Zt(t,"do MMMM (EEEE)",s)},Cd=function(){return"Month: "},vd=function(){return"Go to next month"},Bd=function(){return"Go to previous month"},Fd=function(t,r){return Zt(t,"cccc",r)},Ad=function(t){return"Week n. ".concat(t)},wd=function(){return"Year: "},jd=Object.freeze({__proto__:null,labelDay:Ed,labelMonthDropdown:Cd,labelNext:vd,labelPrevious:Bd,labelWeekNumber:Ad,labelWeekday:Fd,labelYearDropdown:wd});function Dd(){var t="buttons",r=fd,s=Mi,a={},n={},o=1,x={},i=new Date;return{captionLayout:t,classNames:r,formatters:bd,labels:jd,locale:s,modifiersClassNames:a,modifiers:n,numberOfMonths:o,styles:x,today:i,mode:"default"}}function kd(t){var r=t.fromYear,s=t.toYear,a=t.fromMonth,n=t.toMonth,o=t.fromDate,x=t.toDate;return a?o=ct(a):r&&(o=new Date(r,0,1)),n?x=$s(n):s&&(x=new Date(s,11,31)),{fromDate:o?ua(o):void 0,toDate:x?ua(x):void 0}}var oo=d.createContext(void 0);function Sd(t){var r,s=t.initialProps,a=Dd(),n=kd(s),o=n.fromDate,x=n.toDate,i=(r=s.captionLayout)!==null&&r!==void 0?r:a.captionLayout;i!=="buttons"&&(!o||!x)&&(i="buttons");var h;(ls(s)||Sr(s)||Mr(s))&&(h=s.onSelect);var f=fe(fe(fe({},a),s),{captionLayout:i,classNames:fe(fe({},a.classNames),s.classNames),components:fe({},s.components),formatters:fe(fe({},a.formatters),s.formatters),fromDate:o,labels:fe(fe({},a.labels),s.labels),mode:s.mode||a.mode,modifiers:fe(fe({},a.modifiers),s.modifiers),modifiersClassNames:fe(fe({},a.modifiersClassNames),s.modifiersClassNames),onSelect:h,styles:fe(fe({},a.styles),s.styles),toDate:x});return e.jsx(oo.Provider,{value:f,children:t.children})}function ke(){var t=d.useContext(oo);if(!t)throw new Error("useDayPicker must be used within a DayPickerProvider.");return t}function io(t){var r=ke(),s=r.locale,a=r.classNames,n=r.styles,o=r.formatters.formatCaption;return e.jsx("div",{className:a.caption_label,style:n.caption_label,"aria-live":"polite",role:"presentation",id:t.id,children:o(t.displayMonth,{locale:s})})}function Md(t){return e.jsx("svg",fe({width:"8px",height:"8px",viewBox:"0 0 120 120","data-testid":"iconDropdown"},t,{children:e.jsx("path",{d:"M4.22182541,48.2218254 C8.44222828,44.0014225 15.2388494,43.9273804 19.5496459,47.9996989 L19.7781746,48.2218254 L60,88.443 L100.221825,48.2218254 C104.442228,44.0014225 111.238849,43.9273804 115.549646,47.9996989 L115.778175,48.2218254 C119.998577,52.4422283 120.07262,59.2388494 116.000301,63.5496459 L115.778175,63.7781746 L67.7781746,111.778175 C63.5577717,115.998577 56.7611506,116.07262 52.4503541,112.000301 L52.2218254,111.778175 L4.22182541,63.7781746 C-0.0739418023,59.4824074 -0.0739418023,52.5175926 4.22182541,48.2218254 Z",fill:"currentColor",fillRule:"nonzero"})}))}function xo(t){var r,s,a=t.onChange,n=t.value,o=t.children,x=t.caption,i=t.className,h=t.style,f=ke(),m=(s=(r=f.components)===null||r===void 0?void 0:r.IconDropdown)!==null&&s!==void 0?s:Md;return e.jsxs("div",{className:i,style:h,children:[e.jsx("span",{className:f.classNames.vhidden,children:t["aria-label"]}),e.jsx("select",{name:t.name,"aria-label":t["aria-label"],className:f.classNames.dropdown,style:f.styles.dropdown,value:n,onChange:a,children:o}),e.jsxs("div",{className:f.classNames.caption_label,style:f.styles.caption_label,"aria-hidden":"true",children:[x,e.jsx(m,{className:f.classNames.dropdown_icon,style:f.styles.dropdown_icon})]})]})}function Nd(t){var r,s=ke(),a=s.fromDate,n=s.toDate,o=s.styles,x=s.locale,i=s.formatters.formatMonthCaption,h=s.classNames,f=s.components,m=s.labels.labelMonthDropdown;if(!a)return e.jsx(e.Fragment,{});if(!n)return e.jsx(e.Fragment,{});var l=[];if(Ni(a,n))for(var p=ct(a),E=a.getMonth();E<=n.getMonth();E++)l.push(hs(p,E));else for(var p=ct(new Date),E=0;E<=11;E++)l.push(hs(p,E));var c=function(u){var y=Number(u.target.value),F=hs(ct(t.displayMonth),y);t.onChange(F)},g=(r=f==null?void 0:f.Dropdown)!==null&&r!==void 0?r:xo;return e.jsx(g,{name:"months","aria-label":m(),className:h.dropdown_month,style:o.dropdown_month,onChange:c,value:t.displayMonth.getMonth(),caption:i(t.displayMonth,{locale:x}),children:l.map(function(u){return e.jsx("option",{value:u.getMonth(),children:i(u,{locale:x})},u.getMonth())})})}function Pd(t){var r,s=t.displayMonth,a=ke(),n=a.fromDate,o=a.toDate,x=a.locale,i=a.styles,h=a.classNames,f=a.components,m=a.formatters.formatYearCaption,l=a.labels.labelYearDropdown,p=[];if(!n)return e.jsx(e.Fragment,{});if(!o)return e.jsx(e.Fragment,{});for(var E=n.getFullYear(),c=o.getFullYear(),g=E;g<=c;g++)p.push(ma(Pi(new Date),g));var u=function(F){var j=ma(ct(s),Number(F.target.value));t.onChange(j)},y=(r=f==null?void 0:f.Dropdown)!==null&&r!==void 0?r:xo;return e.jsx(y,{name:"years","aria-label":l(),className:h.dropdown_year,style:i.dropdown_year,onChange:u,value:s.getFullYear(),caption:m(s,{locale:x}),children:p.map(function(F){return e.jsx("option",{value:F.getFullYear(),children:m(F,{locale:x})},F.getFullYear())})})}function Rd(t,r){var s=d.useState(t),a=s[0],n=s[1],o=r===void 0?a:r;return[o,n]}function zd(t){var r=t.month,s=t.defaultMonth,a=t.today,n=r||s||a||new Date,o=t.toDate,x=t.fromDate,i=t.numberOfMonths,h=i===void 0?1:i;if(o&&Cr(o,n)<0){var f=-1*(h-1);n=vt(o,f)}return x&&Cr(n,x)<0&&(n=x),ct(n)}function Td(){var t=ke(),r=zd(t),s=Rd(r,t.month),a=s[0],n=s[1],o=function(x){var i;if(!t.disableNavigation){var h=ct(x);n(h),(i=t.onMonthChange)===null||i===void 0||i.call(t,h)}};return[a,o]}function Id(t,r){for(var s=r.reverseMonths,a=r.numberOfMonths,n=ct(t),o=ct(vt(n,a)),x=Cr(o,n),i=[],h=0;h<x;h++){var f=vt(n,h);i.push(f)}return s&&(i=i.reverse()),i}function Wd(t,r){if(!r.disableNavigation){var s=r.toDate,a=r.pagedNavigation,n=r.numberOfMonths,o=n===void 0?1:n,x=a?o:1,i=ct(t);if(!s)return vt(i,x);var h=Cr(s,t);if(!(h<o))return vt(i,x)}}function _d(t,r){if(!r.disableNavigation){var s=r.fromDate,a=r.pagedNavigation,n=r.numberOfMonths,o=n===void 0?1:n,x=a?o:1,i=ct(t);if(!s)return vt(i,-x);var h=Cr(i,s);if(!(h<=0))return vt(i,-x)}}var lo=d.createContext(void 0);function $d(t){var r=ke(),s=Td(),a=s[0],n=s[1],o=Id(a,r),x=Wd(a,r),i=_d(a,r),h=function(l){return o.some(function(p){return Ls(l,p)})},f=function(l,p){h(l)||(p&&an(l,p)?n(vt(l,1+r.numberOfMonths*-1)):n(l))},m={currentMonth:a,displayMonths:o,goToMonth:n,goToDate:f,previousMonth:i,nextMonth:x,isDateDisplayed:h};return e.jsx(lo.Provider,{value:m,children:t.children})}function Nr(){var t=d.useContext(lo);if(!t)throw new Error("useNavigation must be used within a NavigationProvider");return t}function Ia(t){var r,s=ke(),a=s.classNames,n=s.styles,o=s.components,x=Nr().goToMonth,i=function(m){x(vt(m,t.displayIndex?-t.displayIndex:0))},h=(r=o==null?void 0:o.CaptionLabel)!==null&&r!==void 0?r:io,f=e.jsx(h,{id:t.id,displayMonth:t.displayMonth});return e.jsxs("div",{className:a.caption_dropdowns,style:n.caption_dropdowns,children:[e.jsx("div",{className:a.vhidden,children:f}),e.jsx(Nd,{onChange:i,displayMonth:t.displayMonth}),e.jsx(Pd,{onChange:i,displayMonth:t.displayMonth})]})}function Ld(t){return e.jsx("svg",fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M69.490332,3.34314575 C72.6145263,0.218951416 77.6798462,0.218951416 80.8040405,3.34314575 C83.8617626,6.40086786 83.9268205,11.3179931 80.9992143,14.4548388 L80.8040405,14.6568542 L35.461,60 L80.8040405,105.343146 C83.8617626,108.400868 83.9268205,113.317993 80.9992143,116.454839 L80.8040405,116.656854 C77.7463184,119.714576 72.8291931,119.779634 69.6923475,116.852028 L69.490332,116.656854 L18.490332,65.6568542 C15.4326099,62.5991321 15.367552,57.6820069 18.2951583,54.5451612 L18.490332,54.3431458 L69.490332,3.34314575 Z",fill:"currentColor",fillRule:"nonzero"})}))}function Od(t){return e.jsx("svg",fe({width:"16px",height:"16px",viewBox:"0 0 120 120"},t,{children:e.jsx("path",{d:"M49.8040405,3.34314575 C46.6798462,0.218951416 41.6145263,0.218951416 38.490332,3.34314575 C35.4326099,6.40086786 35.367552,11.3179931 38.2951583,14.4548388 L38.490332,14.6568542 L83.8333725,60 L38.490332,105.343146 C35.4326099,108.400868 35.367552,113.317993 38.2951583,116.454839 L38.490332,116.656854 C41.5480541,119.714576 46.4651794,119.779634 49.602025,116.852028 L49.8040405,116.656854 L100.804041,65.6568542 C103.861763,62.5991321 103.926821,57.6820069 100.999214,54.5451612 L100.804041,54.3431458 L49.8040405,3.34314575 Z",fill:"currentColor"})}))}var Qr=d.forwardRef(function(t,r){var s=ke(),a=s.classNames,n=s.styles,o=[a.button_reset,a.button];t.className&&o.push(t.className);var x=o.join(" "),i=fe(fe({},n.button_reset),n.button);return t.style&&Object.assign(i,t.style),e.jsx("button",fe({},t,{ref:r,type:"button",className:x,style:i}))});function Vd(t){var r,s,a=ke(),n=a.dir,o=a.locale,x=a.classNames,i=a.styles,h=a.labels,f=h.labelPrevious,m=h.labelNext,l=a.components;if(!t.nextMonth&&!t.previousMonth)return e.jsx(e.Fragment,{});var p=f(t.previousMonth,{locale:o}),E=[x.nav_button,x.nav_button_previous].join(" "),c=m(t.nextMonth,{locale:o}),g=[x.nav_button,x.nav_button_next].join(" "),u=(r=l==null?void 0:l.IconRight)!==null&&r!==void 0?r:Od,y=(s=l==null?void 0:l.IconLeft)!==null&&s!==void 0?s:Ld;return e.jsxs("div",{className:x.nav,style:i.nav,children:[!t.hidePrevious&&e.jsx(Qr,{name:"previous-month","aria-label":p,className:E,style:i.nav_button_previous,disabled:!t.previousMonth,onClick:t.onPreviousClick,children:n==="rtl"?e.jsx(u,{className:x.nav_icon,style:i.nav_icon}):e.jsx(y,{className:x.nav_icon,style:i.nav_icon})}),!t.hideNext&&e.jsx(Qr,{name:"next-month","aria-label":c,className:g,style:i.nav_button_next,disabled:!t.nextMonth,onClick:t.onNextClick,children:n==="rtl"?e.jsx(y,{className:x.nav_icon,style:i.nav_icon}):e.jsx(u,{className:x.nav_icon,style:i.nav_icon})})]})}function Wa(t){var r=ke().numberOfMonths,s=Nr(),a=s.previousMonth,n=s.nextMonth,o=s.goToMonth,x=s.displayMonths,i=x.findIndex(function(c){return Ls(t.displayMonth,c)}),h=i===0,f=i===x.length-1,m=r>1&&(h||!f),l=r>1&&(f||!h),p=function(){a&&o(a)},E=function(){n&&o(n)};return e.jsx(Vd,{displayMonth:t.displayMonth,hideNext:m,hidePrevious:l,nextMonth:n,previousMonth:a,onPreviousClick:p,onNextClick:E})}function Ud(t){var r,s=ke(),a=s.classNames,n=s.disableNavigation,o=s.styles,x=s.captionLayout,i=s.components,h=(r=i==null?void 0:i.CaptionLabel)!==null&&r!==void 0?r:io,f;return n?f=e.jsx(h,{id:t.id,displayMonth:t.displayMonth}):x==="dropdown"?f=e.jsx(Ia,{displayMonth:t.displayMonth,id:t.id}):x==="dropdown-buttons"?f=e.jsxs(e.Fragment,{children:[e.jsx(Ia,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id}),e.jsx(Wa,{displayMonth:t.displayMonth,displayIndex:t.displayIndex,id:t.id})]}):f=e.jsxs(e.Fragment,{children:[e.jsx(h,{id:t.id,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(Wa,{displayMonth:t.displayMonth,id:t.id})]}),e.jsx("div",{className:a.caption,style:o.caption,children:f})}function Hd(t){var r=ke(),s=r.footer,a=r.styles,n=r.classNames.tfoot;return s?e.jsx("tfoot",{className:n,style:a.tfoot,children:e.jsx("tr",{children:e.jsx("td",{colSpan:8,children:s})})}):e.jsx(e.Fragment,{})}function qd(t,r,s){for(var a=s?Os(new Date):Vs(new Date,{locale:t,weekStartsOn:r}),n=[],o=0;o<7;o++){var x=at(a,o);n.push(x)}return n}function Xd(){var t=ke(),r=t.classNames,s=t.styles,a=t.showWeekNumber,n=t.locale,o=t.weekStartsOn,x=t.ISOWeek,i=t.formatters.formatWeekdayName,h=t.labels.labelWeekday,f=qd(n,o,x);return e.jsxs("tr",{style:s.head_row,className:r.head_row,children:[a&&e.jsx("td",{style:s.head_cell,className:r.head_cell}),f.map(function(m,l){return e.jsx("th",{scope:"col",className:r.head_cell,style:s.head_cell,"aria-label":h(m,{locale:n}),children:i(m,{locale:n})},l)})]})}function Yd(){var t,r=ke(),s=r.classNames,a=r.styles,n=r.components,o=(t=n==null?void 0:n.HeadRow)!==null&&t!==void 0?t:Xd;return e.jsx("thead",{style:a.head,className:s.head,children:e.jsx(o,{})})}function Gd(t){var r=ke(),s=r.locale,a=r.formatters.formatDay;return e.jsx(e.Fragment,{children:a(t.date,{locale:s})})}var Ks=d.createContext(void 0);function Zd(t){if(!Sr(t.initialProps)){var r={selected:void 0,modifiers:{disabled:[]}};return e.jsx(Ks.Provider,{value:r,children:t.children})}return e.jsx(Qd,{initialProps:t.initialProps,children:t.children})}function Qd(t){var r=t.initialProps,s=t.children,a=r.selected,n=r.min,o=r.max,x=function(f,m,l){var p,E;(p=r.onDayClick)===null||p===void 0||p.call(r,f,m,l);var c=!!(m.selected&&n&&(a==null?void 0:a.length)===n);if(!c){var g=!!(!m.selected&&o&&(a==null?void 0:a.length)===o);if(!g){var u=a?no([],a,!0):[];if(m.selected){var y=u.findIndex(function(F){return st(f,F)});u.splice(y,1)}else u.push(f);(E=r.onSelect)===null||E===void 0||E.call(r,u,f,m,l)}}},i={disabled:[]};a&&i.disabled.push(function(f){var m=o&&a.length>o-1,l=a.some(function(p){return st(p,f)});return!!(m&&!l)});var h={selected:a,onDayClick:x,modifiers:i};return e.jsx(Ks.Provider,{value:h,children:s})}function Js(){var t=d.useContext(Ks);if(!t)throw new Error("useSelectMultiple must be used within a SelectMultipleProvider");return t}function Kd(t,r){var s=r||{},a=s.from,n=s.to;return a&&n?st(n,t)&&st(a,t)?void 0:st(n,t)?{from:n,to:void 0}:st(a,t)?void 0:ws(a,t)?{from:t,to:n}:{from:a,to:t}:n?ws(t,n)?{from:n,to:t}:{from:t,to:n}:a?an(t,a)?{from:t,to:a}:{from:a,to:t}:{from:t,to:void 0}}var ea=d.createContext(void 0);function Jd(t){if(!Mr(t.initialProps)){var r={selected:void 0,modifiers:{range_start:[],range_end:[],range_middle:[],disabled:[]}};return e.jsx(ea.Provider,{value:r,children:t.children})}return e.jsx(ef,{initialProps:t.initialProps,children:t.children})}function ef(t){var r=t.initialProps,s=t.children,a=r.selected,n=a||{},o=n.from,x=n.to,i=r.min,h=r.max,f=function(E,c,g){var u,y;(u=r.onDayClick)===null||u===void 0||u.call(r,E,c,g);var F=Kd(E,a);(y=r.onSelect)===null||y===void 0||y.call(r,F,E,c,g)},m={range_start:[],range_end:[],range_middle:[],disabled:[]};if(o?(m.range_start=[o],x?(m.range_end=[x],st(o,x)||(m.range_middle=[{after:o,before:x}])):m.range_end=[o]):x&&(m.range_start=[x],m.range_end=[x]),i&&(o&&!x&&m.disabled.push({after:ms(o,i-1),before:at(o,i-1)}),o&&x&&m.disabled.push({after:o,before:at(o,i-1)}),!o&&x&&m.disabled.push({after:ms(x,i-1),before:at(x,i-1)})),h){if(o&&!x&&(m.disabled.push({before:at(o,-h+1)}),m.disabled.push({after:at(o,h-1)})),o&&x){var l=Dt(x,o)+1,p=h-l;m.disabled.push({before:ms(o,p)}),m.disabled.push({after:at(x,p)})}!o&&x&&(m.disabled.push({before:at(x,-h+1)}),m.disabled.push({after:at(x,h-1)}))}return e.jsx(ea.Provider,{value:{selected:a,onDayClick:f,modifiers:m},children:s})}function ta(){var t=d.useContext(ea);if(!t)throw new Error("useSelectRange must be used within a SelectRangeProvider");return t}function Ur(t){return Array.isArray(t)?no([],t,!0):t!==void 0?[t]:[]}function tf(t){var r={};return Object.entries(t).forEach(function(s){var a=s[0],n=s[1];r[a]=Ur(n)}),r}var bt;(function(t){t.Outside="outside",t.Disabled="disabled",t.Selected="selected",t.Hidden="hidden",t.Today="today",t.RangeStart="range_start",t.RangeEnd="range_end",t.RangeMiddle="range_middle"})(bt||(bt={}));var rf=bt.Selected,jt=bt.Disabled,sf=bt.Hidden,af=bt.Today,Es=bt.RangeEnd,Cs=bt.RangeMiddle,vs=bt.RangeStart,nf=bt.Outside;function of(t,r,s){var a,n=(a={},a[rf]=Ur(t.selected),a[jt]=Ur(t.disabled),a[sf]=Ur(t.hidden),a[af]=[t.today],a[Es]=[],a[Cs]=[],a[vs]=[],a[nf]=[],a);return t.fromDate&&n[jt].push({before:t.fromDate}),t.toDate&&n[jt].push({after:t.toDate}),Sr(t)?n[jt]=n[jt].concat(r.modifiers[jt]):Mr(t)&&(n[jt]=n[jt].concat(s.modifiers[jt]),n[vs]=s.modifiers[vs],n[Cs]=s.modifiers[Cs],n[Es]=s.modifiers[Es]),n}var co=d.createContext(void 0);function xf(t){var r=ke(),s=Js(),a=ta(),n=of(r,s,a),o=tf(r.modifiers),x=fe(fe({},n),o);return e.jsx(co.Provider,{value:x,children:t.children})}function fo(){var t=d.useContext(co);if(!t)throw new Error("useModifiers must be used within a ModifiersProvider");return t}function lf(t){return!!(t&&typeof t=="object"&&"before"in t&&"after"in t)}function cf(t){return!!(t&&typeof t=="object"&&"from"in t)}function df(t){return!!(t&&typeof t=="object"&&"after"in t)}function ff(t){return!!(t&&typeof t=="object"&&"before"in t)}function uf(t){return!!(t&&typeof t=="object"&&"dayOfWeek"in t)}function mf(t,r){var s,a=r.from,n=r.to;if(a&&n){var o=Dt(n,a)<0;o&&(s=[n,a],a=s[0],n=s[1]);var x=Dt(t,a)>=0&&Dt(n,t)>=0;return x}return n?st(n,t):a?st(a,t):!1}function hf(t){return xn(t)}function pf(t){return Array.isArray(t)&&t.every(xn)}function gf(t,r){return r.some(function(s){if(typeof s=="boolean")return s;if(hf(s))return st(t,s);if(pf(s))return s.includes(t);if(cf(s))return mf(t,s);if(uf(s))return s.dayOfWeek.includes(t.getDay());if(lf(s)){var a=Dt(s.before,t),n=Dt(s.after,t),o=a>0,x=n<0,i=ws(s.before,s.after);return i?x&&o:o||x}return df(s)?Dt(t,s.after)>0:ff(s)?Dt(s.before,t)>0:typeof s=="function"?s(t):!1})}function ra(t,r,s){var a=Object.keys(r).reduce(function(o,x){var i=r[x];return gf(t,i)&&o.push(x),o},[]),n={};return a.forEach(function(o){return n[o]=!0}),s&&!Ls(t,s)&&(n.outside=!0),n}function yf(t,r){for(var s=ct(t[0]),a=$s(t[t.length-1]),n,o,x=s;x<=a;){var i=ra(x,r),h=!i.disabled&&!i.hidden;if(!h){x=at(x,1);continue}if(i.selected)return x;i.today&&!o&&(o=x),n||(n=x),x=at(x,1)}return o||n}var bf=365;function uo(t,r){var s=r.moveBy,a=r.direction,n=r.context,o=r.modifiers,x=r.retry,i=x===void 0?{count:0,lastFocused:t}:x,h=n.weekStartsOn,f=n.fromDate,m=n.toDate,l=n.locale,p={day:at,week:js,month:vt,year:Wi,startOfWeek:function(u){return n.ISOWeek?Os(u):Vs(u,{locale:l,weekStartsOn:h})},endOfWeek:function(u){return n.ISOWeek?nn(u):on(u,{locale:l,weekStartsOn:h})}},E=p[s](t,a==="after"?1:-1);a==="before"&&f?E=Ri([f,E]):a==="after"&&m&&(E=zi([m,E]));var c=!0;if(o){var g=ra(E,o);c=!g.disabled&&!g.hidden}return c?E:i.count>bf?i.lastFocused:uo(E,{moveBy:s,direction:a,context:n,modifiers:o,retry:fe(fe({},i),{count:i.count+1})})}var mo=d.createContext(void 0);function Ef(t){var r=Nr(),s=fo(),a=d.useState(),n=a[0],o=a[1],x=d.useState(),i=x[0],h=x[1],f=yf(r.displayMonths,s),m=n??(i&&r.isDateDisplayed(i))?i:f,l=function(){h(n),o(void 0)},p=function(u){o(u)},E=ke(),c=function(u,y){if(n){var F=uo(n,{moveBy:u,direction:y,context:E,modifiers:s});st(n,F)||(r.goToDate(F,n),p(F))}},g={focusedDay:n,focusTarget:m,blur:l,focus:p,focusDayAfter:function(){return c("day","after")},focusDayBefore:function(){return c("day","before")},focusWeekAfter:function(){return c("week","after")},focusWeekBefore:function(){return c("week","before")},focusMonthBefore:function(){return c("month","before")},focusMonthAfter:function(){return c("month","after")},focusYearBefore:function(){return c("year","before")},focusYearAfter:function(){return c("year","after")},focusStartOfWeek:function(){return c("startOfWeek","before")},focusEndOfWeek:function(){return c("endOfWeek","after")}};return e.jsx(mo.Provider,{value:g,children:t.children})}function sa(){var t=d.useContext(mo);if(!t)throw new Error("useFocusContext must be used within a FocusProvider");return t}function Cf(t,r){var s=fo(),a=ra(t,s,r);return a}var aa=d.createContext(void 0);function vf(t){if(!ls(t.initialProps)){var r={selected:void 0};return e.jsx(aa.Provider,{value:r,children:t.children})}return e.jsx(Bf,{initialProps:t.initialProps,children:t.children})}function Bf(t){var r=t.initialProps,s=t.children,a=function(o,x,i){var h,f,m;if((h=r.onDayClick)===null||h===void 0||h.call(r,o,x,i),x.selected&&!r.required){(f=r.onSelect)===null||f===void 0||f.call(r,void 0,o,x,i);return}(m=r.onSelect)===null||m===void 0||m.call(r,o,o,x,i)},n={selected:r.selected,onDayClick:a};return e.jsx(aa.Provider,{value:n,children:s})}function ho(){var t=d.useContext(aa);if(!t)throw new Error("useSelectSingle must be used within a SelectSingleProvider");return t}function Ff(t,r){var s=ke(),a=ho(),n=Js(),o=ta(),x=sa(),i=x.focusDayAfter,h=x.focusDayBefore,f=x.focusWeekAfter,m=x.focusWeekBefore,l=x.blur,p=x.focus,E=x.focusMonthBefore,c=x.focusMonthAfter,g=x.focusYearBefore,u=x.focusYearAfter,y=x.focusStartOfWeek,F=x.focusEndOfWeek,j=function(S){var A,z,$,_;ls(s)?(A=a.onDayClick)===null||A===void 0||A.call(a,t,r,S):Sr(s)?(z=n.onDayClick)===null||z===void 0||z.call(n,t,r,S):Mr(s)?($=o.onDayClick)===null||$===void 0||$.call(o,t,r,S):(_=s.onDayClick)===null||_===void 0||_.call(s,t,r,S)},w=function(S){var A;p(t),(A=s.onDayFocus)===null||A===void 0||A.call(s,t,r,S)},M=function(S){var A;l(),(A=s.onDayBlur)===null||A===void 0||A.call(s,t,r,S)},R=function(S){var A;(A=s.onDayMouseEnter)===null||A===void 0||A.call(s,t,r,S)},D=function(S){var A;(A=s.onDayMouseLeave)===null||A===void 0||A.call(s,t,r,S)},b=function(S){var A;(A=s.onDayPointerEnter)===null||A===void 0||A.call(s,t,r,S)},P=function(S){var A;(A=s.onDayPointerLeave)===null||A===void 0||A.call(s,t,r,S)},v=function(S){var A;(A=s.onDayTouchCancel)===null||A===void 0||A.call(s,t,r,S)},T=function(S){var A;(A=s.onDayTouchEnd)===null||A===void 0||A.call(s,t,r,S)},I=function(S){var A;(A=s.onDayTouchMove)===null||A===void 0||A.call(s,t,r,S)},B=function(S){var A;(A=s.onDayTouchStart)===null||A===void 0||A.call(s,t,r,S)},N=function(S){var A;(A=s.onDayKeyUp)===null||A===void 0||A.call(s,t,r,S)},C=function(S){var A;switch(S.key){case"ArrowLeft":S.preventDefault(),S.stopPropagation(),s.dir==="rtl"?i():h();break;case"ArrowRight":S.preventDefault(),S.stopPropagation(),s.dir==="rtl"?h():i();break;case"ArrowDown":S.preventDefault(),S.stopPropagation(),f();break;case"ArrowUp":S.preventDefault(),S.stopPropagation(),m();break;case"PageUp":S.preventDefault(),S.stopPropagation(),S.shiftKey?g():E();break;case"PageDown":S.preventDefault(),S.stopPropagation(),S.shiftKey?u():c();break;case"Home":S.preventDefault(),S.stopPropagation(),y();break;case"End":S.preventDefault(),S.stopPropagation(),F();break}(A=s.onDayKeyDown)===null||A===void 0||A.call(s,t,r,S)},L={onClick:j,onFocus:w,onBlur:M,onKeyDown:C,onKeyUp:N,onMouseEnter:R,onMouseLeave:D,onPointerEnter:b,onPointerLeave:P,onTouchCancel:v,onTouchEnd:T,onTouchMove:I,onTouchStart:B};return L}function Af(){var t=ke(),r=ho(),s=Js(),a=ta(),n=ls(t)?r.selected:Sr(t)?s.selected:Mr(t)?a.selected:void 0;return n}function wf(t){return Object.values(bt).includes(t)}function jf(t,r){var s=[t.classNames.day];return Object.keys(r).forEach(function(a){var n=t.modifiersClassNames[a];if(n)s.push(n);else if(wf(a)){var o=t.classNames["day_".concat(a)];o&&s.push(o)}}),s}function Df(t,r){var s=fe({},t.styles.day);return Object.keys(r).forEach(function(a){var n;s=fe(fe({},s),(n=t.modifiersStyles)===null||n===void 0?void 0:n[a])}),s}function kf(t,r,s){var a,n,o,x=ke(),i=sa(),h=Cf(t,r),f=Ff(t,h),m=Af(),l=!!(x.onDayClick||x.mode!=="default");d.useEffect(function(){var R;h.outside||i.focusedDay&&l&&st(i.focusedDay,t)&&((R=s.current)===null||R===void 0||R.focus())},[i.focusedDay,t,s,l,h.outside]);var p=jf(x,h).join(" "),E=Df(x,h),c=!!(h.outside&&!x.showOutsideDays||h.hidden),g=(o=(n=x.components)===null||n===void 0?void 0:n.DayContent)!==null&&o!==void 0?o:Gd,u=e.jsx(g,{date:t,displayMonth:r,activeModifiers:h}),y={style:E,className:p,children:u,role:"gridcell"},F=i.focusTarget&&st(i.focusTarget,t)&&!h.outside,j=i.focusedDay&&st(i.focusedDay,t),w=fe(fe(fe({},y),(a={disabled:h.disabled,role:"gridcell"},a["aria-selected"]=h.selected,a.tabIndex=j||F?0:-1,a)),f),M={isButton:l,isHidden:c,activeModifiers:h,selectedDays:m,buttonProps:w,divProps:y};return M}function Sf(t){var r=d.useRef(null),s=kf(t.date,t.displayMonth,r);return s.isHidden?e.jsx("div",{role:"gridcell"}):s.isButton?e.jsx(Qr,fe({name:"day",ref:r},s.buttonProps)):e.jsx("div",fe({},s.divProps))}function Mf(t){var r=t.number,s=t.dates,a=ke(),n=a.onWeekNumberClick,o=a.styles,x=a.classNames,i=a.locale,h=a.labels.labelWeekNumber,f=a.formatters.formatWeekNumber,m=f(Number(r),{locale:i});if(!n)return e.jsx("span",{className:x.weeknumber,style:o.weeknumber,children:m});var l=h(Number(r),{locale:i}),p=function(E){n(r,s,E)};return e.jsx(Qr,{name:"week-number","aria-label":l,className:x.weeknumber,style:o.weeknumber,onClick:p,children:m})}function Nf(t){var r,s,a=ke(),n=a.styles,o=a.classNames,x=a.showWeekNumber,i=a.components,h=(r=i==null?void 0:i.Day)!==null&&r!==void 0?r:Sf,f=(s=i==null?void 0:i.WeekNumber)!==null&&s!==void 0?s:Mf,m;return x&&(m=e.jsx("td",{className:o.cell,style:n.cell,children:e.jsx(f,{number:t.weekNumber,dates:t.dates})})),e.jsxs("tr",{className:o.row,style:n.row,children:[m,t.dates.map(function(l){return e.jsx("td",{className:o.cell,style:n.cell,role:"presentation",children:e.jsx(h,{displayMonth:t.displayMonth,date:l})},ki(l))})]})}function _a(t,r,s){for(var a=s!=null&&s.ISOWeek?nn(r):on(r,s),n=s!=null&&s.ISOWeek?Os(t):Vs(t,s),o=Dt(a,n),x=[],i=0;i<=o;i++)x.push(at(n,i));var h=x.reduce(function(f,m){var l=s!=null&&s.ISOWeek?Ti(m):Ii(m,s),p=f.find(function(E){return E.weekNumber===l});return p?(p.dates.push(m),f):(f.push({weekNumber:l,dates:[m]}),f)},[]);return h}function Pf(t,r){var s=_a(ct(t),$s(t),r);if(r!=null&&r.useFixedWeeks){var a=Si(t,r);if(a<6){var n=s[s.length-1],o=n.dates[n.dates.length-1],x=js(o,6-a),i=_a(js(o,1),x,r);s.push.apply(s,i)}}return s}function Rf(t){var r,s,a,n=ke(),o=n.locale,x=n.classNames,i=n.styles,h=n.hideHead,f=n.fixedWeeks,m=n.components,l=n.weekStartsOn,p=n.firstWeekContainsDate,E=n.ISOWeek,c=Pf(t.displayMonth,{useFixedWeeks:!!f,ISOWeek:E,locale:o,weekStartsOn:l,firstWeekContainsDate:p}),g=(r=m==null?void 0:m.Head)!==null&&r!==void 0?r:Yd,u=(s=m==null?void 0:m.Row)!==null&&s!==void 0?s:Nf,y=(a=m==null?void 0:m.Footer)!==null&&a!==void 0?a:Hd;return e.jsxs("table",{id:t.id,className:x.table,style:i.table,role:"grid","aria-labelledby":t["aria-labelledby"],children:[!h&&e.jsx(g,{}),e.jsx("tbody",{className:x.tbody,style:i.tbody,children:c.map(function(F){return e.jsx(u,{displayMonth:t.displayMonth,dates:F.dates,weekNumber:F.weekNumber},F.weekNumber)})}),e.jsx(y,{displayMonth:t.displayMonth})]})}function zf(){return!!(typeof window<"u"&&window.document&&window.document.createElement)}var Tf=zf()?d.useLayoutEffect:d.useEffect,Bs=!1,If=0;function $a(){return"react-day-picker-".concat(++If)}function Wf(t){var r,s=t??(Bs?$a():null),a=d.useState(s),n=a[0],o=a[1];return Tf(function(){n===null&&o($a())},[]),d.useEffect(function(){Bs===!1&&(Bs=!0)},[]),(r=t??n)!==null&&r!==void 0?r:void 0}function _f(t){var r,s,a=ke(),n=a.dir,o=a.classNames,x=a.styles,i=a.components,h=Nr().displayMonths,f=Wf(a.id?"".concat(a.id,"-").concat(t.displayIndex):void 0),m=a.id?"".concat(a.id,"-grid-").concat(t.displayIndex):void 0,l=[o.month],p=x.month,E=t.displayIndex===0,c=t.displayIndex===h.length-1,g=!E&&!c;n==="rtl"&&(r=[E,c],c=r[0],E=r[1]),E&&(l.push(o.caption_start),p=fe(fe({},p),x.caption_start)),c&&(l.push(o.caption_end),p=fe(fe({},p),x.caption_end)),g&&(l.push(o.caption_between),p=fe(fe({},p),x.caption_between));var u=(s=i==null?void 0:i.Caption)!==null&&s!==void 0?s:Ud;return e.jsxs("div",{className:l.join(" "),style:p,children:[e.jsx(u,{id:f,displayMonth:t.displayMonth,displayIndex:t.displayIndex}),e.jsx(Rf,{id:m,"aria-labelledby":f,displayMonth:t.displayMonth})]},t.displayIndex)}function $f(t){var r=ke(),s=r.classNames,a=r.styles;return e.jsx("div",{className:s.months,style:a.months,children:t.children})}function Lf(t){var r,s,a=t.initialProps,n=ke(),o=sa(),x=Nr(),i=d.useState(!1),h=i[0],f=i[1];d.useEffect(function(){n.initialFocus&&o.focusTarget&&(h||(o.focus(o.focusTarget),f(!0)))},[n.initialFocus,h,o.focus,o.focusTarget,o]);var m=[n.classNames.root,n.className];n.numberOfMonths>1&&m.push(n.classNames.multiple_months),n.showWeekNumber&&m.push(n.classNames.with_weeknumber);var l=fe(fe({},n.styles.root),n.style),p=Object.keys(a).filter(function(c){return c.startsWith("data-")}).reduce(function(c,g){var u;return fe(fe({},c),(u={},u[g]=a[g],u))},{}),E=(s=(r=a.components)===null||r===void 0?void 0:r.Months)!==null&&s!==void 0?s:$f;return e.jsx("div",fe({className:m.join(" "),style:l,dir:n.dir,id:n.id,nonce:a.nonce,title:a.title,lang:a.lang},p,{children:e.jsx(E,{children:x.displayMonths.map(function(c,g){return e.jsx(_f,{displayIndex:g,displayMonth:c},g)})})}))}function Of(t){var r=t.children,s=dd(t,["children"]);return e.jsx(Sd,{initialProps:s,children:e.jsx($d,{children:e.jsx(vf,{initialProps:s,children:e.jsx(Zd,{initialProps:s,children:e.jsx(Jd,{initialProps:s,children:e.jsx(xf,{children:e.jsx(Ef,{children:r})})})})})})})}function Vf(t){return e.jsx(Of,fe({},t,{children:e.jsx(Lf,{initialProps:t})}))}function Uf({className:t,classNames:r,showOutsideDays:s=!0,...a}){return e.jsx(Vf,{showOutsideDays:s,className:pe("p-3",t),classNames:{months:"flex flex-col sm:flex-row gap-2",month:"flex flex-col gap-4",caption:"flex justify-center pt-1 relative items-center w-full",caption_label:"text-sm font-medium",nav:"flex items-center gap-1",nav_button:pe(Is({variant:"outline"}),"size-7 bg-transparent p-0 opacity-50 hover:opacity-100"),nav_button_previous:"absolute left-1",nav_button_next:"absolute right-1",table:"w-full border-collapse space-x-1",head_row:"flex",head_cell:"text-muted-foreground rounded-md w-8 font-normal text-[0.8rem]",row:"flex w-full mt-2",cell:pe("relative p-0 text-center text-sm focus-within:relative focus-within:z-20 [&:has([aria-selected])]:bg-accent [&:has([aria-selected].day-range-end)]:rounded-r-md",a.mode==="range"?"[&:has(>.day-range-end)]:rounded-r-md [&:has(>.day-range-start)]:rounded-l-md first:[&:has([aria-selected])]:rounded-l-md last:[&:has([aria-selected])]:rounded-r-md":"[&:has([aria-selected])]:rounded-md"),day:pe(Is({variant:"ghost"}),"size-8 p-0 font-normal aria-selected:opacity-100"),day_range_start:"day-range-start aria-selected:bg-primary aria-selected:text-primary-foreground",day_range_end:"day-range-end aria-selected:bg-primary aria-selected:text-primary-foreground",day_selected:"bg-primary text-primary-foreground hover:bg-primary hover:text-primary-foreground focus:bg-primary focus:text-primary-foreground",day_today:"bg-accent text-accent-foreground",day_outside:"day-outside text-muted-foreground aria-selected:text-muted-foreground",day_disabled:"text-muted-foreground opacity-50",day_range_middle:"aria-selected:bg-accent aria-selected:text-accent-foreground",day_hidden:"invisible",...r},components:{IconLeft:({className:n,...o})=>e.jsx(ix,{className:pe("size-4",n),...o}),IconRight:({className:n,...o})=>e.jsx(as,{className:pe("size-4",n),...o})},...a})}var cs="Popover",[po,Ju]=Ar(cs,[en]),Pr=en(),[Hf,Ot]=po(cs),go=t=>{const{__scopePopover:r,children:s,open:a,defaultOpen:n,onOpenChange:o,modal:x=!1}=t,i=Pr(r),h=d.useRef(null),[f,m]=d.useState(!1),[l,p]=es({prop:a,defaultProp:n??!1,onChange:o,caller:cs});return e.jsx(vi,{...i,children:e.jsx(Hf,{scope:r,contentId:Ja(),triggerRef:h,open:l,onOpenChange:p,onOpenToggle:d.useCallback(()=>p(E=>!E),[p]),hasCustomAnchor:f,onCustomAnchorAdd:d.useCallback(()=>m(!0),[]),onCustomAnchorRemove:d.useCallback(()=>m(!1),[]),modal:x,children:s})})};go.displayName=cs;var yo="PopoverAnchor",qf=d.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=Ot(yo,s),o=Pr(s),{onCustomAnchorAdd:x,onCustomAnchorRemove:i}=n;return d.useEffect(()=>(x(),()=>i()),[x,i]),e.jsx(tn,{...o,...a,ref:r})});qf.displayName=yo;var bo="PopoverTrigger",Eo=d.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=Ot(bo,s),o=Pr(s),x=ir(r,n.triggerRef),i=e.jsx(et.button,{type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":Ao(n.open),...a,ref:x,onClick:yt(t.onClick,n.onOpenToggle)});return n.hasCustomAnchor?i:e.jsx(tn,{asChild:!0,...o,children:i})});Eo.displayName=bo;var na="PopoverPortal",[Xf,Yf]=po(na,{forceMount:void 0}),Co=t=>{const{__scopePopover:r,forceMount:s,children:a,container:n}=t,o=Ot(na,r);return e.jsx(Xf,{scope:r,forceMount:s,children:e.jsx(ts,{present:s||o.open,children:e.jsx(Bi,{asChild:!0,container:n,children:a})})})};Co.displayName=na;var or="PopoverContent",vo=d.forwardRef((t,r)=>{const s=Yf(or,t.__scopePopover),{forceMount:a=s.forceMount,...n}=t,o=Ot(or,t.__scopePopover);return e.jsx(ts,{present:a||o.open,children:o.modal?e.jsx(Zf,{...n,ref:r}):e.jsx(Qf,{...n,ref:r})})});vo.displayName=or;var Gf=Fi("PopoverContent.RemoveScroll"),Zf=d.forwardRef((t,r)=>{const s=Ot(or,t.__scopePopover),a=d.useRef(null),n=ir(r,a),o=d.useRef(!1);return d.useEffect(()=>{const x=a.current;if(x)return hi(x)},[]),e.jsx(pi,{as:Gf,allowPinchZoom:!0,children:e.jsx(Bo,{...t,ref:n,trapFocus:s.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:yt(t.onCloseAutoFocus,x=>{var i;x.preventDefault(),o.current||(i=s.triggerRef.current)==null||i.focus()}),onPointerDownOutside:yt(t.onPointerDownOutside,x=>{const i=x.detail.originalEvent,h=i.button===0&&i.ctrlKey===!0,f=i.button===2||h;o.current=f},{checkForDefaultPrevented:!1}),onFocusOutside:yt(t.onFocusOutside,x=>x.preventDefault(),{checkForDefaultPrevented:!1})})})}),Qf=d.forwardRef((t,r)=>{const s=Ot(or,t.__scopePopover),a=d.useRef(!1),n=d.useRef(!1);return e.jsx(Bo,{...t,ref:r,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var x,i;(x=t.onCloseAutoFocus)==null||x.call(t,o),o.defaultPrevented||(a.current||(i=s.triggerRef.current)==null||i.focus(),o.preventDefault()),a.current=!1,n.current=!1},onInteractOutside:o=>{var h,f;(h=t.onInteractOutside)==null||h.call(t,o),o.defaultPrevented||(a.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const x=o.target;((f=s.triggerRef.current)==null?void 0:f.contains(x))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}})}),Bo=d.forwardRef((t,r)=>{const{__scopePopover:s,trapFocus:a,onOpenAutoFocus:n,onCloseAutoFocus:o,disableOutsidePointerEvents:x,onEscapeKeyDown:i,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,...l}=t,p=Ot(or,s),E=Pr(s);return gi(),e.jsx(yi,{asChild:!0,loop:!0,trapped:a,onMountAutoFocus:n,onUnmountAutoFocus:o,children:e.jsx(bi,{asChild:!0,disableOutsidePointerEvents:x,onInteractOutside:m,onEscapeKeyDown:i,onPointerDownOutside:h,onFocusOutside:f,onDismiss:()=>p.onOpenChange(!1),children:e.jsx(Ei,{"data-state":Ao(p.open),role:"dialog",id:p.contentId,...E,...l,ref:r,style:{...l.style,"--radix-popover-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-popover-content-available-width":"var(--radix-popper-available-width)","--radix-popover-content-available-height":"var(--radix-popper-available-height)","--radix-popover-trigger-width":"var(--radix-popper-anchor-width)","--radix-popover-trigger-height":"var(--radix-popper-anchor-height)"}})})})}),Fo="PopoverClose",Kf=d.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=Ot(Fo,s);return e.jsx(et.button,{type:"button",...a,ref:r,onClick:yt(t.onClick,()=>n.onOpenChange(!1))})});Kf.displayName=Fo;var Jf="PopoverArrow",eu=d.forwardRef((t,r)=>{const{__scopePopover:s,...a}=t,n=Pr(s);return e.jsx(Ci,{...n,...a,ref:r})});eu.displayName=Jf;function Ao(t){return t?"open":"closed"}var tu=go,ru=Eo,su=Co,au=vo;function nu({...t}){return e.jsx(tu,{"data-slot":"popover",...t})}function ou({...t}){return e.jsx(ru,{"data-slot":"popover-trigger",...t})}function iu({className:t,align:r="center",sideOffset:s=4,...a}){return e.jsx(su,{children:e.jsx(au,{"data-slot":"popover-content",align:r,sideOffset:s,className:pe("bg-popover text-popover-foreground data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 z-50 w-72 origin-(--radix-popover-content-transform-origin) rounded-md border p-4 shadow-md outline-hidden",t),...a})})}function xu(){const t=Ne(),{user:r}=Ze(),[s,a]=d.useState([]),[n,o]=d.useState(!1),[x,i]=d.useState(""),[h,f]=d.useState("all"),[m,l]=d.useState({}),[p,E]=d.useState(!1),[c,g]=d.useState(!1),[u,y]=d.useState(null),[F,j]=d.useState(!0),[w]=d.useState(50),M=async(N,C=!1)=>{var L;if(r){o(!0);try{const A={Authorization:`Bearer ${Ee()}`,"Content-Type":"application/json"},z=new URLSearchParams({limit:w.toString()});N&&z.append("cursor",N);const $=await fetch(`${he.API.baseUrl}/api/v1/wallets/transactions?${z}`,{headers:A});if($.ok){const _=await $.json();if(_.success&&_.data){const ee=(Array.isArray(_.data)?_.data:_.data.transactions||[]).map(H=>{var re,K,Y,ae;const se=["deposit","received","refund"].includes(H.type),q=["sent","payment","withdrawal","fee"].includes(H.type);return{id:H.id,type:se?"money_in":"money_out",amount:se?Math.abs(H.amount):-Math.abs(H.amount),currency:"ZAR",recipient:(re=H.metadata)==null?void 0:re.counterpartyIdentifier,sender:(K=H.metadata)==null?void 0:K.counterpartyIdentifier,description:H.description,status:H.status,timestamp:new Date(H.createdAt||H.date).toISOString(),reference:H.id,fee:0,method:"MyMoolah Internal",senderWalletId:H.senderWalletId||((Y=H.metadata)==null?void 0:Y.senderWalletId),receiverWalletId:H.receiverWalletId||((ae=H.metadata)==null?void 0:ae.receiverWalletId),metadata:H.metadata||{}}});a(C?H=>[...H,...ee]:ee);const G=((L=_.data)==null?void 0:L.pagination)||{};j(G.hasMore||!1),y(G.nextCursor||null)}}}catch(S){console.error("Error fetching transactions:",S)}finally{o(!1)}}};d.useEffect(()=>{M(null,!1)},[r]);const R=d.useMemo(()=>s.filter(C=>{const L=x.trim()===""||C.description.toLowerCase().includes(x.toLowerCase())||C.reference&&String(C.reference).toLowerCase().includes(x.toLowerCase()),S=h==="all"||C.type===h;let A=!0;if(m.from||m.to){const z=new Date(C.timestamp),$=new Date(z.getFullYear(),z.getMonth(),z.getDate());if(m.from){const _=new Date(m.from.getFullYear(),m.from.getMonth(),m.from.getDate());$<_&&(A=!1)}if(m.to){const _=new Date(m.to.getFullYear(),m.to.getMonth(),m.to.getDate());$>_&&(A=!1)}}return L&&S&&A}).sort((C,L)=>new Date(L.timestamp).getTime()-new Date(C.timestamp).getTime()),[s,x,h,m]),D=N=>{let C=N.description||"";if(C.includes("| Ref:")){const L=C.split("|")[0].trim(),A=(C.split("| Ref:")[1]||"").trim(),z=A.length>20?A.substring(0,20)+"...":A;return`${L} | ${z}`}return N.type==="money_out"&&(C=C.replace(/^sent to\s+/i,"").replace(/^payment to\s+/i,"").trim()),C},b=async()=>{try{o(!0),await M(null,!1)}catch(N){console.error("Error loading transactions:",N)}finally{o(!1)}},P=N=>{if(!N&&N!==0)return"R 0.00";const C=N.toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2});return N<0?`R -${Math.abs(N).toLocaleString("en-ZA",{minimumFractionDigits:2,maximumFractionDigits:2})}`:`R ${C}`},v=N=>{const C=new Date(N),L=new Date,S=new Date(C.getFullYear(),C.getMonth(),C.getDate()),A=new Date(L.getFullYear(),L.getMonth(),L.getDate()),z=Math.floor((A.getTime()-S.getTime())/(1e3*60*60*24));return z===0?`Today, ${C.toLocaleTimeString("en-ZA",{hour:"2-digit",minute:"2-digit"})}`:z===1?`Yesterday, ${C.toLocaleTimeString("en-ZA",{hour:"2-digit",minute:"2-digit"})}`:C.toLocaleDateString("en-ZA",{month:"short",day:"numeric",hour:"2-digit",minute:"2-digit"})},T=()=>{i(""),f("all"),l({}),b()},I=async()=>{E(!0);try{const C=[["Date","Type","Description","Amount","Status","Reference","Method"].join(","),...R.map(z=>[new Date(z.timestamp).toLocaleDateString("en-ZA"),z.type==="money_in"?"Money In":"Money Out",`"${z.description}"`,(z.type==="money_in"?"":"-")+z.amount.toFixed(2),z.status,z.reference,`"${z.method||"N/A"}"`].join(","))].join(`
`),L=new Blob([C],{type:"text/csv;charset=utf-8;"}),S=document.createElement("a"),A=URL.createObjectURL(L);S.setAttribute("href",A),S.setAttribute("download",`MyMoolah_Statement_${new Date().toISOString().split("T")[0]}.csv`),S.style.visibility="hidden",document.body.appendChild(S),S.click(),document.body.removeChild(S),URL.revokeObjectURL(A)}catch(N){console.error("Export failed:",N)}finally{E(!1)}},B=x.trim()||h!=="all"||m.from||m.to;return e.jsxs("div",{style:{backgroundColor:"#ffffff",minHeight:"auto",fontFamily:"Montserrat, sans-serif"},children:[e.jsx("div",{style:{position:"sticky",top:0,backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:10},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"64px",padding:"0 16px"},children:[e.jsx("button",{onClick:()=>t("/dashboard"),style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background-color 0.2s ease",fontFamily:"Montserrat, sans-serif"},onMouseOver:N=>N.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:N=>N.currentTarget.style.backgroundColor="transparent","aria-label":"Back to Dashboard",children:e.jsx(Re,{style:{width:"24px",height:"24px",color:"#6b7280"}})}),e.jsx("div",{style:{flex:1,textAlign:"center"},children:e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:0},children:"Transaction History"})}),e.jsx("div",{style:{width:"44px"}})]})}),e.jsxs("div",{style:{padding:"var(--mobile-padding)"},children:[e.jsx("div",{className:"mb-6",children:e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",marginTop:"0.5rem",marginBottom:"1.5rem"},children:"View and manage your transaction history"})}),e.jsx(oe,{className:"mb-4",style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{style:{padding:"var(--mobile-padding)"},children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(ie,{placeholder:"Search transactions...",value:x,onChange:N=>i(N.target.value),className:"pl-10",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",borderRadius:"var(--mobile-border-radius)"}})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"space-y-1",children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",color:"#6b7280"},children:"Type"}),e.jsxs(nt,{value:h,onValueChange:N=>f(N),children:[e.jsx(it,{style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ot,{})}),e.jsxs(xt,{children:[e.jsx(Be,{value:"all",children:"All Types"}),e.jsx(Be,{value:"money_in",children:"Money In"}),e.jsx(Be,{value:"money_out",children:"Money Out"})]})]})]}),e.jsxs("div",{className:"space-y-1",children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",color:"#6b7280"},children:"Date Range"}),e.jsxs(nu,{open:c,onOpenChange:g,children:[e.jsx(ou,{asChild:!0,children:e.jsxs("div",{className:`w-full justify-start text-left cursor-pointer border rounded-md px-3 py-2 ${m.from||m.to?"border-blue-500 bg-blue-50":"border-gray-300"}`,style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",borderRadius:"var(--mobile-border-radius)",borderColor:m.from||m.to?"#3b82f6":void 0,backgroundColor:m.from||m.to?"#eff6ff":void 0},children:[e.jsx(Ms,{className:"mr-2 h-4 w-4 inline"}),m.from?m.to?`${m.from.toLocaleDateString()} - ${m.to.toLocaleDateString()}`:`From ${m.from.toLocaleDateString()}`:"Select dates"]})}),e.jsx(iu,{className:"w-auto p-0",align:"start",children:e.jsx(Uf,{mode:"range",selected:{from:m.from,to:m.to},onSelect:N=>{l({from:N==null?void 0:N.from,to:N==null?void 0:N.to}),N!=null&&N.from&&(N!=null&&N.to)&&g(!1)},numberOfMonths:1})})]})]})]}),e.jsxs("div",{className:"flex items-center justify-between pt-2",children:[e.jsxs("div",{className:"flex items-center gap-2",children:[B&&e.jsxs(O,{variant:"ghost",size:"sm",onClick:T,className:"text-gray-600 hover:text-gray-900",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:[e.jsx(je,{className:"w-3 h-3 mr-1"}),"Clear filters"]}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:B?"#3b82f6":"#6b7280",fontWeight:B?"var(--font-weight-medium)":"var(--font-weight-normal)"},children:[R.length," transaction",R.length!==1?"s":"",B&&s.length!==R.length&&e.jsxs("span",{style:{color:"#6b7280",fontWeight:"var(--font-weight-normal)"},children:[" ","of ",s.length]})]})]}),e.jsxs(O,{variant:"outline",size:"sm",onClick:I,disabled:p||R.length===0,className:"border-[#86BE41] text-[#86BE41] hover:bg-[#86BE41] hover:text-white",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:[e.jsx(cr,{className:"w-3 h-3 mr-1"}),p?"Exporting...":"Export"]})]})]})})}),e.jsx("div",{className:"space-y-3",children:n&&s.length===0?e.jsx(oe,{style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{style:{padding:"var(--mobile-padding)"},children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-green-500 mx-auto mb-3"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",color:"#6b7280"},children:"Loading transactions..."})]})})}):R.length===0?e.jsx(oe,{style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{style:{padding:"var(--mobile-padding)"},children:e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-12 h-12 mx-auto text-gray-300 mb-3 flex items-center justify-center",children:"ðŸ“„"}),e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#6b7280",marginBottom:"0.5rem"},children:"No transactions found"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#9ca3af"},children:B?"Try adjusting your filters":"Your transactions will appear here"})]})})}):R.map(N=>e.jsx(oe,{className:"hover:shadow-md transition-shadow cursor-pointer",style:{borderRadius:"var(--mobile-border-radius)"},onClick:()=>{},children:e.jsx(ce,{style:{padding:"var(--mobile-padding)"},children:e.jsx("div",{className:"flex items-center justify-between",children:e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center ${N.type==="money_in"?"bg-green-100":"bg-red-100"}`,children:_n({id:N.id,type:N.type==="money_in"?"receive":"send",amount:N.amount,description:N.description,senderWalletId:N.senderWalletId,receiverWalletId:N.receiverWalletId,metadata:N.metadata||{}},20)}),e.jsx("div",{className:"flex-1 min-w-0",children:e.jsxs("div",{className:"flex items-start justify-between",children:[e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",color:"#1f2937",marginBottom:"0.25rem"},children:D(N)}),e.jsx("div",{className:"flex items-center gap-2 mb-1",children:e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280"},children:v(N.timestamp)})})]}),e.jsxs("div",{className:"text-right ml-2",children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:N.type==="money_in"?"#16a34a":"#dc2626",marginBottom:"0.25rem"},children:P(N.amount)}),N.fee&&N.fee>0&&e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280"},children:["Fee: ",P(N.fee)]})]})]})})]})})})},N.id))}),F&&e.jsx("div",{className:"mt-6 text-center",children:e.jsx(O,{onClick:()=>M(u,!0),disabled:n,className:"w-full",style:{backgroundColor:"var(--primary-color)",color:"white",borderRadius:"var(--mobile-border-radius)",padding:"var(--mobile-padding)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)"},children:n?"Loading...":"Load More Transactions"})}),R.length>0&&e.jsx(oe,{className:"mt-6",style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{style:{padding:"var(--mobile-padding)"},children:e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-center",children:[e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280",marginBottom:"0.25rem"},children:"Money In"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:"#16a34a"},children:P(R.filter(N=>N.type==="money_in"&&N.status==="completed").reduce((N,C)=>N+C.amount,0))})]}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",color:"#6b7280",marginBottom:"0.25rem"},children:"Money Out"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:"#dc2626"},children:P(R.filter(N=>N.type==="money_out"&&N.status==="completed").reduce((N,C)=>N+C.amount,0))})]})]})})})]})]})}function lu(){Ze();const t=Ne(),[r,s]=d.useState([]),[a,n]=d.useState(null),[o,x]=d.useState(!0),[i,h]=d.useState(!1),[f,m]=d.useState(!0),[l,p]=d.useState({daily:5e3,monthly:25e3}),[E,c]=d.useState(!0),[g,u]=d.useState(""),[y,F]=d.useState(!1),[j,w]=d.useState(!1),[M,R]=d.useState(null),D=B=>{switch(B){case"send-money":return e.jsx(Gt,{className:"w-6 h-6"});case"request-money":return e.jsx(cr,{className:"w-6 h-6"});case"qr-scan":return e.jsx(ns,{className:"w-6 h-6"});case"wallet-withdraw":return e.jsx(jn,{className:"w-6 h-6"});case"airtime-data":return e.jsx(Ct,{className:"w-6 h-6"});case"electricity":return e.jsx(Bt,{className:"w-6 h-6"});case"bill-payments":return e.jsx(Dr,{className:"w-6 h-6"});case"insurance":return e.jsx(qs,{className:"w-6 h-6"});case"vouchers":return e.jsx(kn,{className:"w-6 h-6"});case"gaming":return e.jsx(St,{className:"w-6 h-6"});case"streaming":return e.jsx(ut,{className:"w-6 h-6"});case"flash-eezicash":return e.jsx(Fr,{className:"w-6 h-6"});case"mmcash-retail":return e.jsx(os,{className:"w-6 h-6"});case"atm-cashsend":return e.jsx(Hs,{className:"w-6 h-6"});default:return e.jsx(ka,{className:"w-6 h-6"})}},b=async()=>{try{c(!0),u("");const B=Ee();if(!B)throw new Error("No authentication token found");const N=await fetch(`${he.API.baseUrl}/api/v1/settings`,{method:"GET",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"}});if(!N.ok)throw new Error("Failed to load user settings");const C=await N.json();if(C.success){n(C.data.settings),x(C.data.settings.showBalance),h(C.data.settings.biometricEnabled),m(C.data.settings.notificationsEnabled),p({daily:C.data.settings.dailyTransactionLimit,monthly:C.data.settings.monthlyTransactionLimit});const L=C.data.availableServices.map(S=>({id:S.id,name:S.name,description:S.description,icon:D(S.id),enabled:S.enabled,available:S.available,comingSoon:S.comingSoon,category:S.category,color:S.enabled?"#ffffff":"#6b7280",bgColor:S.enabled?"#86BE41":"#f8fafc"}));s(L)}else throw new Error(C.message||"Failed to load settings")}catch(B){console.error("Error loading user settings:",B),u(B instanceof Error?B.message:"Failed to load settings")}finally{c(!1)}},P=async()=>{try{F(!0),u("");const B=Ee();if(!B)throw new Error("No authentication token found");const N=r.filter(S=>S.enabled).map(S=>S.id),C=await fetch(`${he.API.baseUrl}/api/v1/settings`,{method:"PUT",headers:{Authorization:`Bearer ${B}`,"Content-Type":"application/json"},body:JSON.stringify({quickAccessServices:N,showBalance:o,biometricEnabled:i,notificationsEnabled:f,dailyTransactionLimit:l.daily,monthlyTransactionLimit:l.monthly})});if(!C.ok)throw new Error("Failed to save user settings");const L=await C.json();if(L.success)L.data.settings&&n(L.data.settings),window.dispatchEvent(new CustomEvent("settingsUpdated"));else throw new Error(L.message||"Failed to save settings")}catch(B){console.error("Error saving user settings:",B),u(B instanceof Error?B.message:"Failed to save settings")}finally{F(!1)}},v=B=>{const N=r.filter(L=>L.enabled).length,C=r.find(L=>L.id===B);if(!(!(C!=null&&C.available)||C!=null&&C.comingSoon)&&!(C.enabled&&N<=1)){if(!C.enabled&&N>=2){const L=r.filter(S=>S.enabled).map(S=>S.name);R({serviceName:C.name,enabledServices:L}),w(!0);return}s(L=>L.map(S=>S.id===B?{...S,enabled:!S.enabled,bgColor:S.enabled?"#f8fafc":"#86BE41",color:S.enabled?"#6b7280":"#ffffff"}:S))}},T=B=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:0}).format(B),I=r.filter(B=>B.enabled).length;return d.useEffect(()=>{b()},[]),d.useEffect(()=>{if(a&&!E){const B=setTimeout(()=>{P()},1e3);return()=>clearTimeout(B)}},[r,o,i,f,l]),E?e.jsx("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:e.jsxs("div",{className:"text-center",children:[e.jsx(Qe,{className:"w-8 h-8 animate-spin mx-auto mb-4 text-[#86BE41]"}),e.jsx("p",{className:"text-gray-600",children:"Loading settings..."})]})}):e.jsxs("div",{style:{backgroundColor:"#ffffff",minHeight:"auto",fontFamily:"Montserrat, sans-serif"},children:[e.jsx("div",{style:{position:"sticky",top:0,backgroundColor:"#ffffff",borderBottom:"1px solid #e5e7eb",boxShadow:"0 2px 4px rgba(0, 0, 0, 0.1)",zIndex:10},children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",height:"64px",padding:"0 16px"},children:[e.jsx("button",{onClick:()=>t("/profile"),style:{width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer",transition:"background-color 0.2s ease",fontFamily:"Montserrat, sans-serif"},onMouseOver:B=>B.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:B=>B.currentTarget.style.backgroundColor="transparent","aria-label":"Go back",children:e.jsx(Re,{style:{width:"24px",height:"24px",color:"#6b7280"}})}),e.jsx("div",{style:{flex:1,textAlign:"center"},children:e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:0},children:"Wallet Settings"})}),e.jsx("div",{style:{width:"44px"}})]})}),e.jsxs("div",{style:{padding:"var(--mobile-padding)"},children:[e.jsx("div",{className:"mb-6",children:e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)",color:"#6b7280",marginTop:"0.5rem",marginBottom:"1.5rem"},children:"Customize your wallet experience and preferences"})}),g&&e.jsxs(Ke,{className:"border-red-200 bg-red-50 mb-4",children:[e.jsx(Ie,{className:"h-4 w-4 text-red-600"}),e.jsx(Je,{className:"text-red-700",children:g})]}),y&&e.jsxs(Ke,{className:"border-blue-200 bg-blue-50 mb-4",children:[e.jsx(Qe,{className:"h-4 w-4 animate-spin text-blue-600"}),e.jsx(Je,{className:"text-blue-700",children:"Saving settings..."})]}),e.jsxs(oe,{className:"mb-6",children:[e.jsxs(Ae,{children:[e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(ka,{className:"w-5 h-5 text-[#86BE41]"}),"Quick Access Services"]}),e.jsx("p",{className:"text-sm text-gray-600",children:"Choose 2 services to appear in your bottom navigation for quick access"})]}),e.jsxs(ce,{children:[e.jsx("div",{className:"grid grid-cols-2 gap-3",children:r.map(B=>e.jsxs("div",{className:`relative p-4 rounded-lg border cursor-pointer transition-all duration-200 ${B.enabled?"border-[#86BE41] bg-[#86BE41] text-white shadow-md":"border-gray-200 bg-white hover:border-gray-300"} ${B.available?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>v(B.id),style:{minHeight:"120px"},children:[e.jsx("div",{className:"mb-3",children:e.jsx("div",{className:"w-10 h-10 rounded-lg flex items-center justify-center mb-2",style:{backgroundColor:B.enabled?"rgba(255,255,255,0.2)":"#f3f4f6",color:B.enabled?"#ffffff":"#6b7280"},children:B.icon})}),e.jsxs("div",{children:[e.jsx("h3",{className:`font-semibold text-sm mb-1 ${B.enabled?"text-white":"text-gray-900"}`,children:B.name}),e.jsx("p",{className:`text-xs ${B.enabled?"text-white/80":"text-gray-600"}`,children:B.description})]}),e.jsxs("div",{className:"absolute top-2 right-2",children:[B.enabled&&e.jsx("div",{className:"w-5 h-5 bg-white/20 rounded-full flex items-center justify-center",children:e.jsx(Me,{className:"w-3 h-3 text-white"})}),B.comingSoon&&e.jsx(De,{variant:"secondary",className:"text-xs",children:"Coming Soon"})]})]},B.id))}),e.jsxs("div",{className:"mt-4 text-sm text-gray-500 text-center",children:[I,"/2 services selected"]})]})]}),e.jsxs(oe,{className:"mb-6",children:[e.jsx(Ae,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(kt,{className:"w-5 h-5 text-[#86BE41]"}),"Wallet Display"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"show-balance",children:"Show Balance"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Display your wallet balance on the dashboard"})]}),e.jsx(Er,{id:"show-balance",checked:o,onCheckedChange:x})]})})})]}),e.jsxs(oe,{className:"mb-6",children:[e.jsx(Ae,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(Et,{className:"w-5 h-5 text-[#86BE41]"}),"Security"]})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"biometric",children:"Biometric Authentication"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Use fingerprint or face ID for login"})]}),e.jsx(Er,{id:"biometric",checked:i,onCheckedChange:h})]})})})]}),e.jsxs(oe,{className:"mb-6",children:[e.jsx(Ae,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(ss,{className:"w-5 h-5 text-[#86BE41]"}),"Basic Notifications"]})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"notifications",children:"Push Notifications"}),e.jsx("p",{className:"text-sm text-gray-600",children:"Enable basic transaction and security notifications"})]}),e.jsx(Er,{id:"notifications",checked:f,onCheckedChange:m})]}),e.jsx("p",{className:"text-xs text-gray-500",children:"For detailed notification preferences, go to Profile â†’ Notification Settings"})]})})]}),e.jsxs(oe,{className:"mb-6",children:[e.jsx(Ae,{children:e.jsxs(we,{className:"flex items-center gap-2",children:[e.jsx(Fr,{className:"w-5 h-5 text-[#86BE41]"}),"Transaction Limits"]})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"daily-limit",children:"Daily Limit"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Maximum amount you can transact per day: ",T(l.daily)]}),e.jsx("input",{id:"daily-limit",type:"range",min:"1000",max:"10000",step:"500",value:l.daily,onChange:B=>p(N=>({...N,daily:parseInt(B.target.value)})),className:"w-full"})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"monthly-limit",children:"Monthly Limit"}),e.jsxs("p",{className:"text-sm text-gray-600 mb-2",children:["Maximum amount you can transact per month: ",T(l.monthly)]}),e.jsx("input",{id:"monthly-limit",type:"range",min:"5000",max:"50000",step:"1000",value:l.monthly,onChange:B=>p(N=>({...N,monthly:parseInt(B.target.value)})),className:"w-full"})]})]})})]}),e.jsxs(O,{onClick:()=>t("/profile"),variant:"outline",className:"w-full",children:[e.jsx(q0,{className:"w-4 h-4 mr-2"}),"Back to Profile"]}),j&&M&&e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"20px"},children:e.jsxs("div",{style:{backgroundColor:"#ffffff",borderRadius:"16px",padding:"24px",maxWidth:"400px",width:"100%",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[e.jsx("div",{style:{width:"40px",height:"40px",borderRadius:"50%",backgroundColor:"#fef3c7",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Xt,{className:"w-5 h-5 text-yellow-600"})}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937",margin:0},children:"Service Limit Reached"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:0},children:"You can only select 2 services"})]})]}),e.jsxs("div",{className:"mb-6",children:[e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",color:"#374151",marginBottom:"16px",lineHeight:"1.5"},children:["To select ",e.jsxs("strong",{children:['"',M.serviceName,'"']}),", you need to deselect one of your current services first."]}),e.jsxs("div",{style:{backgroundColor:"#f9fafb",borderRadius:"8px",padding:"12px",border:"1px solid #e5e7eb"},children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#374151",margin:"0 0 8px 0"},children:"Currently selected:"}),e.jsx("ul",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",margin:0,paddingLeft:"16px"},children:M.enabledServices.map((B,N)=>e.jsxs("li",{style:{marginBottom:"4px"},children:["â€¢ ",B]},N))})]})]}),e.jsx(O,{onClick:()=>w(!1),className:"w-full",style:{backgroundColor:"#86BE41",borderColor:"#86BE41"},children:"Got it"})]})})]})]})}const Fs=t=>{const r=(t||"").replace(/\s/g,"");return r.startsWith("+27")?r.slice(1):r.startsWith("0")?"27"+r.slice(1):r},cu=t=>{const r=t.getFullYear(),s=String(t.getMonth()+1).padStart(2,"0"),a=String(t.getDate()).padStart(2,"0");return`${r}-${s}-${a}`},du=t=>{const r=String(t.getHours()).padStart(2,"0"),s=String(t.getMinutes()).padStart(2,"0");return`${r}:${s}`},fu=t=>({"ABSA Bank":"632005","African Bank":"430000","Bidvest Bank":"462005","Capitec Bank":"470010","Discovery Bank":"679000","First National Bank (FNB)":"250655","Investec Bank":"580105",Nedbank:"198765","Standard Bank":"051001",TymeBank:"678910"})[t]||"";function uu(){const t=Ne(),{user:r}=Ze(),{refreshBalanceAfterAction:s}=Fn(),[a,n]=d.useState("form"),[o,x]=d.useState("once"),[i,h]=d.useState(!1),[f,m]=d.useState(!1),[l,p]=d.useState(null),E=["ABSA Bank","African Bank","Bidvest Bank","Capitec Bank","Discovery Bank","First National Bank (FNB)","Investec Bank","Nedbank","Standard Bank","TymeBank"],[c,g]=d.useState({accountType:"mymoolah",payerName:"",payerMobileNumber:"",payerAccountNumber:"",payerBankName:"",amount:"",reference:"",frequency:"monthly",startDate:cu(new Date),startTime:du(new Date),endOption:"never",occurrences:"",untilDate:"",dayOfWeek:"1",dayOfMonth:"1"}),[u,y]=d.useState({}),F=(v,T)=>{g(I=>({...I,[v]:T})),u[v]&&y(I=>({...I,[v]:void 0}))},j=v=>{g(T=>({...T,accountType:v,payerAccountNumber:v==="mymoolah"?"":T.payerAccountNumber,payerBankName:v==="mymoolah"?"":T.payerBankName}))},w=()=>{var T,I;const v={};if(c.payerName.trim()||(v.payerName="Payer name is required"),c.payerMobileNumber.trim()?/^(\+27|27|0)[6-8][0-9]{8}$/.test(c.payerMobileNumber.replace(/\s/g,""))||(v.payerMobileNumber="Please enter a valid South African mobile number"):v.payerMobileNumber="Payer mobile number is required",c.accountType==="bank"&&((T=c.payerAccountNumber)!=null&&T.trim()?/^[0-9]{8,12}$/.test(c.payerAccountNumber)||(v.payerAccountNumber="Account number must be 8-12 digits"):v.payerAccountNumber="Payer account number is required",(I=c.payerBankName)!=null&&I.trim()||(v.payerBankName="Payer bank name is required")),!c.amount.trim())v.amount="Amount is required";else{const B=parseFloat(c.amount);isNaN(B)||B<=0?v.amount="Please enter a valid amount":B<5?v.amount="Minimum request amount is R5.00":B>5e4&&(v.amount="Maximum request amount is R50,000.00")}if(o==="recurring"){if(c.startDate||(v.startDate="Start date is required"),c.startTime||(v.startTime="Start time is required"),c.frequency==="weekly"&&!c.dayOfWeek&&(v.dayOfWeek="Select a weekday"),c.frequency==="monthly"&&!c.dayOfMonth&&(v.dayOfMonth="Select a day of month"),c.endOption==="count"){const B=parseInt(c.occurrences||"0",10);(!B||B<1||B>60)&&(v.occurrences="Enter 1â€“60 occurrences")}c.endOption==="until"&&!c.untilDate&&(v.untilDate="Select an end date")}return y(v),Object.keys(v).length===0},M=()=>{f?m(!1):t("/transact")},R=()=>`REQ${Date.now().toString().slice(-8).toUpperCase()}`,D=async()=>{var v,T,I;if(w()){if(c.accountType==="bank"&&!(r!=null&&r.kycVerified)){t("/kyc/documents?returnTo=/request-money");return}if(!r){console.error("User not authenticated");return}h(!0),n("confirmation");try{const B=parseFloat(c.amount),N=R(),C=new Date(Date.now()+24*60*60*1e3),L={id:N,type:"money_request",accountType:c.accountType,requesterId:r.id,requesterName:r.name,payerName:c.payerName,payerMobileNumber:c.payerMobileNumber,payerAccountNumber:c.payerAccountNumber,payerBankName:c.payerBankName,amount:B,reference:c.reference||`Payment request from ${r.name}`,status:"pending",createdAt:new Date().toISOString(),expiresAt:C.toISOString()};if(c.accountType==="mymoolah"){const S=Ee(),A=he.API.baseUrl,z=await fetch(`${A}/api/v1/requests/wallet`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({payerPhoneNumber:Fs(c.payerMobileNumber),amount:B,description:c.reference||`Payment request from ${r.name}`})}),$=await z.json();if(!z.ok||!($!=null&&$.success)||!((v=$==null?void 0:$.data)!=null&&v.requestId))throw new Error(($==null?void 0:$.message)||"Failed to create payment request");L.id=String($.data.requestId)}else{const S=Ee(),A=he.API.baseUrl,z=await fetch(`${A}/api/v1/peach/payshap/rtp`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${S}`},body:JSON.stringify({amount:B,currency:"ZAR",creditorPhone:Fs(c.payerMobileNumber),creditorAccountNumber:c.payerAccountNumber,bankCode:fu(c.payerBankName||""),bankName:c.payerBankName,description:c.reference||`PayShap RTP request from ${r.name}`})}),$=await z.json();if(!z.ok||!($!=null&&$.success)){const _=($==null?void 0:$.message)||(typeof($==null?void 0:$.details)=="string"?$==null?void 0:$.details:JSON.stringify($==null?void 0:$.details))||($==null?void 0:$.error)||"Failed to submit Peach Payments RTP request";throw console.error("Peach Payments API error:",_),new Error(_)}L.id=String(((T=$.data)==null?void 0:T.merchantTransactionId)||N),(I=$.data)!=null&&I.redirectUrl&&window.open($.data.redirectUrl,"_blank")}p(L),n("success");try{await s("payment_request_created")}catch(S){console.error("Balance refresh failed after request creation:",S)}}catch(B){console.error("Request money failed:",B);try{alert("Unable to send payment request. Please verify the payer number and try again.")}catch{}n("form"),m(!1)}finally{h(!1)}}},b=v=>{const T=typeof v=="string"?parseFloat(v):v;return isNaN(T)?"R0.00":`R${T.toFixed(2)}`},P=()=>o==="recurring"?c.accountType==="mymoolah"?`Recurring payment requests will be sent to ${c.payerName} according to your schedule.`:`Recurring payment requests will be submitted to ${c.payerBankName} according to your schedule.`:c.accountType==="mymoolah"?`${c.payerName} will receive a notification to approve your payment request.`:`A payment request will be submitted to ${c.payerBankName} for processing.`;return a==="success"?e.jsxs("div",{style:{fontFamily:"Montserrat, sans-serif",backgroundColor:"#ffffff",padding:"16px",minHeight:"calc(100vh - 160px)",display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",textAlign:"center"},children:[e.jsx("div",{style:{width:"80px",height:"80px",borderRadius:"50%",backgroundColor:"#f0fdf4",display:"flex",alignItems:"center",justifyContent:"center",marginBottom:"24px"},children:e.jsx(Me,{style:{width:"40px",height:"40px",color:"#16a34a"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"24px",fontWeight:"700",color:"#1f2937",marginBottom:"8px"},children:o==="recurring"?"Recurring Request Created!":"Request Sent!"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",color:"#6b7280",marginBottom:"24px",lineHeight:"1.5"},children:o==="recurring"?`Your recurring payment request for ${b(c.amount)} has been scheduled for ${c.payerName}.`:`Your payment request for ${b(c.amount)} has been sent to ${c.payerName}.`}),l&&e.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"12px",padding:"16px",width:"100%",marginBottom:"24px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:o==="recurring"?"Schedule ID":"Request ID"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:l.id})]}),o==="recurring"&&e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Frequency"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:c.frequency?c.frequency.charAt(0).toUpperCase()+c.frequency.slice(1):"Unknown"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:o==="recurring"?"Next Request":"Expires"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:o==="recurring"?`${c.startDate} at ${c.startTime}`:`${new Date(l.expiresAt).toLocaleDateString()} at ${new Date(l.expiresAt).toLocaleTimeString([],{hour:"2-digit",minute:"2-digit"})}`})]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#374151",margin:"12px 0 0 0",lineHeight:"1.5"},children:P()})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"12px",width:"100%"},children:[e.jsx(O,{onClick:()=>t("/dashboard"),style:{background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"white",border:"none",borderRadius:"12px",padding:"16px",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"500",cursor:"pointer",minHeight:"44px"},children:"Back to Dashboard"}),e.jsx(O,{variant:"outline",onClick:()=>t("/transaction-history"),style:{backgroundColor:"transparent",color:"#6b7280",border:"1px solid #d1d5db",borderRadius:"12px",padding:"16px",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"500",cursor:"pointer",minHeight:"44px"},children:"View Request History"})]})]}):e.jsxs("div",{style:{fontFamily:"Montserrat, sans-serif",backgroundColor:"#ffffff",padding:"16px",minHeight:"calc(100vh - 160px)"},children:[e.jsxs("div",{style:{display:"flex",alignItems:"center",marginBottom:"24px"},children:[e.jsx("button",{onClick:()=>t("/transact"),style:{display:"flex",alignItems:"center",justifyContent:"center",width:"44px",height:"44px",borderRadius:"50%",backgroundColor:"transparent",border:"none",cursor:"pointer",marginRight:"12px"},children:e.jsx(Re,{style:{width:"20px",height:"20px",color:"#6b7280"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:"0",flex:1},children:"Request Money"})]}),a==="form"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{style:{marginBottom:"16px"},children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px",display:"block"},children:"Request Mode"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsx("button",{onClick:()=>x("once"),style:{padding:"12px",borderRadius:"12px",border:`2px solid ${o==="once"?"#86BE41":"#e5e7eb"}`,backgroundColor:o==="once"?"#f0fdf4":"#ffffff",cursor:"pointer"},children:"Once off"}),e.jsx("button",{onClick:()=>x("recurring"),style:{padding:"12px",borderRadius:"12px",border:`2px solid ${o==="recurring"?"#86BE41":"#e5e7eb"}`,backgroundColor:o==="recurring"?"#f0fdf4":"#ffffff",cursor:"pointer"},children:"Recurring"})]})]}),e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px",display:"block"},children:"Request From Account Type"}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("button",{onClick:()=>j("mymoolah"),style:{padding:"16px",borderRadius:"12px",border:`2px solid ${c.accountType==="mymoolah"?"#86BE41":"#e5e7eb"}`,backgroundColor:c.accountType==="mymoolah"?"#f0fdf4":"#ffffff",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",minHeight:"44px"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",backgroundColor:"#86BE41",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(ut,{style:{width:"16px",height:"16px",color:"white"}})}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:c.accountType==="mymoolah"?"#16a34a":"#374151"},children:"MyMoolah"})]}),e.jsxs("button",{onClick:()=>j("bank"),style:{padding:"16px",borderRadius:"12px",border:`2px solid ${c.accountType==="bank"?"#86BE41":"#e5e7eb"}`,backgroundColor:c.accountType==="bank"?"#f0fdf4":"#ffffff",cursor:"pointer",display:"flex",flexDirection:"column",alignItems:"center",gap:"8px",minHeight:"44px",position:"relative"},children:[e.jsx("div",{style:{width:"32px",height:"32px",borderRadius:"8px",backgroundColor:"#2D8CCA",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(gr,{style:{width:"16px",height:"16px",color:"white"}})}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:c.accountType==="bank"?"#16a34a":"#374151"},children:"Bank"}),!(r!=null&&r.kycVerified)&&e.jsx("div",{style:{position:"absolute",top:"4px",right:"4px",backgroundColor:"#f59e0b",color:"white",fontSize:"8px",fontFamily:"Montserrat, sans-serif",fontWeight:"500",padding:"2px 4px",borderRadius:"4px"},children:"KYC"})]})]}),c.accountType==="bank"&&!(r!=null&&r.kycVerified)&&e.jsxs(Ke,{style:{borderColor:"#fed7aa",backgroundColor:"#fff7ed",marginTop:"12px",borderRadius:"8px",padding:"12px"},children:[e.jsx(Xt,{style:{width:"16px",height:"16px",color:"#ea580c"}}),e.jsx(Je,{children:e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#ea580c"},children:"Bank requests require identity verification. Complete KYC to enable bank requests."})})]})]}),e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"20px"},children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"payerName",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Request From (Payer Name)"}),e.jsx(ie,{id:"payerName",type:"text",placeholder:"Enter payer's full name",value:c.payerName,onChange:v=>F("payerName",v.target.value),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",border:`1px solid ${u.payerName?"#dc2626":"#d1d5db"}`,backgroundColor:"#f9fafb"}}),u.payerName&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626",margin:"4px 0 0 0"},children:u.payerName})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"payerMobileNumber",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Payer Mobile Number"}),e.jsx(ie,{id:"payerMobileNumber",type:"tel",placeholder:"27XXXXXXXXX",value:c.payerMobileNumber,onChange:v=>F("payerMobileNumber",v.target.value),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",border:`1px solid ${u.payerMobileNumber?"#dc2626":"#d1d5db"}`,backgroundColor:"#f9fafb"}}),u.payerMobileNumber&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626",margin:"4px 0 0 0"},children:u.payerMobileNumber})]}),c.accountType==="bank"&&e.jsxs(e.Fragment,{children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"payerBankName",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Payer Bank Name"}),e.jsxs(nt,{value:c.payerBankName||"",onValueChange:v=>F("payerBankName",v),children:[e.jsx(it,{style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",border:`1px solid ${u.payerBankName?"#dc2626":"#d1d5db"}`,backgroundColor:"#f9fafb"},children:e.jsx(ot,{placeholder:"Select payer's bank"})}),e.jsx(xt,{children:E.map(v=>e.jsx(Be,{value:v,style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px"},children:v},v))})]}),u.payerBankName&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626",margin:"4px 0 0 0"},children:u.payerBankName})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"payerAccountNumber",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Payer Account Number"}),e.jsx(ie,{id:"payerAccountNumber",type:"text",placeholder:"Payer's bank account number",value:c.payerAccountNumber||"",onChange:v=>F("payerAccountNumber",v.target.value),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",border:`1px solid ${u.payerAccountNumber?"#dc2626":"#d1d5db"}`,backgroundColor:"#f9fafb"}}),u.payerAccountNumber&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626",margin:"4px 0 0 0"},children:u.payerAccountNumber})]})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"amount",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Amount to Request (ZAR)"}),e.jsx(ie,{id:"amount",type:"number",placeholder:"0.00",value:c.amount,onChange:v=>F("amount",v.target.value),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",border:`1px solid ${u.amount?"#dc2626":"#d1d5db"}`,backgroundColor:"#f9fafb"}}),u.amount&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626",margin:"4px 0 0 0"},children:u.amount})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"reference",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Payment Reference (Optional, max 20 chars)"}),e.jsx(ie,{id:"reference",type:"text",placeholder:"e.g. Rent Aug, Lunch money",maxLength:20,value:c.reference,onChange:v=>F("reference",v.target.value),style:{height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",border:"1px solid #d1d5db",backgroundColor:"#f9fafb"}})]}),o==="recurring"&&e.jsxs("div",{style:{display:"flex",flexDirection:"column",gap:"16px",marginTop:"8px"},children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"6px",display:"block"},children:"Frequency"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px"},children:["daily","weekly","monthly"].map(v=>e.jsx("button",{onClick:()=>F("frequency",v),style:{padding:"10px",borderRadius:8,border:`1px solid ${c.frequency===v?"#86BE41":"#e5e7eb"}`,background:c.frequency===v?"#f0fdf4":"#fff",cursor:"pointer"},children:v[0].toUpperCase()+v.slice(1)},v))})]}),e.jsxs("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr",gap:"12px"},children:[e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:14,fontWeight:500,color:"#374151",marginBottom:6,display:"block"},children:"Start date"}),e.jsx(ie,{type:"date",value:c.startDate,onChange:v=>F("startDate",v.target.value),style:{height:"44px",borderRadius:12,backgroundColor:"#f9fafb",border:`1px solid ${u.startDate?"#dc2626":"#d1d5db"}`}}),u.startDate&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:12,color:"#dc2626",marginTop:4},children:u.startDate})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:14,fontWeight:500,color:"#374151",marginBottom:6,display:"block"},children:"Start time"}),e.jsx(ie,{type:"time",value:c.startTime,onChange:v=>F("startTime",v.target.value),style:{height:"44px",borderRadius:12,backgroundColor:"#f9fafb",border:`1px solid ${u.startTime?"#dc2626":"#d1d5db"}`}}),u.startTime&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:12,color:"#dc2626",marginTop:4},children:u.startTime})]})]}),c.frequency==="weekly"&&e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:14,fontWeight:500,color:"#374151",marginBottom:6,display:"block"},children:"Day of week"}),e.jsxs(nt,{value:c.dayOfWeek,onValueChange:v=>F("dayOfWeek",v),children:[e.jsx(it,{style:{height:"44px",borderRadius:12,backgroundColor:"#f9fafb",border:`1px solid ${u.dayOfWeek?"#dc2626":"#d1d5db"}`},children:e.jsx(ot,{placeholder:"Select weekday"})}),e.jsx(xt,{children:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"].map((v,T)=>e.jsx(Be,{value:String(T),style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px"},children:v},v))})]}),u.dayOfWeek&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:12,color:"#dc2626",marginTop:4},children:u.dayOfWeek})]}),c.frequency==="monthly"&&e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:14,fontWeight:500,color:"#374151",marginBottom:6,display:"block"},children:"Day of month"}),e.jsx(ie,{type:"number",min:1,max:31,value:c.dayOfMonth,onChange:v=>F("dayOfMonth",v.target.value),style:{height:"44px",borderRadius:12,backgroundColor:"#f9fafb",border:`1px solid ${u.dayOfMonth?"#dc2626":"#d1d5db"}`}}),u.dayOfMonth&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:12,color:"#dc2626",marginTop:4},children:u.dayOfMonth})]}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:14,fontWeight:500,color:"#374151",marginBottom:6,display:"block"},children:"Ends"}),e.jsx("div",{style:{display:"grid",gridTemplateColumns:"1fr 1fr 1fr",gap:"8px"},children:["never","count","until"].map(v=>e.jsx("button",{onClick:()=>F("endOption",v),style:{padding:"10px",borderRadius:8,border:`1px solid ${c.endOption===v?"#86BE41":"#e5e7eb"}`,background:c.endOption===v?"#f0fdf4":"#fff",cursor:"pointer"},children:v[0].toUpperCase()+v.slice(1)},v))})]}),c.endOption==="count"&&e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:14,fontWeight:500,color:"#374151",marginBottom:6,display:"block"},children:"Occurrences"}),e.jsx(ie,{type:"number",min:1,max:60,value:c.occurrences,onChange:v=>F("occurrences",v.target.value),style:{height:"44px",borderRadius:12,backgroundColor:"#f9fafb",border:`1px solid ${u.occurrences?"#dc2626":"#d1d5db"}`}}),u.occurrences&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:12,color:"#dc2626",marginTop:4},children:u.occurrences})]}),c.endOption==="until"&&e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:14,fontWeight:500,color:"#374151",marginBottom:6,display:"block"},children:"Until date"}),e.jsx(ie,{type:"date",value:c.untilDate,onChange:v=>F("untilDate",v.target.value),style:{height:"44px",borderRadius:12,backgroundColor:"#f9fafb",border:`1px solid ${u.untilDate?"#dc2626":"#d1d5db"}`}}),u.untilDate&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:12,color:"#dc2626",marginTop:4},children:u.untilDate})]})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",marginTop:"32px",paddingTop:"24px",borderTop:"1px solid #f1f5f9"},children:[e.jsx(O,{variant:"outline",onClick:M,style:{flex:1,backgroundColor:"transparent",color:"#6b7280",border:"1px solid #d1d5db",borderRadius:"12px",padding:"16px",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"500",cursor:"pointer",minHeight:"44px"},children:"Cancel"}),e.jsxs(Le,{open:f,onOpenChange:m,children:[e.jsx(O,{onClick:()=>m(!0),style:{flex:1,background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"white",border:"none",borderRadius:"12px",padding:"16px",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"500",cursor:"pointer",minHeight:"44px"},children:"Send Request"}),e.jsxs(_e,{"aria-describedby":void 0,style:{fontFamily:"Montserrat, sans-serif",maxWidth:"340px",borderRadius:"16px"},children:[e.jsx(Ve,{children:e.jsxs("div",{style:{display:"flex",alignItems:"center",justifyContent:"space-between",marginBottom:"16px"},children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"600",color:"#1f2937"},children:"Send Payment Request"}),e.jsx("button",{onClick:()=>m(!1),style:{width:"32px",height:"32px",borderRadius:"50%",backgroundColor:"transparent",border:"none",display:"flex",alignItems:"center",justifyContent:"center",cursor:"pointer"},children:e.jsx(je,{style:{width:"16px",height:"16px",color:"#6b7280"}})})]})}),e.jsxs("div",{style:{marginBottom:"24px"},children:[e.jsxs("div",{style:{backgroundColor:"#f8fafc",borderRadius:"12px",padding:"16px",marginBottom:"20px"},children:[e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Request from"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:c.payerName})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between",marginBottom:"8px"},children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Account type"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:c.accountType==="mymoolah"?"MyMoolah":"Bank"})]}),e.jsxs("div",{style:{display:"flex",justifyContent:"space-between"},children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Amount"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:b(c.amount)})]})]}),e.jsxs("div",{style:{display:"flex",gap:"12px",padding:"12px",backgroundColor:"#eff6ff",borderRadius:"8px",marginBottom:"20px"},children:[e.jsx(ss,{style:{width:"16px",height:"16px",color:"#2D8CCA",marginTop:"2px",flexShrink:0}}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#1e40af",margin:"0",lineHeight:"1.4"},children:P()})]}),e.jsxs("div",{style:{display:"flex",gap:"12px"},children:[e.jsx(O,{variant:"outline",onClick:()=>m(!1),style:{flex:1,backgroundColor:"transparent",color:"#6b7280",border:"1px solid #d1d5db",borderRadius:"8px",padding:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",cursor:"pointer",minHeight:"44px"},children:"Cancel"}),e.jsx(O,{onClick:()=>{if(o==="recurring"){(async()=>{var v;try{h(!0);const T=Ee(),I=he.API.baseUrl,B=parseFloat(c.amount),N=await fetch(`${I}/api/v1/requests/wallet/recurring`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${T}`},body:JSON.stringify({payerPhoneNumber:Fs(c.payerMobileNumber),amount:B,description:c.reference||void 0,frequency:c.frequency,dayOfWeek:c.frequency==="weekly"?Number(c.dayOfWeek):void 0,dayOfMonth:c.frequency==="monthly"?Number(c.dayOfMonth):void 0,startDate:c.startDate,startTime:c.startTime,endOption:c.endOption,occurrences:c.endOption==="count"?Number(c.occurrences):void 0,untilDate:c.endOption==="until"?c.untilDate:void 0})}),C=await N.json();if(!N.ok||!(C!=null&&C.success))throw new Error((C==null?void 0:C.message)||"Failed to create schedule");const L={id:C.data.recurringId,type:"money_request",accountType:c.accountType,requesterId:((v=r==null?void 0:r.id)==null?void 0:v.toString())||"1",requesterName:(r==null?void 0:r.name)||"User",payerName:c.payerName,payerMobileNumber:c.payerMobileNumber,payerAccountNumber:c.payerAccountNumber,payerBankName:c.payerBankName,amount:parseFloat(c.amount),reference:c.reference||"",status:"pending",createdAt:new Date().toISOString(),expiresAt:new Date(Date.now()+24*60*60*1e3).toISOString()};p(L),n("success"),m(!1);try{await s("payment_request_created")}catch(S){console.error("Balance refresh failed after recurring request creation:",S)}}catch(T){console.error("Recurring request failed:",T),alert("Failed to create recurring schedule. Please try again."),m(!1)}finally{h(!1)}})();return}D()},disabled:i,style:{flex:1,background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"white",border:"none",borderRadius:"8px",padding:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",cursor:"pointer",minHeight:"44px",opacity:i?.7:1},children:i?e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"8px"},children:[e.jsx(cr,{style:{width:"16px",height:"16px",animation:"spin 1s linear infinite"}}),"Sending Request..."]}):"Send Request"})]})]})]})]})]})]})]})}const mu="/assets/worldcall_logo-610526bf.png";function hu(){const t=Ne(),{user:r,requiresKYC:s}=Ze(),[a,n]=d.useState(!1),[o,x]=d.useState(null),[i,h]=d.useState([]),[f,m]=d.useState([]),[l,p]=d.useState("R0.00"),[E,c]=d.useState(null);d.useState(null),d.useState(null),d.useState(null),d.useState(""),d.useState("");const[g,u]=d.useState(!1),[y,F]=d.useState(null);d.useState(!1),d.useEffect(()=>{(async()=>{try{n(!0),c(null);const b=await Ge.getAirtimeNetworks();h(b);const P=await Ge.getGlobalServices();m(P),await j()}catch(b){console.error("Error loading AirtimePage data:",b),c("Failed to load airtime data. Please try again.")}finally{n(!1)}})()},[]);const j=async()=>{try{const D=await Ge.getWalletBalance();let b=0;if(D&&D.data&&D.data.balance?b=parseFloat(D.data.balance):D&&D.balance?b=parseFloat(D.balance):typeof D=="number"?b=D:D&&typeof D=="object"&&D.data&&(b=parseFloat(D.data)),isNaN(b))p("R0.00");else{const P=new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR",minimumFractionDigits:2,maximumFractionDigits:2}).format(b);p(P)}}catch(D){console.error("Error fetching wallet balance:",D),p("R0.00")}},w=async D=>{if(D.available){x(D.id);try{if(s("airtime")){t("/kyc/documents?returnTo=/services");return}switch(D.type){case"voucher":t("/airtime/voucher");break;case"topup":t("/airtime/topup");break;case"eezi":t("/airtime/eezi");break;case"global":t("/airtime/global");break;default:console.error("Unknown service type:",D.type)}}catch(b){console.error("Error navigating to service:",b),c("Failed to navigate to service. Please try again.")}finally{x(null)}}},M=async D=>{try{await navigator.clipboard.writeText(D)}catch(b){console.error("Failed to copy PIN:",b)}},R=[{id:"airtime",title:"Airtime",description:"Purchase airtime vouchers and top-ups",bgGradient:"from-green-500/10 to-green-500/5",iconBg:"bg-green-500/20",services:[{id:"voucher",title:"Voucher - All Networks",description:"Buy airtime vouchers for any network",icon:e.jsx(St,{className:"w-6 h-6 text-green-600"}),type:"voucher",available:!0,badge:"Popular",badgeType:"success"},{id:"topup",title:"Top Up - All Networks",description:"Direct airtime top-up to mobile numbers",icon:e.jsx(Yt,{className:"w-6 h-6 text-green-600"}),type:"topup",available:!0,badge:"Instant",badgeType:"info"},{id:"eezi",title:"eeziAirtime",description:"Flash exclusive airtime service",icon:e.jsx(Ct,{className:"w-6 h-6 text-green-600"}),type:"eezi",available:!0,badge:"Flash",badgeType:"warning"}]},{id:"global",title:"International Airtime",description:"International airtime services",bgGradient:"from-blue-500/10 to-blue-500/5",iconBg:"bg-blue-500/20",services:[{id:"global-airtime",title:"Global Airtime",description:"International airtime top-up",icon:e.jsx(Vr,{className:"w-6 h-6 text-blue-600"}),type:"global",available:!0,badge:"Flash",badgeType:"warning"},{id:"worldcall",title:"Worldcall",description:"International airtime service",icon:e.jsx("img",{src:mu,alt:"Worldcall",style:{width:"24px",height:"24px"}}),type:"global",available:!0,badge:"Flash",badgeType:"warning"}]},{id:"data",title:"Data",description:"Purchase data bundles and international data",bgGradient:"from-purple-500/10 to-purple-500/5",iconBg:"bg-purple-500/20",services:[{id:"local-data",title:"Local Data Bundles",description:"SA network data packages",icon:e.jsx(Gr,{className:"w-6 h-6 text-purple-600"}),type:"data",available:!0,badge:"Popular",badgeType:"success"},{id:"international-data",title:"International Data",description:"Global data roaming packages",icon:e.jsx(Vr,{className:"w-6 h-6 text-purple-600"}),type:"data",available:!0,badge:"Flash",badgeType:"warning"}]},{id:"electricity",title:"Electricity",description:"Purchase prepaid electricity and international tokens",bgGradient:"from-orange-500/10 to-orange-500/5",iconBg:"bg-orange-500/20",services:[{id:"prepaid-electricity",title:"Prepaid Electricity",description:"SA municipality prepaid meters",icon:e.jsx(Bt,{className:"w-6 h-6 text-orange-600"}),type:"electricity",available:!0,badge:"Instant",badgeType:"info"},{id:"international-electricity",title:"International Electricity",description:"Global electricity tokens",icon:e.jsx(Vr,{className:"w-6 h-6 text-orange-600"}),type:"electricity",available:!0,badge:"Flash",badgeType:"warning"}]},{id:"bill-payments",title:"Bill Payments",description:"Pay utility bills and municipal accounts",bgGradient:"from-indigo-500/10 to-indigo-500/5",iconBg:"bg-indigo-500/20",services:[{id:"utility-bills",title:"Utility Bills",description:"Water, electricity, and municipal accounts",icon:e.jsx(St,{className:"w-6 h-6 text-indigo-600"}),type:"bill-payment",available:!0,badge:"Instant",badgeType:"info"},{id:"easy-pay-bills",title:"EasyPay Bills",description:"EasyPay bill payment service",icon:e.jsx(Dr,{className:"w-6 h-6 text-indigo-600"}),type:"bill-payment",available:!0,badge:"EasyPay",badgeType:"success"}]}];return e.jsxs("div",{style:{backgroundColor:"#ffffff",minHeight:"100vh",fontFamily:"Montserrat, sans-serif"},children:[e.jsxs("div",{style:{padding:"16px"},children:[e.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"16px",marginBottom:"16px",display:"flex",alignItems:"center",gap:"16px"},children:[e.jsx("button",{onClick:()=>t("/transact"),style:{backgroundColor:"transparent",border:"none",padding:"8px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease"},onMouseOver:D=>D.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:D=>D.currentTarget.style.backgroundColor="transparent",children:e.jsx(Re,{style:{width:"20px",height:"20px",color:"#6b7280"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937",margin:"0",textAlign:"center",flex:1},children:"Services"}),e.jsx(De,{style:{backgroundColor:"#86BE41",color:"#ffffff",fontFamily:"Montserrat, sans-serif",fontSize:"9.18px",fontWeight:"600",padding:"3.06px 6.12px",borderRadius:"9.18px",border:"none",whiteSpace:"nowrap"},children:l})]}),r&&e.jsx("div",{className:"mb-6 p-4 bg-gradient-to-r from-[#86BE41]/10 to-[#2D8CCA]/10 rounded-lg",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] rounded-full flex items-center justify-center",children:e.jsx(ut,{className:"w-5 h-5 text-white"})}),e.jsxs("div",{children:[e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#1f2937",marginBottom:"0.25rem"},children:["Welcome back, ",r.name.split(" ")[0]]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280"},children:r.kycVerified?"All services available":"Complete KYC to unlock all features"})]})]})})]}),E&&e.jsx("div",{className:"mb-6 p-4 bg-red-50 border border-red-200 rounded-lg",style:{margin:"0 var(--mobile-padding)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Ie,{className:"w-4 h-4 text-red-600"})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#dc2626"},children:E})]})}),a&&e.jsx("div",{className:"mb-6 p-4 bg-blue-50 border border-blue-200 rounded-lg",style:{margin:"0 var(--mobile-padding)"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx(Qe,{className:"w-4 h-4 text-blue-600 animate-spin"})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#2563eb"},children:"Loading airtime services..."})]})}),e.jsx("div",{style:{padding:"0 var(--mobile-padding) var(--mobile-padding)"},children:R.map((D,b)=>e.jsxs("div",{className:"mb-8",children:[e.jsx("div",{className:"mb-4",children:e.jsxs("div",{className:"flex items-center gap-3 mb-2",children:[e.jsx("div",{className:`w-8 h-8 ${D.iconBg} rounded-lg flex items-center justify-center`,children:e.jsx(wn,{className:"w-4 h-4",style:{color:b===0?"#86BE41":"#2D8CCA"}})}),e.jsxs("div",{children:[e.jsx("h2",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-lg)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",marginBottom:"0.25rem"},children:D.title}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280"},children:D.description})]})]})}),e.jsx("div",{className:"grid grid-cols-1 gap-4",children:D.services.map(P=>e.jsx(oe,{className:`cursor-pointer transition-all duration-200 hover:shadow-md ${P.available?"":"opacity-50 cursor-not-allowed"}`,onClick:()=>w(P),children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-12 h-12 bg-gradient-to-r from-gray-50 to-gray-100 rounded-lg flex items-center justify-center",children:P.icon}),e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-semibold)",color:"#1f2937"},children:P.title}),P.badge&&e.jsx(De,{style:{backgroundColor:P.badgeType==="success"?"#86BE41":P.badgeType==="warning"?"#f59e0b":"#2D8CCA",color:"#ffffff",fontFamily:"Montserrat, sans-serif",fontSize:"8px",fontWeight:"600",padding:"2px 6px",borderRadius:"6px",border:"none"},children:P.badge})]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280"},children:P.description})]})]}),e.jsx("div",{className:"flex items-center gap-2",children:o===P.id?e.jsx(Qe,{className:"w-4 h-4 text-gray-400 animate-spin"}):e.jsx(as,{className:"w-4 h-4 text-gray-400"})})]})})},P.id))})]},D.id))}),e.jsx(Le,{open:g,onOpenChange:u,children:e.jsxs(_e,{className:"sm:max-w-md","aria-describedby":"purchase-complete-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{children:"Purchase Complete"}),e.jsx("div",{id:"purchase-complete-description",className:"sr-only",children:"Purchase completion details including amount, reference, and voucher PIN if applicable"})]}),y&&e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center gap-3 p-3 bg-green-50 rounded-lg",children:[e.jsx($e,{className:"w-6 h-6 text-green-600"}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-semibold)",color:"#059669"},children:"Purchase Successful"}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280"},children:["Reference: ",y.reference]})]})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#1f2937"},children:["Amount: R",y.amount.toFixed(2)]}),y.networkId&&e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#1f2937"},children:["Network: ",y.networkId]}),y.recipientPhone&&e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#1f2937"},children:["Recipient: ",y.recipientPhone]})]}),y.pin&&e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg",children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",color:"#1f2937",marginBottom:"0.5rem"},children:"Your Voucher PIN:"}),e.jsxs("div",{className:"flex items-center justify-between p-2 bg-white rounded border",children:[e.jsx("code",{style:{fontFamily:"monospace",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:"#1f2937",letterSpacing:"0.1em"},children:y.pin}),e.jsx(O,{size:"sm",variant:"outline",onClick:()=>M(y.pin),className:"ml-2",children:e.jsx(lt,{className:"w-4 h-4"})})]})]}),e.jsx("div",{className:"flex gap-2 pt-4",children:e.jsx(O,{onClick:()=>u(!1),className:"flex-1",children:"Close"})})]})]})})]})}function Kr(){const t=navigator.userAgent,r=window.location.protocol==="https:",s=window.location.hostname==="localhost"||window.location.hostname==="127.0.0.1";let a="Unknown",n="Unknown",o=!1;if(t.includes("Chrome")){a="Chrome";const l=t.match(/Chrome\/(\d+)/);n=l?l[1]:"Unknown",o=parseInt(n)>=88}else if(t.includes("Edge")){a="Edge";const l=t.match(/Edge\/(\d+)/);n=l?l[1]:"Unknown",o=parseInt(n)>=88}else if(t.includes("Safari")&&!t.includes("Chrome")){a="Safari";const l=t.match(/Version\/(\d+\.\d+)/);n=l?l[1]:"Unknown",o=parseFloat(n)>=14.1}else if(t.includes("Firefox")){a="Firefox";const l=t.match(/Firefox\/(\d+)/);n=l?l[1]:"Unknown",o=parseInt(n)>=75}const x="webkitSpeechRecognition"in window||"SpeechRecognition"in window,i="mediaDevices"in navigator&&"getUserMedia"in navigator.mediaDevices,h="permissions"in navigator&&"query"in navigator.permissions,f=!s,m=[];return o||(a==="Chrome"?m.push("Update Chrome to version 88 or higher"):a==="Edge"?m.push("Update Edge to version 88 or higher"):a==="Safari"?m.push("Update Safari to version 14.1 or higher"):a==="Firefox"?m.push("Firefox has limited voice input support. Consider using Chrome, Edge, or Safari for full functionality."):m.push("Use Chrome 88+, Edge 88+, or Safari 14.1+ for best voice input experience")),x||m.push("Your browser does not support speech recognition"),i||m.push("Your browser does not support microphone access"),f&&!r&&m.push("Voice input requires HTTPS. Please use a secure connection."),m.length===0&&m.push("Your browser is fully compatible with voice input features!"),{isSupported:o,browser:a,version:n,supportsSpeechRecognition:x,supportsMediaDevices:i,supportsPermissions:h,requiresHTTPS:f,isHTTPS:r,isLocalhost:s,recommendations:m}}function wo(){const t=Kr();return t.isSupported&&t.supportsSpeechRecognition&&t.supportsMediaDevices&&(t.isHTTPS||t.isLocalhost)}const La=[{code:"en-ZA",name:"English (South Africa)",nativeName:"English",confidence:.9},{code:"af-ZA",name:"Afrikaans",nativeName:"Afrikaans",confidence:.85},{code:"zu-ZA",name:"isiZulu",nativeName:"isiZulu",confidence:.8},{code:"xh-ZA",name:"isiXhosa",nativeName:"isiXhosa",confidence:.8},{code:"st-ZA",name:"Sesotho",nativeName:"Sesotho",confidence:.8},{code:"tn-ZA",name:"Setswana",nativeName:"Setswana",confidence:.8},{code:"ve-ZA",name:"Tshivenda",nativeName:"Tshivenda",confidence:.8},{code:"ts-ZA",name:"Xitsonga",nativeName:"Xitsonga",confidence:.8},{code:"nr-ZA",name:"isiNdebele",nativeName:"isiNdebele",confidence:.8},{code:"ss-ZA",name:"siSwati",nativeName:"siSwati",confidence:.8},{code:"en-US",name:"English (US)",nativeName:"English",confidence:.95}],pu=({onTranscript:t,onError:r,language:s="en-ZA",disabled:a=!1,className:n=""})=>{if(typeof window>"u")return e.jsx("div",{className:`p-4 bg-gray-50 border border-gray-200 rounded-lg ${n}`,children:e.jsx("div",{className:"text-center text-gray-500",children:"Voice input is not available in this environment."})});const[o,x]=d.useState(!1),[i,h]=d.useState(!1),[f,m]=d.useState(s),[l,p]=d.useState(0),[E,c]=d.useState(""),[g,u]=d.useState(""),[y,F]=d.useState(null),[j,w]=d.useState(!1),[M,R]=d.useState(0),[D,b]=d.useState(!1),P=d.useRef(null),v=d.useRef(null),T=d.useRef(null),I=d.useRef(null),B=d.useRef(),N=d.useCallback(async()=>{try{if("permissions"in navigator&&"query"in navigator.permissions)try{const H=await navigator.permissions.query({name:"microphone"});return H.state==="denied"?(F("Microphone access is blocked. Please enable it in your browser settings."),!1):H.state==="prompt"||H.state==="granted"}catch(H){return console.warn("Permission query failed, will request on use:",H),!0}else return console.warn("Permission API not supported, will request on use"),!0}catch{return console.warn("Permission API not supported, will request on use"),!0}},[]);d.useEffect(()=>{try{if(!wo()){const re=Kr().recommendations.join(". ");F(`Voice input not supported: ${re}`);return}const se=window.SpeechRecognition||window.webkitSpeechRecognition;P.current=new se,N()}catch(se){console.error("Failed to initialize voice input:",se),F("Failed to initialize voice input. Please refresh the page and try again.")}const H=P.current;if(!H){F("Failed to initialize speech recognition. Please refresh the page.");return}return H.continuous=!0,H.interimResults=!0,H.maxAlternatives=3,H.lang=f,"webkitSpeechRecognition"in window&&(H.continuous=!0,H.interimResults=!0,H.maxAlternatives=3),H.onstart=()=>{x(!0),h(!1),F(null),C()},H.onend=()=>{x(!1),h(!1),L(),g.length>0&&!i&&setTimeout(()=>{P.current&&P.current.start()},100)},H.onresult=se=>{let q="",re="";for(let K=se.resultIndex;K<se.results.length;K++){const Y=se.results[K][0].transcript,ae=se.results[K][0].confidence;se.results[K].isFinal?(re+=Y,p(ae)):q+=Y}c(q),u(K=>K+re),re&&(t(re),u(""))},H.onerror=se=>{console.error("Speech recognition error:",se.error);let q="Voice input error occurred.";switch(se.error){case"no-speech":q="No speech detected. Please try speaking again.";break;case"audio-capture":q="Microphone access denied. Please allow microphone access.";break;case"not-allowed":q="Microphone access blocked. Please enable microphone permissions.";break;case"network":q="Network error. Please check your connection.";break;case"service-not-allowed":q="Voice service not available. Please try again later.";break;case"bad-grammar":q="Speech recognition grammar error. Please try again.";break;case"language-not-supported":q="Language not supported. Please select a different language.";break;default:q=`Voice input error: ${se.error}`}F(q),r(q),x(!1),L()},H.onnomatch=()=>{F("No speech match found. Please try speaking more clearly."),r("No speech match found. Please try speaking more clearly.")},()=>{P.current&&P.current.stop(),L()}},[f,t,r]);const C=d.useCallback(async()=>{try{if(v.current&&v.current.state!=="closed"){try{v.current.close()}catch(K){console.warn("Error closing existing AudioContext:",K)}v.current=null}const H=await navigator.mediaDevices.getUserMedia({audio:!0});v.current=new AudioContext,T.current=v.current.createAnalyser(),I.current=v.current.createMediaStreamSource(H),T.current.fftSize=256,I.current.connect(T.current);const se=T.current.frequencyBinCount,q=new Uint8Array(se),re=()=>{if(T.current&&o&&v.current&&v.current.state!=="closed")try{T.current.getByteFrequencyData(q);const K=q.reduce((Y,ae)=>Y+ae)/se;R(K/255),B.current=requestAnimationFrame(re)}catch(K){console.warn("Error updating audio level:",K),B.current&&(cancelAnimationFrame(B.current),B.current=void 0),R(0)}};re()}catch(H){console.warn("Audio visualization not available:",H),R(0)}},[o]),L=d.useCallback(()=>{if(B.current&&(cancelAnimationFrame(B.current),B.current=void 0),I.current&&I.current.mediaStream){try{I.current.mediaStream.getTracks().forEach(H=>H.stop())}catch(H){console.warn("Error stopping microphone tracks:",H)}I.current=null}if(T.current){try{T.current.disconnect()}catch(H){console.warn("Error disconnecting analyser:",H)}T.current=null}if(v.current&&v.current.state!=="closed"){try{v.current.close()}catch(H){console.warn("AudioContext already closed:",H)}v.current=null}R(0)},[]),S=d.useCallback(async()=>{if(P.current&&!a)try{if(!await N()){F("Microphone permission required. Please allow microphone access.");return}try{if(!navigator.mediaDevices||!navigator.mediaDevices.getUserMedia){F("Microphone access not supported in this browser. Please use a modern browser.");return}await navigator.mediaDevices.getUserMedia({audio:!0})}catch(se){console.error("Microphone access denied:",se),se.name==="NotAllowedError"?F("Microphone access denied. Please allow microphone access in your browser."):se.name==="NotFoundError"?F("No microphone found. Please connect a microphone and try again."):se.name==="NotReadableError"?F("Microphone is in use by another application. Please close other apps using the microphone."):F(`Microphone error: ${se.message||"Unknown error"}`);return}P.current.start(),b(!0)}catch(H){console.error("Failed to start recognition:",H),F("Failed to start voice input. Please try again.")}},[a,N]);d.useCallback(()=>{P.current&&(P.current.stop(),b(!1))},[]);const A=d.useCallback(()=>{P.current&&o&&(P.current.stop(),h(!0),b(!1))},[o]),z=d.useCallback(()=>{P.current&&i&&(P.current.start(),h(!1),b(!1))},[i]),$=d.useCallback(()=>{c(""),u(""),F(null)},[]),_=d.useCallback(H=>{m(H),w(!1),P.current&&o&&(P.current.stop(),setTimeout(()=>{P.current&&(P.current.lang=H,P.current.start())},100))},[o]),Q=()=>{const H=La.find(se=>se.code===f);return H?H.nativeName:"Unknown"},ee=()=>l>=.8?"text-green-600":l>=.6?"text-yellow-600":"text-red-600",G=()=>M>.7?"bg-green-500":M>.4?"bg-yellow-500":"bg-blue-500";if(y&&!o){const H=y.includes("Microphone access")||y.includes("permission");return e.jsxs("div",{className:`flex items-center space-x-2 p-3 bg-red-50 border border-red-200 rounded-lg ${n}`,children:[e.jsx(nr,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:"text-red-700 text-sm",children:y}),H&&e.jsx("button",{onClick:async()=>{try{await navigator.mediaDevices.getUserMedia({audio:!0}),F(null)}catch{F("Still cannot access microphone. Please check browser settings.")}},className:"ml-2 px-3 py-1 bg-blue-500 text-white text-xs rounded hover:bg-blue-600 transition-colors",children:"Grant Access"}),e.jsx("button",{onClick:$,className:"ml-auto text-red-500 hover:text-red-700",children:"Ã—"})]})}return e.jsxs("div",{className:`relative ${n}`,children:[j&&e.jsxs("div",{className:"absolute bottom-full mb-2 left-0 bg-white border border-gray-200 rounded-lg shadow-lg p-2 z-10 min-w-48",children:[e.jsx("div",{className:"text-xs font-medium text-gray-700 mb-2 px-2",children:"Select Language"}),La.map(H=>e.jsx("button",{onClick:()=>_(H.code),className:`w-full text-left px-3 py-2 text-sm rounded hover:bg-gray-50 ${f===H.code?"bg-blue-50 text-blue-700":"text-gray-700"}`,children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{children:H.nativeName}),e.jsxs("span",{className:"text-xs text-gray-500",children:["(",H.name,")"]})]})},H.code))]}),e.jsxs("div",{className:"flex items-center space-x-2 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsxs("button",{onClick:()=>w(!j),className:"flex items-center space-x-1 px-2 py-1 text-xs text-gray-600 hover:text-gray-800 hover:bg-gray-100 rounded transition-colors",title:"Change language",children:[e.jsx(zx,{className:"w-3 h-3"}),e.jsx("span",{children:Q()})]}),e.jsxs("button",{onClick:o?i?z:A:S,disabled:a||D,className:`relative flex items-center justify-center w-10 h-10 rounded-full transition-all duration-200 ${o?i?"bg-yellow-500 hover:bg-yellow-600 text-white":"bg-red-500 hover:bg-red-600 text-white":"bg-blue-500 hover:bg-blue-600 text-white"} ${a?"opacity-50 cursor-not-allowed":"cursor-pointer"}`,title:o?i?"Resume listening":"Pause listening":"Start voice input",children:[D?e.jsx(Qe,{className:"w-5 h-5 animate-spin"}):o?i?e.jsx(Al,{className:"w-5 h-5"}):e.jsx(Yx,{className:"w-5 h-5"}):e.jsx(br,{className:"w-5 h-5"}),o&&M>0&&e.jsx("div",{className:"absolute inset-0 rounded-full border-2 border-white opacity-75 animate-pulse"})]}),o&&e.jsx("div",{className:"flex-1 h-2 bg-gray-200 rounded-full overflow-hidden",children:e.jsx("div",{className:`h-full transition-all duration-100 ${G()}`,style:{width:`${M*100}%`}})}),l>0&&e.jsxs("div",{className:`flex items-center space-x-1 text-xs ${ee()}`,children:[e.jsx($e,{className:"w-3 h-3"}),e.jsxs("span",{children:[Math.round(l*100),"%"]})]}),e.jsx("div",{className:"text-xs text-gray-500 min-w-20",children:o?i?"Paused":"Listening...":"Ready"})]}),(E||g)&&e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 border border-blue-200 rounded text-sm",children:[g&&e.jsxs("div",{className:"text-blue-800 mb-1",children:[e.jsx("strong",{children:"Final:"})," ",g]}),E&&e.jsxs("div",{className:"text-blue-600",children:[e.jsx("strong",{children:"Interim:"})," ",E]})]}),!o&&!y&&e.jsxs("div",{className:"mt-2 text-xs text-gray-500 text-center",children:[e.jsx("div",{children:"Click the microphone to start voice input"}),e.jsx("div",{className:"mt-1 text-gray-400",children:"First time? You'll be asked to allow microphone access"}),e.jsxs("details",{className:"mt-2 text-left",children:[e.jsx("summary",{className:"cursor-pointer text-blue-600 hover:text-blue-700",children:"Having issues? Click for help"}),e.jsxs("div",{className:"mt-2 p-2 bg-blue-50 rounded text-xs text-blue-800",children:[e.jsx("div",{className:"font-medium mb-1",children:"Troubleshooting:"}),e.jsx("div",{children:"â€¢ Make sure you're using Chrome 88+, Edge 88+, or Safari 14.1+"}),e.jsx("div",{children:"â€¢ Check that microphone is not muted"}),e.jsx("div",{children:"â€¢ Allow microphone access when prompted"}),e.jsx("div",{children:"â€¢ Try refreshing the page if issues persist"}),e.jsx("div",{children:"â€¢ Voice input requires HTTPS (except localhost)"}),e.jsx("div",{children:'â€¢ Use "Test Mic" button below to diagnose issues'})]})]})]})]})},gu=()=>{const[t,r]=d.useState("unknown"),[s,a]=d.useState(!1),[n,o]=d.useState(null),[x,i]=d.useState(""),[h]=d.useState(()=>Kr());d.useEffect(()=>{f()},[]);const f=async()=>{try{if("permissions"in navigator&&"query"in navigator.permissions)try{const c=await navigator.permissions.query({name:"microphone"});r(c.state),c.onchange=()=>{r(c.state)}}catch(c){console.warn("Permission query failed:",c),r("unknown")}else console.warn("Permission API not supported"),r("unknown")}catch{console.warn("Permission API not supported"),r("unknown")}},m=async()=>{try{if(a(!0),o(null),i(""),!wo()){const w=Kr();o("error"),i(`Browser not supported: ${w.recommendations[0]}`);return}const c=await navigator.mediaDevices.getUserMedia({audio:!0}),g=new AudioContext,u=g.createMediaStreamSource(c),y=g.createAnalyser();u.connect(y);const F=new Uint8Array(y.frequencyBinCount);y.getByteFrequencyData(F),F.some(w=>w>0)?(o("success"),r("granted")):(o("error"),i("Microphone detected but no audio input detected. Please check if your microphone is working.")),c.getTracks().forEach(w=>w.stop()),g.close()}catch(c){console.error("Microphone test failed:",c),o("error"),c.name==="NotAllowedError"?(i("Microphone access denied. Please allow microphone access in your browser."),r("denied")):c.name==="NotFoundError"?i("No microphone found. Please connect a microphone and try again."):c.name==="NotReadableError"?i("Microphone is in use by another application. Please close other apps using the microphone."):i(`Microphone error: ${c.message}`)}finally{a(!1)}},l=()=>{switch(t){case"granted":return e.jsx($e,{className:"w-5 h-5 text-green-500"});case"denied":return e.jsx(nr,{className:"w-5 h-5 text-red-500"});case"prompt":return e.jsx(Xt,{className:"w-5 h-5 text-yellow-500"});default:return e.jsx(Xt,{className:"w-5 h-5 text-gray-500"})}},p=()=>{switch(t){case"granted":return"Microphone access granted";case"denied":return"Microphone access denied";case"prompt":return"Microphone permission not yet requested";default:return"Microphone permission status unknown"}},E=()=>{switch(t){case"granted":return"text-green-600";case"denied":return"text-red-600";case"prompt":return"text-yellow-600";default:return"text-gray-600"}};return e.jsxs("div",{className:"p-4 bg-white border border-gray-200 rounded-lg shadow-sm",children:[e.jsx("h3",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Microphone Test"}),e.jsxs("div",{className:"flex items-center space-x-3 mb-4 p-3 bg-gray-50 rounded-lg",children:[l(),e.jsxs("div",{children:[e.jsx("div",{className:`font-medium ${E()}`,children:p()}),e.jsx("div",{className:"text-sm text-gray-600",children:"This helps diagnose voice input issues"})]})]}),e.jsx("div",{className:"mb-4",children:e.jsx("button",{onClick:m,disabled:s,className:`w-full px-4 py-2 rounded-lg font-medium transition-colors ${s?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:s?e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx("div",{className:"w-4 h-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),e.jsx("span",{children:"Testing Microphone..."})]}):e.jsxs("div",{className:"flex items-center justify-center space-x-2",children:[e.jsx(br,{className:"w-4 h-4"}),e.jsx("span",{children:"Test Microphone"})]})})}),n&&e.jsxs("div",{className:`p-3 rounded-lg ${n==="success"?"bg-green-50 border border-green-200":"bg-red-50 border border-red-200"}`,children:[e.jsxs("div",{className:"flex items-center space-x-2",children:[n==="success"?e.jsx($e,{className:"w-5 h-5 text-green-500"}):e.jsx(nr,{className:"w-5 h-5 text-red-500"}),e.jsx("span",{className:`font-medium ${n==="success"?"text-green-800":"text-red-800"}`,children:n==="success"?"Test Successful!":"Test Failed"})]}),n==="success"?e.jsx("div",{className:"mt-2 text-sm text-green-700",children:"Your microphone is working correctly and ready for voice input!"}):e.jsx("div",{className:"mt-2 text-sm text-red-700",children:x})]}),e.jsxs("div",{className:"mt-4 p-3 bg-blue-50 border border-blue-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-blue-800 mb-2",children:"Troubleshooting Tips:"}),e.jsxs("ul",{className:"text-sm text-blue-700 space-y-1",children:[e.jsx("li",{children:"â€¢ Make sure you're using Chrome, Edge, or Safari"}),e.jsx("li",{children:"â€¢ Check that your microphone is not muted"}),e.jsx("li",{children:"â€¢ Allow microphone access when prompted"}),e.jsx("li",{children:"â€¢ Close other applications that might be using the microphone"}),e.jsx("li",{children:"â€¢ Try refreshing the page if issues persist"})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Your Browser:"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsxs("div",{children:[e.jsx("strong",{children:"Browser:"})," ",h.browser," ",h.version]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Speech Recognition:"})," ",h.supportsSpeechRecognition?"âœ… Supported":"âŒ Not Supported"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Microphone Access:"})," ",h.supportsMediaDevices?"âœ… Supported":"âŒ Not Supported"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Permissions API:"})," ",h.supportsPermissions?"âœ… Supported":"âŒ Not Supported"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"HTTPS:"})," ",h.isHTTPS?"âœ… Secure":h.isLocalhost?"âœ… Localhost":"âŒ Required"]}),e.jsxs("div",{children:[e.jsx("strong",{children:"Overall Support:"})," ",h.isSupported?"âœ… Compatible":"âŒ Limited Support"]})]})]}),e.jsxs("div",{className:"mt-4 p-3 bg-gray-50 border border-gray-200 rounded-lg",children:[e.jsx("h4",{className:"font-medium text-gray-800 mb-2",children:"Recommended Browsers:"}),e.jsxs("div",{className:"text-sm text-gray-600 space-y-1",children:[e.jsx("div",{children:"âœ… Chrome 88+ - Full support"}),e.jsx("div",{children:"âœ… Edge 88+ - Full support"}),e.jsx("div",{children:"âœ… Safari 14.1+ - Full support"}),e.jsx("div",{children:"âš ï¸ Firefox 75+ - Partial support"}),e.jsx("div",{children:"âŒ Internet Explorer - Not supported"})]})]})]})},yu=()=>{const t=Ne();Ze();const[r,s]=d.useState([]),[a,n]=d.useState(""),[o,x]=d.useState(!1),[i,h]=d.useState("en"),[f,m]=d.useState([]),[l,p]=d.useState("R0.00"),[E,c]=d.useState({}),[g,u]=d.useState(null),[y,F]=d.useState(!1),[j,w]=d.useState(!1),M=d.useRef(null),R=[{code:"en",name:"English",flag:"ðŸ‡¿ðŸ‡¦"},{code:"af",name:"Afrikaans",flag:"ðŸ‡¿ðŸ‡¦"},{code:"zu",name:"isiZulu",flag:"ðŸ‡¿ðŸ‡¦"},{code:"xh",name:"isiXhosa",flag:"ðŸ‡¿ðŸ‡¦"},{code:"st",name:"Sesotho",flag:"ðŸ‡¿ðŸ‡¦"}],D=()=>{var A;(A=M.current)==null||A.scrollIntoView({behavior:"smooth"})};d.useEffect(()=>{r.length>1&&D()},[r]),d.useEffect(()=>{const A=localStorage.getItem("supportUsageStats");if(A)try{const z=JSON.parse(A);c(z)}catch(z){console.error("Error loading usage stats:",z)}},[]),d.useEffect(()=>{b()},[E]),d.useEffect(()=>{if(window.scrollTo(0,0),r.length===0){const A={id:"welcome",type:"bot",content:P(i),timestamp:new Date,language:i};s([A])}},[]),d.useEffect(()=>{(async()=>{var z;try{const $=await Ee(),_=await fetch(`${he.API.baseUrl}/api/v1/wallets/balance`,{headers:{Authorization:$?`Bearer ${$}`:""}});if(_.ok){const Q=await _.json();p(`R${((z=Q.balance)==null?void 0:z.toFixed(2))||"0.00"}`)}}catch($){console.error("Error fetching wallet balance:",$)}})()},[]);const b=()=>{const $=[{id:"balance",text:"Check Balance",action:"check_balance"},{id:"transactions",text:"Recent Transactions",action:"recent_transactions"},{id:"add-money",text:"Add Money",action:"add_money"},{id:"kyc-help",text:"KYC Help",action:"kyc_help"},{id:"payment-issues",text:"Payment Issues",action:"payment_issues"},{id:"general-help",text:"General Help",action:"general_help"},{id:"security",text:"Security Help",action:"security_help"},{id:"fees",text:"Fees & Charges",action:"fees_charges"},{id:"limits",text:"Transaction Limits",action:"transaction_limits"},{id:"verification",text:"Account Verification",action:"account_verification"},{id:"technical",text:"Technical Issues",action:"technical_issues"},{id:"refunds",text:"Refunds & Disputes",action:"refunds_disputes"}].sort((_,Q)=>{const ee=E[_.id]||0;return(E[Q.id]||0)-ee}).slice(0,6);m($)},P=A=>{const z={en:"Hi! I'm your MyMoolah support assistant. I'm here to help you with any questions about your wallet, transactions, or account. How can I assist you today?",af:"Hallo! Ek is jou MyMoolah ondersteuningsassistent. Ek is hier om jou te help met enige vrae oor jou beursie, transaksies of rekening. Hoe kan ek jou vandag help?",zu:"Sawubona! Ngingumsizi wakho wokuxhasa i-MyMoolah. Ngilapha ukukusiza nganoma yimiphi imibuzo mayelana nesikhwama sakho, ukuthengiselana, noma i-akhawunti. Ngingakusiza kanjani namhlanje?",xh:"Molo! Ndingumncedi wakho we-MyMoolah. Ndilapha ukukunceda nganoma yimiphi imibuzo malunga nesikhwama sakho, iintengiselwano, okanye i-akhawunti. Ndingakunceda njani namhlanje?",st:"Lumela! Ke mothusi wa hao wa MyMoolah. Ke teng ho u thusa ka dipotso tsepe tsa wallet ya hao, ditransaction, kapa account. Ke ka u thusa jwang kajeno?"};return z[A]||z.en},v=async()=>{try{const A=await Ee();return A&&JSON.parse(atob(A.split(".")[1])).id||null}catch(A){return console.error("Error extracting user ID from token:",A),null}},T=async A=>{if(!A.trim())return;const z={id:Date.now().toString(),type:"user",content:A.trim(),timestamp:new Date,language:i};s($=>[...$,z]),n(""),x(!0);try{const $=await Ee(),_=await v(),ee=await(await fetch(`${he.API.baseUrl}/api/v1/support/chat`,{method:"POST",headers:{"Content-Type":"application/json",Authorization:$?`Bearer ${$}`:""},body:JSON.stringify({message:A,language:i,context:{currentPage:"support",userId:_}})})).json(),G={id:(Date.now()+1).toString(),type:"bot",content:ee&&ee.message||"I'm here to help! Please check our FAQ or contact support.",timestamp:new Date,language:i};s(H=>[...H,G])}catch($){console.error("Support chat error:",$);const _={id:(Date.now()+1).toString(),type:"bot",content:"Sorry, I encountered an error. Please try again or contact our support team.",timestamp:new Date,language:i};s(Q=>[...Q,_])}finally{x(!1)}},I=A=>{c(z=>{const $={...z};return $[A.id]=($[A.id]||0)+1,localStorage.setItem("supportUsageStats",JSON.stringify($)),$}),T(A.text)},B=A=>{h(A)},N=A=>{n(A),F(!1)},C=A=>{console.error("Voice input error:",A)},L=()=>{F(!y)},S=async(A,z)=>{try{if(navigator.clipboard&&window.isSecureContext)await navigator.clipboard.writeText(A);else{const _=document.createElement("textarea");_.value=A,_.style.position="fixed",_.style.left="-999999px",_.style.top="-999999px",document.body.appendChild(_),_.focus(),_.select(),document.execCommand("copy"),document.body.removeChild(_)}u(z),setTimeout(()=>u(null),2e3);const $=document.createElement("div");$.style.cssText=`
        position: fixed;
        top: 20px;
        right: 20px;
        background: #16a34a;
        color: white;
        padding: 12px 16px;
        border-radius: 8px;
        font-family: 'Montserrat', sans-serif;
        font-size: 14px;
        font-weight: 600;
        z-index: 9999;
        box-shadow: 0 4px 12px rgba(0,0,0,0.15);
      `,$.textContent="Response copied!",document.body.appendChild($),setTimeout(()=>{document.body.removeChild($)},2e3)}catch($){console.error("Failed to copy text: ",$),alert("Failed to copy response. Please try again.")}};return e.jsx("div",{style:{backgroundColor:"#ffffff",minHeight:"100vh",fontFamily:"Montserrat, sans-serif"},children:e.jsxs("div",{style:{padding:"16px 16px 0px 16px",display:"flex",flexDirection:"column"},children:[e.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",padding:"8px 16px",marginBottom:"12px",display:"flex",alignItems:"center",justifyContent:"center",position:"relative",flexShrink:0},children:[e.jsx("button",{onClick:()=>t("/transact"),style:{backgroundColor:"transparent",border:"none",padding:"8px",borderRadius:"8px",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",transition:"background-color 0.2s ease",position:"absolute",left:"8px"},onMouseOver:A=>A.currentTarget.style.backgroundColor="#f3f4f6",onMouseOut:A=>A.currentTarget.style.backgroundColor="transparent",children:e.jsx(Re,{style:{width:"20px",height:"20px",color:"#6b7280"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937",margin:"0",textAlign:"center"},children:"Support"})]}),e.jsx("div",{className:"mb-3 p-2 bg-white border border-gray-200 rounded-lg",style:{flexShrink:0},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(Vr,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#1f2937",marginBottom:"0.25rem"},children:"Language"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280"},children:"Choose your preferred language"})]})]}),e.jsx("select",{value:i,onChange:A=>B(A.target.value),style:{backgroundColor:"#ffffff",border:"1px solid #d1d5db",borderRadius:"8px",padding:"8px 12px",fontSize:"14px",fontFamily:"Montserrat, sans-serif",color:"#374151",cursor:"pointer"},children:R.map(A=>e.jsxs("option",{value:A.code,children:[A.flag," ",A.name]},A.code))})]})}),e.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",marginBottom:"12px",height:"300px",display:"flex",flexDirection:"column",overflow:"hidden"},children:[e.jsx("div",{className:"p-4 border-b border-gray-200 bg-gradient-to-r from-blue-500/10 to-blue-600/10",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-8 h-8 bg-blue-500/20 rounded-lg flex items-center justify-center",children:e.jsx(J0,{className:"w-4 h-4 text-blue-600"})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:"#1f2937",marginBottom:"0.25rem"},children:"AI Assistant"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280"},children:"How can I help you today?"})]})]})}),e.jsxs("div",{className:"flex-1 overflow-y-auto p-4 space-y-4",style:{backgroundColor:"#f9fafb"},children:[r.map(A=>e.jsx("div",{className:`flex ${A.type==="user"?"justify-end":"justify-start"}`,children:e.jsxs("div",{style:{maxWidth:"80%",padding:"12px 16px",borderRadius:A.type==="user"?"16px 16px 4px 16px":"16px 16px 16px 4px",backgroundColor:A.type==="user"?"#3b82f6":"#ffffff",color:A.type==="user"?"#ffffff":"#374151",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)",fontSize:"14px",fontFamily:"Montserrat, sans-serif",position:"relative"},children:[e.jsx("p",{style:{margin:"0 0 4px 0"},children:A.content}),e.jsx("p",{style:{fontSize:"12px",opacity:.7,margin:0,fontFamily:"Montserrat, sans-serif"},children:A.timestamp.toLocaleTimeString()}),A.type==="bot"&&e.jsx("button",{onClick:()=>S(A.content,A.id),style:{background:"none",border:"none",cursor:"pointer",color:g===A.id?"#16a34a":"#6b7280",fontFamily:"Montserrat, sans-serif",position:"absolute",bottom:"8px",right:"8px",width:"16px",height:"16px",display:"flex",alignItems:"center",justifyContent:"center",transition:"all 0.2s ease",padding:"4px",borderRadius:"4px"},onMouseOver:z=>{z.currentTarget.style.backgroundColor="#f3f4f6"},onMouseOut:z=>{z.currentTarget.style.backgroundColor="transparent"},title:"Copy to clipboard",children:g===A.id?e.jsx(Me,{style:{width:"16px",height:"16px"}}):e.jsx(lt,{style:{width:"16px",height:"16px"}})})]})},A.id)),o&&e.jsx("div",{className:"flex justify-start",children:e.jsx("div",{style:{padding:"12px 16px",borderRadius:"16px 16px 16px 4px",backgroundColor:"#ffffff",color:"#374151",boxShadow:"0 1px 3px rgba(0, 0, 0, 0.1)"},children:e.jsxs("div",{className:"flex space-x-1",children:[e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce"}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.1s"}}),e.jsx("div",{className:"w-2 h-2 bg-gray-400 rounded-full animate-bounce",style:{animationDelay:"0.2s"}})]})})}),e.jsx("div",{ref:M})]})]}),e.jsxs("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",marginBottom:"12px",padding:"12px 16px"},children:[y&&e.jsx("div",{style:{marginBottom:"12px"},children:e.jsx(pu,{onTranscript:N,onError:C,language:i==="en"?"en-ZA":i==="af"?"af-ZA":"en-ZA",disabled:o})}),j&&e.jsx("div",{style:{marginBottom:"12px"},children:e.jsx(gu,{})}),e.jsxs("div",{style:{display:"flex",justifyContent:"center",gap:"8px",marginBottom:"8px"},children:[e.jsxs("button",{type:"button",onClick:L,style:{padding:"6px 12px",backgroundColor:y?"#3b82f6":"#f3f4f6",color:y?"#ffffff":"#6b7280",border:"1px solid #d1d5db",borderRadius:"16px",cursor:"pointer",fontSize:"12px",fontFamily:"Montserrat, sans-serif",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(br,{style:{width:"12px",height:"12px"}}),y?"Hide Voice Input":"Show Voice Input"]}),e.jsxs("button",{type:"button",onClick:()=>w(!j),style:{padding:"6px 12px",backgroundColor:j?"#10b981":"#f3f4f6",color:j?"#ffffff":"#6b7280",border:"1px solid #d1d5db",borderRadius:"16px",cursor:"pointer",fontSize:"12px",fontFamily:"Montserrat, sans-serif",transition:"all 0.2s ease",display:"flex",alignItems:"center",gap:"4px"},children:[e.jsx(br,{style:{width:"12px",height:"12px"}}),j?"Hide Test":"Test Mic"]})]}),e.jsxs("div",{style:{display:"flex",alignItems:"center",gap:"4px",maxWidth:"100%"},children:[e.jsx("button",{type:"button",onClick:L,style:{width:"28px",height:"28px",backgroundColor:y?"#3b82f6":"#f3f4f6",color:y?"#ffffff":"#6b7280",border:"1px solid #d1d5db",borderRadius:"50%",cursor:"pointer",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"all 0.2s ease"},title:y?"Voice input active":"Click to enable voice input",children:e.jsx(br,{style:{width:"14px",height:"14px"}})}),e.jsx("input",{type:"text",value:a,onChange:A=>n(A.target.value),placeholder:"Type your message...",style:{flex:1,padding:"8px 12px",border:"1px solid #d1d5db",borderRadius:"16px",fontSize:"14px",fontFamily:"Montserrat, sans-serif",outline:"none",backgroundColor:"#ffffff"},onKeyDown:A=>{A.key==="Enter"&&a.trim()&&(A.preventDefault(),T(a))},disabled:o}),e.jsx("button",{type:"button",onClick:()=>{a.trim()&&T(a)},disabled:!a.trim()||o,style:{width:"28px",height:"28px",backgroundColor:a.trim()&&!o?"#3b82f6":"#d1d5db",color:"#ffffff",border:"none",borderRadius:"50%",cursor:a.trim()&&!o?"pointer":"not-allowed",display:"flex",alignItems:"center",justifyContent:"center",flexShrink:0,transition:"all 0.2s ease"},children:e.jsx(Gt,{style:{width:"14px",height:"14px"}})})]})]}),f.length>0&&e.jsx("div",{style:{backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"12px",marginBottom:"0px",padding:"8px 16px"},children:e.jsx("div",{style:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"4px"},children:f.map(A=>e.jsx("button",{onClick:()=>I(A),style:{padding:"4px 6px",fontSize:"11px",backgroundColor:"#ffffff",border:"1px solid #e5e7eb",borderRadius:"8px",color:"#374151",cursor:"pointer",fontFamily:"Montserrat, sans-serif",fontWeight:"500",transition:"all 0.2s ease",textAlign:"center",whiteSpace:"nowrap",overflow:"hidden",textOverflow:"ellipsis"},onMouseOver:z=>{z.currentTarget.style.backgroundColor="#f9fafb",z.currentTarget.style.borderColor="#d1d5db"},onMouseOut:z=>{z.currentTarget.style.backgroundColor="#ffffff",z.currentTarget.style.borderColor="#e5e7eb"},children:A.text},A.id))})})]})})},bu=()=>{const t=Ne(),[r,s]=d.useState(1),[a,n]=d.useState(!1),[o,x]=d.useState(!1),[i,h]=d.useState(""),[f,m]=d.useState(""),[l,p]=d.useState(3),[E,c]=d.useState([]),[g,u]=d.useState("");d.useEffect(()=>{window.scrollTo(0,0)},[]);const y=async()=>{if(!(!i.trim()||!f.trim())){n(!0);try{const P=await(await fetch("/api/v1/feedback/submit",{method:"POST",headers:{"Content-Type":"application/json",Authorization:`Bearer ${localStorage.getItem("token")}`},body:JSON.stringify({title:i.trim(),description:f.trim(),categoryId:6,priority:l,tags:E})})).json();P.success?(x(!0),s(4)):(console.error("Feedback submission failed:",P.message),alert(`Failed to submit feedback: ${P.message}`))}catch(b){console.error("Error submitting feedback:",b),alert("Failed to submit feedback. Please try again.")}finally{n(!1)}}},F=()=>{g.trim()&&E.length<10&&!E.includes(g.trim())&&(c(b=>[...b,g.trim()]),u(""))},j=b=>{c(P=>P.filter(v=>v!==b))},w=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Share Your Feedback"}),e.jsx("p",{className:"text-gray-600",children:"Help us improve MyMoolah with your valuable insights"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"title",children:"Feedback Title *"}),e.jsx(ie,{id:"title",value:i,onChange:b=>h(b.target.value),placeholder:"Brief description of your feedback",className:"mt-1",maxLength:200}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[i.length,"/200 characters"]})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"description",children:"Detailed Description *"}),e.jsx("textarea",{id:"description",value:f,onChange:b=>m(b.target.value),placeholder:"Please provide detailed feedback...",className:"w-full px-3 py-2 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-blue-500",rows:6,maxLength:5e3}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[f.length,"/5000 characters"]})]})]}),e.jsx(O,{onClick:()=>s(2),disabled:!i.trim()||!f.trim(),className:"w-full",children:"Continue"})]}),M=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Additional Details"}),e.jsx("p",{className:"text-gray-600",children:"Help us prioritize and categorize your feedback"})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(X,{children:"Priority Level"}),e.jsx("div",{className:"flex items-center space-x-2 mt-2",children:[1,2,3,4,5].map(b=>e.jsx("button",{onClick:()=>p(b),className:`p-2 rounded-lg transition-all ${l===b?"bg-blue-500 text-white":"bg-gray-100 text-gray-600 hover:bg-gray-200"}`,children:e.jsx(Mt,{className:`w-5 h-5 ${l===b?"fill-current":""}`})},b))}),e.jsxs("p",{className:"text-xs text-gray-500 mt-1",children:[l===1&&"Critical - Immediate attention required",l===2&&"High - Important issue",l===3&&"Medium - Standard priority",l===4&&"Low - Nice to have",l===5&&"Very Low - Future consideration"]})]}),e.jsxs("div",{children:[e.jsx(X,{children:"Tags (Optional)"}),e.jsxs("div",{className:"flex space-x-2 mt-2",children:[e.jsx(ie,{value:g,onChange:b=>u(b.target.value),placeholder:"Add a tag",className:"flex-1",onKeyPress:b=>b.key==="Enter"&&F()}),e.jsx(O,{onClick:F,disabled:!g.trim()||E.length>=10,children:"Add"})]}),E.length>0&&e.jsx("div",{className:"flex flex-wrap gap-2 mt-2",children:E.map((b,P)=>e.jsxs(De,{variant:"secondary",className:"flex items-center space-x-1",children:[e.jsx("span",{children:b}),e.jsx("button",{onClick:()=>j(b),className:"ml-1 hover:text-red-600",children:"Ã—"})]},P))}),e.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Maximum 10 tags allowed"})]})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(O,{variant:"outline",onClick:()=>s(1),className:"flex-1",children:"Back"}),e.jsx(O,{onClick:()=>s(3),disabled:!i.trim()||!f.trim(),className:"flex-1",children:"Review & Submit"})]})]}),R=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Review Your Feedback"}),e.jsx("p",{className:"text-gray-600",children:"Please review before submitting"})]}),e.jsx("div",{className:"space-y-4",children:e.jsxs(oe,{className:"p-4",children:[e.jsx("h3",{className:"font-semibold text-gray-900 mb-2",children:"Feedback Summary"}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Title:"}),e.jsx("p",{className:"text-gray-900",children:i})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Description:"}),e.jsx("p",{className:"text-gray-900",children:f})]}),e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Priority:"}),e.jsxs("div",{className:"flex items-center space-x-1 mt-1",children:[[1,2,3,4,5].map(b=>e.jsx(Mt,{className:`w-4 h-4 ${b<=l?"text-yellow-400 fill-current":"text-gray-300"}`},b)),e.jsxs("span",{className:"ml-2 text-gray-900",children:[l===1&&"Critical",l===2&&"High",l===3&&"Medium",l===4&&"Low",l===5&&"Very Low"]})]})]}),E.length>0&&e.jsxs("div",{children:[e.jsx("span",{className:"text-sm font-medium text-gray-600",children:"Tags:"}),e.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:E.map((b,P)=>e.jsx(De,{variant:"secondary",children:b},P))})]})]})]})}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(O,{variant:"outline",onClick:()=>s(2),className:"flex-1",children:"Back"}),e.jsx(O,{onClick:y,disabled:a,className:"flex-1",children:a?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 mr-2 animate-spin"}),"Submitting..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Gt,{className:"w-4 h-4 mr-2"}),"Submit Feedback"]})})]})]}),D=()=>e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"mx-auto w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mb-4",children:e.jsx($e,{className:"w-8 h-8 text-green-600"})}),e.jsx("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Feedback Submitted!"}),e.jsx("p",{className:"text-gray-600",children:"Thank you for your valuable feedback. Our AI is analyzing it now."})]}),e.jsxs("div",{className:"flex space-x-3",children:[e.jsx(O,{variant:"outline",onClick:()=>{s(1),x(!1),h(""),m(""),p(3),c([])},className:"flex-1",children:"Submit Another Feedback"}),e.jsx(O,{onClick:()=>t("/dashboard"),className:"flex-1",children:"Back to Dashboard"})]})]});return e.jsxs("div",{className:"min-h-screen bg-gray-50",children:[e.jsx("div",{className:"bg-white shadow-sm border-b",children:e.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:e.jsx("div",{className:"flex items-center justify-between h-16",children:e.jsxs("div",{className:"flex items-center space-x-4",children:[e.jsx("button",{onClick:()=>t(-1),className:"p-2 rounded-lg hover:bg-gray-100 transition-colors",children:e.jsx(Re,{className:"w-5 h-5 text-gray-600"})}),e.jsxs("div",{children:[e.jsx("h1",{className:"text-xl font-semibold text-gray-900",children:"Send Feedback"}),e.jsx("p",{className:"text-sm text-gray-500",children:"Help us improve MyMoolah"})]})]})})})}),e.jsx("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:e.jsxs(oe,{className:"p-8",children:[e.jsx("div",{className:"flex items-center justify-center mb-8",children:[1,2,3,4].map(b=>e.jsxs("div",{className:"flex items-center",children:[e.jsx("div",{className:`w-8 h-8 rounded-full flex items-center justify-center text-sm font-medium ${b<r?"bg-green-500 text-white":b===r?"bg-blue-500 text-white":"bg-gray-200 text-gray-600"}`,children:b<r?e.jsx($e,{className:"w-4 h-4"}):b}),b<4&&e.jsx("div",{className:`w-16 h-1 mx-2 ${b<r?"bg-green-500":"bg-gray-200"}`})]},b))}),r===1&&w(),r===2&&M(),r===3&&R(),r===4&&D()]})})]})};function oa({type:t="all",beneficiaries:r,selectedBeneficiary:s,onSelect:a,onAddNew:n,onEdit:o,onRemove:x,isLoading:i=!1,searchPlaceholder:h="Search name or number"}){const[f,m]=d.useState(""),[l,p]=d.useState(t),E=r.filter(u=>{const y=u.name.toLowerCase().includes(f.toLowerCase())||u.identifier.toLowerCase().includes(f.toLowerCase()),F=l==="all"||u.accountType===l;return y&&F}),c=u=>{switch(u){case"airtime":case"data":return e.jsx(Ct,{style:{width:"16px",height:"16px"}});case"electricity":return e.jsx(Bt,{style:{width:"16px",height:"16px"}});case"biller":return e.jsx($t,{style:{width:"16px",height:"16px"}});default:return e.jsx($t,{style:{width:"16px",height:"16px"}})}},g=u=>{var F;return((F=u.metadata)==null?void 0:F.isValid)!==!1?e.jsx(Me,{style:{width:"14px",height:"14px",color:"#16a34a"}}):e.jsx(je,{style:{width:"14px",height:"14px",color:"#dc2626"}})};return i?e.jsx(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:e.jsx(ce,{style:{padding:"1rem"},children:e.jsx("div",{className:"space-y-3",children:[1,2,3].map(u=>e.jsx("div",{className:"animate-pulse",children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-xl"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("div",{className:"h-4 bg-gray-200 rounded mb-2"}),e.jsx("div",{className:"h-3 bg-gray-200 rounded w-2/3"})]})]})},u))})})}):e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx(Ae,{style:{paddingBottom:"0.5rem"},children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Select Beneficiary"})}),e.jsxs(ce,{style:{padding:"1rem",paddingTop:"0.5rem"},children:[e.jsxs("div",{className:"relative mb-4",children:[e.jsx(Lt,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"16px",height:"16px",color:"#6b7280"}}),e.jsx(ie,{placeholder:h,value:f,onChange:u=>m(u.target.value),style:{paddingLeft:"40px",height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",backgroundColor:"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"12px"}})]}),t==="all"&&e.jsx("div",{className:"flex gap-2 mb-4 overflow-x-auto",children:["all","airtime","data","electricity","biller"].map(u=>e.jsx(O,{variant:l===u?"default":"outline",size:"sm",onClick:()=>p(u),style:{minWidth:"max-content",fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",backgroundColor:l===u?"#86BE41":"transparent",color:l===u?"#ffffff":"#6b7280",border:`1px solid ${l===u?"#86BE41":"#e2e8f0"}`,borderRadius:"12px"},children:u.charAt(0).toUpperCase()+u.slice(1)},u))}),e.jsx("div",{className:"space-y-3 mb-4",children:E.length===0?e.jsxs("div",{className:"text-center py-6",children:[e.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:"#f3f4f6",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 12px"},children:e.jsx(Lt,{style:{width:"20px",height:"20px",color:"#6b7280"}})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",marginBottom:"12px"},children:f?"No beneficiaries found":"No beneficiaries yet"}),e.jsxs(O,{onClick:n,style:{backgroundColor:"#86BE41",color:"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px"},children:[e.jsx(Xr,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Add First Beneficiary"]})]}):E.map(u=>{var y,F;return e.jsxs("div",{onClick:()=>a(u),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",borderRadius:"12px",border:`2px solid ${(s==null?void 0:s.id)===u.id?"#86BE41":"#e2e8f0"}`,backgroundColor:(s==null?void 0:s.id)===u.id?"#86BE41/5":"#ffffff",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:j=>{(s==null?void 0:s.id)!==u.id&&(j.currentTarget.style.borderColor="#86BE41/50",j.currentTarget.style.backgroundColor="#f9fafb")},onMouseOut:j=>{(s==null?void 0:s.id)!==u.id&&(j.currentTarget.style.borderColor="#e2e8f0",j.currentTarget.style.backgroundColor="#ffffff")},children:[e.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#f3f4f6",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:c(u.accountType)}),e.jsxs("div",{className:"flex-1",children:[e.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:u.name}),g(u)]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:u.identifier}),e.jsxs("div",{className:"flex gap-1 mt-1",children:[((y=u.metadata)==null?void 0:y.network)&&e.jsx(De,{variant:"secondary",style:{fontSize:"10px",backgroundColor:"#e2e8f0",color:"#6b7280"},children:u.metadata.network}),((F=u.metadata)==null?void 0:F.meterType)&&e.jsx(De,{variant:"secondary",style:{fontSize:"10px",backgroundColor:"#e2e8f0",color:"#6b7280"},children:u.metadata.meterType})]})]})]}),e.jsxs("div",{className:"flex gap-1",children:[e.jsx(O,{variant:"ghost",size:"sm",onClick:j=>{j.stopPropagation(),o(u)},style:{minWidth:"44px",minHeight:"44px",padding:"0"},children:e.jsx(Sn,{style:{width:"16px",height:"16px",color:"#6b7280"}})}),x&&e.jsx(O,{variant:"ghost",size:"sm",onClick:j=>{j.stopPropagation(),x(u)},style:{minWidth:"44px",minHeight:"44px",padding:"0"},children:e.jsx(je,{style:{width:"16px",height:"16px",color:"#dc2626"}})})]})]},u.id)})}),E.length>0&&e.jsxs(O,{onClick:n,variant:"outline",style:{width:"100%",minHeight:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",border:"1px solid #86BE41",color:"#86BE41",borderRadius:"12px"},children:[e.jsx(Xr,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Add New Beneficiary"]})]})]})}function ia({isOpen:t,onClose:r,type:s,onSuccess:a,editBeneficiary:n}){const[o,x]=d.useState({name:"",identifier:"",network:"",meterType:"",billerName:""}),[i,h]=d.useState(!1),[f,m]=d.useState(""),[l,p]=d.useState(!1),[E,c]=d.useState(!1),[g,u]=d.useState(""),y=d.useRef(null),F=d.useRef(null);d.useEffect(()=>{var b,P,v;x(n?{name:n.name,identifier:n.identifier,network:((b=n.metadata)==null?void 0:b.network)||"",meterType:((P=n.metadata)==null?void 0:P.meterType)||"",billerName:((v=n.metadata)==null?void 0:v.billerName)||""}:{name:"",identifier:"",network:"",meterType:"",billerName:""})},[n,t]),d.useEffect(()=>{const b=P=>{y.current&&!y.current.contains(P.target)&&p(!1),F.current&&!F.current.contains(P.target)&&c(!1)};return document.addEventListener("mousedown",b),()=>{document.removeEventListener("mousedown",b)}},[]);const j=()=>{switch(s){case"airtime":case"data":return e.jsx(Ct,{style:{width:"20px",height:"20px"}});case"electricity":return e.jsx(Bt,{style:{width:"20px",height:"20px"}});case"biller":return e.jsx($t,{style:{width:"20px",height:"20px"}});default:return e.jsx($t,{style:{width:"20px",height:"20px"}})}},w=()=>{switch(s){case"airtime":return"Airtime Recipient";case"data":return"Data Recipient";case"electricity":return"Electricity Meter";case"biller":return"Bill Account";default:return"Beneficiary"}},M=()=>{switch(s){case"airtime":case"data":return"Mobile number (e.g., 0821234567)";case"electricity":return"Meter number (e.g., 12345678901)";case"biller":return"Account number or reference";default:return"Identifier"}},R=()=>(m(""),o.name.trim()?o.identifier.trim()?(s==="airtime"||s==="data")&&!pr(o.identifier)?(m("Please enter a valid South African mobile number"),!1):s==="electricity"&&!Nc(o.identifier)?(m("Please enter a valid meter number (minimum 10 digits)"),!1):!0:(m("Identifier is required"),!1):(m("Name is required"),!1)),D=async b=>{var P,v;if(b.preventDefault(),!!R())try{h(!0),m("");const T={};s==="airtime"||s==="data"?(T.network=o.network,T.isValid=!0):s==="electricity"?(T.meterType=o.meterType||"Prepaid",T.isValid=!0):s==="biller"&&(T.billerName=o.billerName,T.isValid=!0);let I;n?I=await Wt.updateBeneficiary(n.id,{name:o.name,identifier:o.identifier,metadata:T}):I=await Wt.saveBeneficiary({name:o.name,identifier:o.identifier,accountType:s,metadata:T}),a(I),r(),x({name:"",identifier:"",network:"",meterType:"",billerName:""})}catch(T){console.error("Failed to create beneficiary:",T),m(((v=(P=T.response)==null?void 0:P.data)==null?void 0:v.message)||"Failed to create beneficiary")}finally{h(!1)}};return t?e.jsx("div",{style:{position:"fixed",top:0,left:0,right:0,bottom:0,backgroundColor:"rgba(0, 0, 0, 0.5)",display:"flex",alignItems:"center",justifyContent:"center",zIndex:1e3,padding:"1rem"},children:e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 20px 25px -5px rgba(0, 0, 0, 0.1)",maxWidth:"400px",width:"100%",maxHeight:"90vh",overflow:"auto"},children:[e.jsx(Ae,{style:{borderBottom:"1px solid #e2e8f0",padding:"1rem"},children:e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#86BE41",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:j()}),e.jsxs("div",{children:[e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:n?`Edit ${w()}`:`Add ${w()}`}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:["Add a new ",s," beneficiary"]})]})]}),e.jsx(O,{variant:"ghost",onClick:r,style:{minWidth:"44px",minHeight:"44px",padding:"0"},children:e.jsx(je,{style:{width:"20px",height:"20px"}})})]})}),e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("form",{onSubmit:D,className:"space-y-4",children:[e.jsxs("div",{children:[e.jsx(X,{htmlFor:"name",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937",marginBottom:"8px",display:"block"},children:"Name"}),e.jsx(ie,{id:"name",value:o.name,onChange:b=>x({...o,name:b.target.value}),placeholder:"Enter a name for this beneficiary",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px",border:"1px solid #e2e8f0",padding:"12px"},required:!0})]}),e.jsxs("div",{children:[e.jsx(X,{htmlFor:"identifier",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937",marginBottom:"8px",display:"block"},children:s==="airtime"||s==="data"?"Mobile Number":s==="electricity"?"Meter Number":"Account Number"}),e.jsx(ie,{id:"identifier",value:o.identifier,onChange:b=>x({...o,identifier:b.target.value}),placeholder:M(),style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px",border:"1px solid #e2e8f0",padding:"12px"},required:!0})]}),(s==="airtime"||s==="data")&&e.jsxs("div",{children:[e.jsx(X,{htmlFor:"network",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937",marginBottom:"8px",display:"block"},children:"Network"}),e.jsxs("div",{style:{position:"relative"},ref:y,children:[e.jsxs("div",{onClick:()=>p(!l),style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px",border:"1px solid #e2e8f0",padding:"12px",backgroundColor:"#ffffff",minHeight:"48px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:b=>b.target.style.borderColor="#86BE41",onMouseLeave:b=>b.target.style.borderColor="#e2e8f0",children:[e.jsx("span",{style:{color:o.network?"#1f2937":"#9ca3af"},children:o.network||"Select network"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"m6 9 6 6 6-6"})})]}),l&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"8px",maxHeight:"300px",overflowY:"auto",zIndex:1e3,marginTop:"4px"},children:[e.jsxs("div",{style:{padding:"8px 0",borderBottom:"1px solid #f1f5f9",marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px",padding:"0 12px"},children:"Local Networks"}),[{value:"Vodacom",label:"Vodacom",color:"#e60000",letter:"V",textColor:"#ffffff"},{value:"MTN",label:"MTN",color:"#ffcc00",letter:"M",textColor:"#000000"},{value:"CellC",label:"CellC",color:"#ff6600",letter:"C",textColor:"#ffffff"},{value:"Telkom",label:"Telkom",color:"#003366",letter:"T",textColor:"#ffffff"},{value:"eeziAirtime",label:"eeziAirtime (Flash)",color:"#86BE41",letter:"E",textColor:"#ffffff"}].map(b=>e.jsxs("div",{onClick:()=>{x({...o,network:b.value}),p(!1)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:o.network===b.value?"#f1f5f9":"transparent"},onMouseEnter:P=>P.target.style.backgroundColor="#f8fafc",onMouseLeave:P=>P.target.style.backgroundColor=o.network===b.value?"#f1f5f9":"transparent",children:[e.jsx("div",{style:{width:"24px",height:"24px",backgroundColor:b.color,borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px",fontWeight:"bold",color:b.textColor},children:b.letter}),e.jsx("span",{style:{fontWeight:"500",color:"#1f2937",fontFamily:"Montserrat, sans-serif",fontSize:"14px"},children:b.label})]},b.value))]}),e.jsxs("div",{style:{padding:"8px 0"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#64748b",textTransform:"uppercase",letterSpacing:"0.5px",marginBottom:"8px",padding:"0 12px"},children:"International Networks"}),[{value:"global-airtime",label:"Global Airtime",color:"#3b82f6",icon:"ðŸŒ"},{value:"global-data",label:"Global Data",color:"#8b5cf6",icon:"ðŸŒ"}].map(b=>e.jsxs("div",{onClick:()=>{x({...o,network:b.value}),p(!1)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:o.network===b.value?"#f1f5f9":"transparent"},onMouseEnter:P=>P.target.style.backgroundColor="#f8fafc",onMouseLeave:P=>P.target.style.backgroundColor=o.network===b.value?"#f1f5f9":"transparent",children:[e.jsx("div",{style:{width:"24px",height:"24px",backgroundColor:b.color,borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:b.icon}),e.jsx("span",{style:{fontWeight:"500",color:"#1f2937",fontFamily:"Montserrat, sans-serif",fontSize:"14px"},children:b.label})]},b.value))]})]})]})]}),s==="electricity"&&e.jsxs("div",{children:[e.jsx(X,{htmlFor:"meterType",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937",marginBottom:"8px",display:"block"},children:"Meter Type"}),e.jsxs("div",{style:{position:"relative"},ref:F,children:[e.jsxs("div",{onClick:()=>c(!E),style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px",border:"1px solid #e2e8f0",padding:"12px",backgroundColor:"#ffffff",minHeight:"48px",display:"flex",alignItems:"center",justifyContent:"space-between",cursor:"pointer",transition:"all 0.2s ease"},onMouseEnter:b=>b.target.style.borderColor="#86BE41",onMouseLeave:b=>b.target.style.borderColor="#e2e8f0",children:[e.jsx("span",{style:{color:o.meterType?"#1f2937":"#9ca3af"},children:o.meterType||"Select meter type"}),e.jsx("svg",{width:"16",height:"16",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"2",children:e.jsx("path",{d:"m6 9 6 6 6-6"})})]}),E&&e.jsxs("div",{style:{position:"absolute",top:"100%",left:0,right:0,backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 10px 25px -5px rgba(0, 0, 0, 0.1), 0 10px 10px -5px rgba(0, 0, 0, 0.04)",padding:"8px",maxHeight:"400px",overflowY:"auto",zIndex:1e3,marginTop:"4px"},children:[e.jsx("div",{style:{marginBottom:"8px"},children:e.jsx("input",{type:"text",placeholder:"Search municipalities...",style:{width:"100%",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontSize:"14px",fontFamily:"Montserrat, sans-serif"},onChange:b=>{const P=b.target.value.toLowerCase();u(P)}})}),e.jsxs("div",{style:{marginBottom:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px",padding:"0 4px"},children:"POPULAR PROVIDERS"}),[{value:"Free Basic Electricity",label:"Free Basic Electricity",color:"#10B981",icon:"ðŸŽ",isSpecial:!0},{value:"Eskom",label:"Eskom",color:"#86BE41",icon:"âš¡"},{value:"City Power",label:"City Power",color:"#2D8CCA",icon:"ðŸ¢"},{value:"Ethekwini",label:"Ethekwini",color:"#FF6B35",icon:"ðŸŒŠ"},{value:"City of Cape Town",label:"City of Cape Town",color:"#4ECDC4",icon:"ðŸ”ï¸"},{value:"Ekurhuleni",label:"Ekurhuleni",color:"#45B7D1",icon:"ðŸ­"},{value:"Centlec (Mangaung)",label:"Centlec (Mangaung)",color:"#96CEB4",icon:"ðŸŒ¿"}].filter(b=>!g||b.label.toLowerCase().includes(g)).map(b=>e.jsxs("div",{onClick:()=>{x({...o,meterType:b.value}),c(!1)},style:{display:"flex",alignItems:"center",gap:"12px",padding:"12px",borderRadius:"8px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:o.meterType===b.value?"#f1f5f9":"transparent",...b.isSpecial&&{border:"2px solid #10B981",backgroundColor:o.meterType===b.value?"#ecfdf5":"#f0fdf4"}},onMouseEnter:P=>P.target.style.backgroundColor=b.isSpecial?"#ecfdf5":"#f8fafc",onMouseLeave:P=>P.target.style.backgroundColor=o.meterType===b.value?b.isSpecial?"#ecfdf5":"#f1f5f9":"transparent",children:[e.jsx("div",{style:{width:"24px",height:"24px",backgroundColor:b.color,borderRadius:"4px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"12px"},children:b.icon}),e.jsx("span",{style:{fontWeight:b.isSpecial?"600":"500",color:b.isSpecial?"#10B981":"#1f2937",fontFamily:"Montserrat, sans-serif",fontSize:"14px"},children:b.label})]},b.value))]}),g&&e.jsxs("div",{style:{marginTop:"8px"},children:[e.jsx("div",{style:{fontSize:"12px",fontWeight:"600",color:"#6b7280",marginBottom:"4px",padding:"0 4px"},children:"ALL MUNICIPALITIES"}),[{value:"Albert Luthuli",label:"Albert Luthuli",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"BelaBela",label:"BelaBela",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Dikgatlong",label:"Dikgatlong",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Ditsobotla",label:"Ditsobotla",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Emakhazeni",label:"Emakhazeni",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Emalahleni (Witbank)",label:"Emalahleni (Witbank)",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Ephraim Mogale (Marblehall)",label:"Ephraim Mogale (Marblehall)",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"GaSegonyana",label:"GaSegonyana",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Govan Mbeki",label:"Govan Mbeki",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Greater Letaba",label:"Greater Letaba",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Kgatelopele",label:"Kgatelopele",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Kgethlengrivier",label:"Kgethlengrivier",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Kokstad",label:"Kokstad",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Langeberg",label:"Langeberg",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Lesedi",label:"Lesedi",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Lukhanji (Enoch Mugijima)",label:"Lukhanji (Enoch Mugijima)",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Madibeng",label:"Madibeng",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Mafube (water)",label:"Mafube (water)",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Magareng",label:"Magareng",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Mandeni",label:"Mandeni",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Mantsopa",label:"Mantsopa",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Matzikama",label:"Matzikama",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Maquassi Hills",label:"Maquassi Hills",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Mbizana (Winnie Madikizela-Mandela)",label:"Mbizana (Winnie Madikizela-Mandela)",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Mpofana",label:"Mpofana",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Musina",label:"Musina",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Naledi",label:"Naledi",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Phalaborwa",label:"Phalaborwa",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Siyathemba",label:"Siyathemba",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Swellendam",label:"Swellendam",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Thaba Chweu",label:"Thaba Chweu",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Thembelihle",label:"Thembelihle",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Tsantsabane",label:"Tsantsabane",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Tswaing",label:"Tswaing",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Umsobomvu",label:"Umsobomvu",color:"#8B5CF6",icon:"ðŸ˜ï¸"},{value:"Uthukela District (Water)",label:"Uthukela District (Water)",color:"#F59E0B",icon:"ðŸ’§"},{value:"Uthukela District (Electricity)",label:"Uthukela District (Electricity)",color:"#F59E0B",icon:"âš¡"},{value:"Afhco",label:"Afhco",color:"#EF4444",icon:"ðŸ¢"},{value:"Applied Metering Innovation",label:"Applied Metering Innovation",color:"#EF4444",icon:"ðŸ¢"},{value:"Blueberry",label:"Blueberry",color:"#EF4444",icon:"ðŸ¢"},{value:"Broham",label:"Broham",color:"#EF4444",icon:"ðŸ¢"},{value:"BVTechSA",label:"BVTechSA",color:"#EF4444",icon:"ðŸ¢"},{value:"Citiq",label:"Citiq",color:"#EF4444",icon:"ðŸ¢"},{value:"Conlog SLICE â€“ Mapule",label:"Conlog SLICE â€“ Mapule",color:"#EF4444",icon:"ðŸ¢"},{value:"DA Metering",label:"DA Metering",color:"#EF4444",icon:"ðŸ¢"},{value:"EGS",label:"EGS",color:"#EF4444",icon:"ðŸ¢"},{value:"Energy Intelligence Consortium",label:"Energy Intelligence Consortium",color:"#EF4444",icon:"ðŸ¢"},{value:"GRC Systems",label:"GRC Systems",color:"#EF4444",icon:"ðŸ¢"},{value:"Hbros",label:"Hbros",color:"#EF4444",icon:"ðŸ¢"},{value:"Ideal Prepaid",label:"Ideal Prepaid",color:"#EF4444",icon:"ðŸ¢"},{value:"IS Metering",label:"IS Metering",color:"#EF4444",icon:"ðŸ¢"},{value:"Itron PU",label:"Itron PU",color:"#EF4444",icon:"ðŸ¢"},{value:"JMflowsort",label:"JMflowsort",color:"#EF4444",icon:"ðŸ¢"},{value:"Jager",label:"Jager",color:"#EF4444",icon:"ðŸ¢"},{value:"KK Prepaid",label:"KK Prepaid",color:"#EF4444",icon:"ðŸ¢"},{value:"Landis",label:"Landis",color:"#EF4444",icon:"ðŸ¢"},{value:"LIC",label:"LIC",color:"#EF4444",icon:"ðŸ¢"},{value:"LiveWire",label:"LiveWire",color:"#EF4444",icon:"ðŸ¢"},{value:"LL Energy",label:"LL Energy",color:"#EF4444",icon:"ðŸ¢"},{value:"Meter Man",label:"Meter Man",color:"#EF4444",icon:"ðŸ¢"},{value:"Meter Shack",label:"Meter Shack",color:"#EF4444",icon:"ðŸ¢"},{value:"Metro Prepaid",label:"Metro Prepaid",color:"#EF4444",icon:"ðŸ¢"},{value:"Mid-City",label:"Mid-City",color:"#EF4444",icon:"ðŸ¢"},{value:"MSI",label:"MSI",color:"#EF4444",icon:"ðŸ¢"},{value:"My Voltage",label:"My Voltage",color:"#EF4444",icon:"ðŸ¢"},{value:"NetVendor",label:"NetVendor",color:"#EF4444",icon:"ðŸ¢"},{value:"PEC Cape Town",label:"PEC Cape Town",color:"#EF4444",icon:"ðŸ¢"},{value:"PEC Bloemfontein",label:"PEC Bloemfontein",color:"#EF4444",icon:"ðŸ¢"},{value:"PEC Gauteng",label:"PEC Gauteng",color:"#EF4444",icon:"ðŸ¢"},{value:"PMD (Power Measurement)",label:"PMD (Power Measurement)",color:"#EF4444",icon:"ðŸ¢"},{value:"Prepay Metering",label:"Prepay Metering",color:"#EF4444",icon:"ðŸ¢"},{value:"Protea Meter",label:"Protea Meter",color:"#EF4444",icon:"ðŸ¢"},{value:"Ratcom (Mabcom Metering)",label:"Ratcom (Mabcom Metering)",color:"#EF4444",icon:"ðŸ¢"},{value:"Recharger",label:"Recharger",color:"#EF4444",icon:"ðŸ¢"},{value:"Ruvick Energy",label:"Ruvick Energy",color:"#EF4444",icon:"ðŸ¢"},{value:"Smart E Power",label:"Smart E Power",color:"#EF4444",icon:"ðŸ¢"},{value:"Smartpowersa (Konta Metering)",label:"Smartpowersa (Konta Metering)",color:"#EF4444",icon:"ðŸ¢"},{value:"Unique Solutions",label:"Unique Solutions",color:"#EF4444",icon:"ðŸ¢"},{value:"UU Solutions",label:"UU Solutions",color:"#EF4444",icon:"ðŸ¢"},{value:"Youtility_Actom",label:"Youtility_Actom",color:"#EF4444",icon:"ðŸ¢"},{value:"Youtility_Inceku",label:"Youtility_Inceku",color:"#EF4444",icon:"ðŸ¢"},{value:"Youtility_Pioneer",label:"Youtility_Pioneer",color:"#EF4444",icon:"ðŸ¢"},{value:"Youtility_Proadmin",label:"Youtility_Proadmin",color:"#EF4444",icon:"ðŸ¢"},{value:"Youtility_Umfa",label:"Youtility_Umfa",color:"#EF4444",icon:"ðŸ¢"},{value:"Uvend",label:"Uvend",color:"#EF4444",icon:"ðŸ¢"},{value:"Vula",label:"Vula",color:"#EF4444",icon:"ðŸ¢"}].filter(b=>b.label.toLowerCase().includes(g.toLowerCase())).map(b=>e.jsxs("div",{onClick:()=>{x({...o,meterType:b.value}),c(!1),u("")},style:{display:"flex",alignItems:"center",gap:"12px",padding:"8px 12px",borderRadius:"6px",cursor:"pointer",transition:"all 0.2s ease",backgroundColor:o.meterType===b.value?"#f1f5f9":"transparent"},onMouseEnter:P=>P.target.style.backgroundColor="#f8fafc",onMouseLeave:P=>P.target.style.backgroundColor=o.meterType===b.value?"#f1f5f9":"transparent",children:[e.jsx("div",{style:{width:"20px",height:"20px",backgroundColor:b.color,borderRadius:"3px",display:"flex",alignItems:"center",justifyContent:"center",fontSize:"10px"},children:b.icon}),e.jsx("span",{style:{fontWeight:"400",color:"#374151",fontFamily:"Montserrat, sans-serif",fontSize:"13px"},children:b.label})]},b.value))]})]})]})]}),s==="biller"&&e.jsxs("div",{children:[e.jsx(X,{htmlFor:"billerName",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937",marginBottom:"8px",display:"block"},children:"Biller Name"}),e.jsx(ie,{id:"billerName",value:o.billerName,onChange:b=>x({...o,billerName:b.target.value}),placeholder:"Enter biller name",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",borderRadius:"12px",border:"1px solid #e2e8f0",padding:"12px"}})]}),f&&e.jsxs("div",{className:"flex items-center gap-2 p-3 bg-red-50 border border-red-200 rounded-lg",children:[e.jsx(Ie,{style:{width:"16px",height:"16px",color:"#dc2626"}}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#dc2626"},children:f})]}),e.jsxs("div",{className:"flex gap-3 pt-4",children:[e.jsx(O,{type:"button",variant:"outline",onClick:r,style:{flex:"1",minHeight:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"12px"},disabled:i,children:"Cancel"}),e.jsx(O,{type:"submit",style:{flex:"1",minHeight:"44px",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500"},disabled:i,children:i?n?"Updating...":"Creating...":n?"Update Beneficiary":"Create Beneficiary"})]})]})})]})}):null}function xa({title:t="Confirm Transaction",summaryRows:r,notices:s=[],primaryButtonText:a="Pay Now",secondaryButtonText:n="Cancel",onPrimaryAction:o,onSecondaryAction:x,isPrimaryDisabled:i=!1,isLoading:h=!1,estimatedTime:f}){const m=p=>{switch(p){case"warning":return e.jsx(Ie,{style:{width:"16px",height:"16px"}});case"info":return e.jsx(Et,{style:{width:"16px",height:"16px"}});case"error":return e.jsx(Ie,{style:{width:"16px",height:"16px"}});default:return e.jsx(Et,{style:{width:"16px",height:"16px"}})}},l=p=>{switch(p){case"warning":return{backgroundColor:"#fef3c7",borderColor:"#f59e0b",color:"#92400e"};case"info":return{backgroundColor:"#e0f2fe",borderColor:"#2D8CCA",color:"#0c4a6e"};case"error":return{backgroundColor:"#fee2e2",borderColor:"#dc2626",color:"#991b1b"};default:return{backgroundColor:"#e0f2fe",borderColor:"#2D8CCA",color:"#0c4a6e"}}};return e.jsxs("div",{style:{position:"fixed",bottom:"80px",left:"50%",transform:"translateX(-50%)",width:"375px",maxHeight:"70vh",backgroundColor:"#ffffff",borderRadius:"12px 12px 0 0",boxShadow:"0 -4px 20px rgba(0, 0, 0, 0.15)",zIndex:1e3,overflow:"hidden"},children:[e.jsxs("div",{style:{padding:"1rem",borderBottom:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937",margin:"0"},children:t}),f&&e.jsxs("div",{className:"flex items-center gap-2 mt-2",children:[e.jsx(yr,{style:{width:"14px",height:"14px",color:"#6b7280"}}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:["Estimated time: ",f]})]})]}),e.jsxs("div",{style:{maxHeight:"calc(70vh - 140px)",overflowY:"auto",padding:"1rem"},children:[e.jsx("div",{className:"space-y-3 mb-4",children:r.map((p,E)=>e.jsxs("div",{children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:p.highlight?"500":"400",color:p.highlight?"#1f2937":"#6b7280"},children:p.label}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:p.highlight?"16px":"14px",fontWeight:p.highlight?"700":"500",color:"#1f2937"},children:p.value})]}),p.highlight&&E<r.length-1&&e.jsx(qt,{style:{margin:"12px 0"}})]},E))}),s.length>0&&e.jsx("div",{className:"space-y-3",children:s.map(p=>e.jsxs(Ke,{style:{...l(p.type),border:`1px solid ${l(p.type).borderColor}`,borderRadius:"12px"},children:[m(p.type),e.jsx(Je,{children:e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",marginBottom:"4px"},children:p.title}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",opacity:.8},children:p.description})]})})]},p.id))})]}),e.jsxs("div",{style:{padding:"1rem",borderTop:"1px solid #e2e8f0",display:"flex",gap:"12px"},children:[e.jsx(O,{variant:"outline",onClick:x,disabled:h,style:{flex:"1",minHeight:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",border:"1px solid #e2e8f0",color:"#6b7280",borderRadius:"12px"},children:n}),e.jsx(O,{onClick:o,disabled:i||h,style:{flex:"2",minHeight:"44px",background:i?"#e2e8f0":"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:i?"#6b7280":"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",cursor:i?"not-allowed":"pointer"},children:h?e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx("div",{style:{width:"16px",height:"16px",border:"2px solid #ffffff",borderTop:"2px solid transparent",borderRadius:"50%",animation:"spin 1s linear infinite"}}),"Processing..."]}):e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(St,{style:{width:"16px",height:"16px"}}),a]})})]}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})}function Eu(){const t=Ne(),[r,s]=d.useState("beneficiary"),[a,n]=d.useState(null),[o,x]=d.useState(null),[i,h]=d.useState(null),[f,m]=d.useState([]),[l,p]=d.useState("idle"),[E,c]=d.useState(!1),[g,u]=d.useState(""),[y,F]=d.useState(""),[j,w]=d.useState(!1),[M,R]=d.useState(!1),[D,b]=d.useState(null),[P,v]=d.useState(!1),[T,I]=d.useState(""),[B,N]=d.useState(""),[C,L]=d.useState(null);d.useEffect(()=>{S()},[]);const S=async()=>{try{p("loading");const Y=await Wt.getBeneficiaries("airtime"),ae=await Wt.getBeneficiaries("data"),be=new Map;[...Y,...ae].forEach(ue=>{const me=String(ue.identifier).trim(),ze=be.get(me);if(!ze)be.set(me,{...ue,accountType:"airtime"});else{const He=ze.updatedAt?new Date(ze.updatedAt).getTime():0;(ue.updatedAt?new Date(ue.updatedAt).getTime():0)>=He&&be.set(me,{...ue,accountType:"airtime"})}});const ne=Array.from(be.values());m(ne),p("idle")}catch(Y){console.error("Failed to load beneficiaries:",Y),F("Failed to load beneficiaries"),p("error")}},A=async Y=>{try{p("loading"),n(Y);const ae=await Ra.getCatalog(Y.id);h(ae),s("catalog"),p("idle")}catch(ae){console.error("Failed to load catalog:",ae),F("Failed to load product catalog"),p("error")}},z=Y=>{x(Y),s("confirm")},$=()=>{var ae,be;const Y=parseFloat(T);if(Y&&Y>0&&Y<=1e3){const ne={id:`airtime_own_${Date.now()}`,name:`${((ae=a==null?void 0:a.metadata)==null?void 0:ae.network)||"Vodacom"} Airtime Top-up`,size:`R${Y.toFixed(2)}`,price:Y,provider:((be=a==null?void 0:a.metadata)==null?void 0:be.network)||"Vodacom",type:"airtime",validity:"Immediate",isBestDeal:!1,supplier:"flash",description:"Custom airtime amount",commission:0,fixedFee:0};x(ne),s("confirm")}},_=()=>{var ae,be;const Y=parseFloat(B);if(Y&&Y>0&&Y<=1e3){const ne={id:`data_own_${Date.now()}`,name:`${((ae=a==null?void 0:a.metadata)==null?void 0:ae.network)||"Vodacom"} Data Top-up`,size:`${Y.toFixed(0)}MB`,price:Y,provider:((be=a==null?void 0:a.metadata)==null?void 0:be.network)||"Vodacom",type:"data",validity:"30 days",isBestDeal:!1,supplier:"flash",description:"Custom data amount",commission:0,fixedFee:0};x(ne),s("confirm")}},Q=async()=>{var Y,ae;if(!(!a||!o))try{p("loading"),F("");const be=Zs(),ne=await Ra.purchase({beneficiaryId:a.id,productId:o.id,amount:o.price,idempotencyKey:be});u(ne.reference),v(ne.beneficiaryIsMyMoolahUser||!1),p("success"),c(!0)}catch(be){console.error("Purchase failed:",be),F(((ae=(Y=be.response)==null?void 0:Y.data)==null?void 0:ae.message)||"Purchase failed"),p("error")}},ee=()=>{L(null),w(!0)},G=Y=>{m(C?ae=>ae.map(be=>be.id===C.id?Y:be):ae=>[...ae,Y]),w(!1),L(null)},H=Y=>{L(Y),w(!0)},se=Y=>{b(Y),R(!0)},q=async()=>{if(D)try{await Wt.removeBeneficiary(D.id),S(),(a==null?void 0:a.id)===D.id&&n(null),b(null)}catch(Y){console.error("Failed to remove beneficiary:",Y),alert("Failed to remove beneficiary. Please try again.")}},re=()=>!a||!o?[]:[{label:"Recipient",value:a.name},{label:"Mobile Number",value:a.identifier},{label:"Product",value:o.name},{label:"Size",value:o.size},{label:"Provider",value:o.provider},{label:"Amount",value:ar(o.price),highlight:!0}],K=()=>{const Y=[];return(o==null?void 0:o.type)==="data"&&Y.push({id:"data-validity",type:"info",title:"Data Bundle",description:`Valid for ${o.validity||"30 days"}`}),Y.push({id:"instant-delivery",type:"info",title:"Instant Delivery",description:"Your airtime/data will be delivered instantly via SMS"}),Y};return E?e.jsxs("div",{style:{padding:"1rem"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>t("/transact"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Purchase Complete"}),e.jsx("div",{style:{width:"44px"}})]}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #16a34a",borderRadius:"12px",boxShadow:"0 4px 12px rgba(22, 163, 74, 0.1)"},children:[e.jsx(Ae,{style:{backgroundColor:"#16a34a",color:"#ffffff",borderRadius:"12px 12px 0 0"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{style:{width:"24px",height:"24px"}}),e.jsxs("div",{children:[e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#ffffff"},children:"Purchase Successful"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#ffffff",opacity:.9},children:new Date().toLocaleString()}),P&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",color:"#ffffff",opacity:.8,marginTop:"4px"},children:"âœ… Recipient notified via MyMoolah"})]})]})}),e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Reference"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:g})]}),re().map((Y,ae)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:Y.label}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:Y.highlight?"700":"500",color:"#1f2937"},children:Y.value})]},ae))]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(O,{variant:"outline",style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:[e.jsx(lt,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Copy"]}),e.jsxs(O,{variant:"outline",style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:[e.jsx(kr,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Share"]})]}),e.jsx(O,{onClick:()=>t("/transact"),style:{width:"100%",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px"},children:"Done"})]})})]})]}):e.jsxs("div",{style:{padding:"1rem"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>t("/transact"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Airtime & Data"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Top-up airtime and data instantly."})]}),e.jsx(O,{variant:"ghost",style:{padding:"8px",minWidth:"44px",minHeight:"44px"},children:e.jsx(Nt,{style:{width:"20px",height:"20px"}})})]}),r==="beneficiary"&&e.jsxs("div",{children:[e.jsx(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",marginBottom:"1rem"},children:e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Select Recipient"})})}),e.jsx(oa,{type:"airtime",beneficiaries:f,selectedBeneficiary:a,onSelect:A,onAddNew:ee,onEdit:H,onRemove:se,searchPlaceholder:"Search recipient name or number",isLoading:l==="loading"})]}),r==="catalog"&&a&&i&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(oe,{style:{backgroundColor:"#f8fafe",border:"1px solid #86BE41",borderRadius:"12px"},children:e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#86BE41",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ct,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:a.name}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:a.identifier})]})]})})}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px"},children:[e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Airtime Products"})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-3",children:[i.products.filter(Y=>Y.type==="airtime").map(Y=>e.jsxs("div",{onClick:()=>z(Y),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:ae=>{ae.currentTarget.style.borderColor="#86BE41",ae.currentTarget.style.backgroundColor="#f9fafb"},onMouseOut:ae=>{ae.currentTarget.style.borderColor="#e2e8f0",ae.currentTarget.style.backgroundColor="#ffffff"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#86BE41",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ct,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:Y.name}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:[Y.size," â€¢ ",Y.provider]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:ar(Y.price)}),Y.isBestDeal&&e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",color:"#16a34a",fontWeight:"500"},children:"Best Deal"})]})]},Y.id)),e.jsxs("div",{style:{padding:"12px",border:"1px solid #e2e8f0",borderRadius:"12px",backgroundColor:"#f8fafc"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#86BE41",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ct,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:"Own Amount"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Enter custom airtime amount"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Enter amount (max R1,000)",value:T,onChange:Y=>I(Y.target.value),style:{flex:"1",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",outline:"none"},min:"1",max:"1000",step:"0.01"}),e.jsx(O,{onClick:$,disabled:!T||parseFloat(T)<=0||parseFloat(T)>1e3,style:{padding:"8px 16px",backgroundColor:"#86BE41",color:"#ffffff",border:"none",borderRadius:"8px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Select"})]})]})]})})]}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px"},children:[e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Data Products"})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-3",children:[i.products.filter(Y=>Y.type==="data").map(Y=>e.jsxs("div",{onClick:()=>z(Y),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:ae=>{ae.currentTarget.style.borderColor="#2D8CCA",ae.currentTarget.style.backgroundColor="#f9fafb"},onMouseOut:ae=>{ae.currentTarget.style.borderColor="#e2e8f0",ae.currentTarget.style.backgroundColor="#ffffff"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#2D8CCA",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Gr,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:Y.name}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:[Y.size," â€¢ ",Y.provider]})]})]}),e.jsxs("div",{className:"text-right",children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:ar(Y.price)}),Y.isBestDeal&&e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",color:"#16a34a",fontWeight:"500"},children:"Best Deal"})]})]},Y.id)),e.jsxs("div",{style:{padding:"12px",border:"1px solid #e2e8f0",borderRadius:"12px",backgroundColor:"#f8fafc"},children:[e.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#2D8CCA",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Gr,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:"Own Amount"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Enter custom data amount"})]})]}),e.jsxs("div",{className:"flex gap-2",children:[e.jsx("input",{type:"number",placeholder:"Enter amount (max R1,000)",value:B,onChange:Y=>N(Y.target.value),style:{flex:"1",padding:"8px 12px",border:"1px solid #e2e8f0",borderRadius:"8px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",outline:"none"},min:"1",max:"1000",step:"0.01"}),e.jsx(O,{onClick:_,disabled:!B||parseFloat(B)<=0||parseFloat(B)>1e3,style:{padding:"8px 16px",backgroundColor:"#2D8CCA",color:"#ffffff",border:"none",borderRadius:"8px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",cursor:"pointer"},children:"Select"})]})]})]})})]}),e.jsx("div",{className:"flex gap-3",children:e.jsx(O,{variant:"outline",onClick:()=>s("beneficiary"),style:{flex:"1",minHeight:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"12px"},children:"Back"})})]}),r==="confirm"&&a&&o&&e.jsx(xa,{title:"Confirm Purchase",summaryRows:re(),notices:K(),primaryButtonText:"Buy Now",secondaryButtonText:"Back",onPrimaryAction:Q,onSecondaryAction:()=>s("catalog"),isLoading:l==="loading",estimatedTime:"Instant"}),e.jsx(ia,{isOpen:j,onClose:()=>{w(!1),L(null)},type:"airtime",onSuccess:G,editBeneficiary:C}),e.jsx(Zr,{isOpen:M,onClose:()=>{R(!1),b(null)},onConfirm:q,title:"Remove Beneficiary",message:"Are you sure you want to remove",confirmText:"Yes, remove",cancelText:"Cancel",type:"danger",beneficiaryName:D==null?void 0:D.name})]})}function Cu({label:t="Amount",value:r,onChange:s,currency:a="ZAR",currencySymbol:n="R",min:o=1,max:x=1e4,suggestedAmounts:i=[20,50,100,200],placeholder:h="0.00",helperText:f,errorText:m,disabled:l=!1,showEstimatedUnits:p=!1,estimatedUnits:E,required:c=!1}){const[g,u]=d.useState(!1),[y,F]=d.useState(r);d.useEffect(()=>{F(r)},[r]);const j=P=>{const v=parseFloat(P);return isNaN(v)?"":new Intl.NumberFormat("en-ZA",{style:"currency",currency:a,minimumFractionDigits:2,maximumFractionDigits:2}).format(v)},w=P=>{if(!P&&c)return{isValid:!1,error:"Amount is required"};if(!P)return{isValid:!0};const v=parseFloat(P);return isNaN(v)?{isValid:!1,error:"Please enter a valid amount"}:v<o?{isValid:!1,error:`Minimum amount is ${n}${o}`}:v>x?{isValid:!1,error:`Maximum amount is ${n}${x}`}:{isValid:!0}},M=P=>{let v=P.target.value;v=v.replace(/[^\d.]/g,""),(v.match(/\./g)||[]).length>1&&(v=v.substring(0,v.lastIndexOf(".")));const I=v.split(".");I[1]&&I[1].length>2&&(v=`${I[0]}.${I[1].substring(0,2)}`),F(v),s(v)},R=P=>{const v=P.toString();F(v),s(v)},D=w(y),b=m||(D.isValid?void 0:D.error);return e.jsxs("div",{className:"space-y-3",children:[e.jsxs(X,{htmlFor:"amount-input",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151"},children:[t,c&&e.jsx("span",{style:{color:"#dc2626"},children:"*"})]}),i.length>0&&e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:"Quick amounts:"}),e.jsx("div",{className:"flex gap-2 flex-wrap",children:i.map(P=>e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>R(P),disabled:l,style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",backgroundColor:y===P.toString()?"#86BE41":"transparent",color:y===P.toString()?"#ffffff":"#6b7280",border:`1px solid ${y===P.toString()?"#86BE41":"#e2e8f0"}`,borderRadius:"20px",minHeight:"32px",padding:"6px 12px"},children:[n,P]},P))})]}),e.jsxs("div",{className:"relative",children:[e.jsx("div",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"500",color:"#6b7280",zIndex:1},children:n}),e.jsx(ie,{id:"amount-input",type:"text",inputMode:"decimal",placeholder:h,value:y,onChange:M,onFocus:()=>u(!0),onBlur:()=>u(!1),disabled:l,style:{paddingLeft:"32px",height:"48px",fontSize:"18px",fontFamily:"Montserrat, sans-serif",fontWeight:"600",backgroundColor:l?"#f3f4f6":"#f1f5f9",border:`2px solid ${b?"#dc2626":g?"#86BE41":"#e2e8f0"}`,borderRadius:"12px",transition:"all 0.2s ease"}})]}),e.jsxs("div",{className:"space-y-2",children:[b&&e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Ie,{style:{width:"14px",height:"14px",color:"#dc2626"}}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626"},children:b})]}),f&&!b&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:f}),p&&E&&y&&!b&&e.jsx("div",{style:{padding:"8px 12px",backgroundColor:"#e0f2fe",borderRadius:"8px",border:"1px solid #2D8CCA"},children:e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#0c4a6e"},children:["Estimated units: ",e.jsx("strong",{children:E})]})}),y&&!b&&e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:["Amount: ",j(y)]}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:["Range: ",n,o," - ",n,x]})]})]})]})}function vu(){var q,re,K,Y,ae,be;const t=Ne(),[r,s]=d.useState("beneficiary"),[a,n]=d.useState(null),[o,x]=d.useState(null),[i,h]=d.useState(""),[f,m]=d.useState(null),[l,p]=d.useState([]),[E,c]=d.useState("idle"),[g,u]=d.useState(!1),[y,F]=d.useState(""),[j,w]=d.useState(""),[M,R]=d.useState(""),[D,b]=d.useState(!1),[P,v]=d.useState(!1),[T,I]=d.useState(null),[B,N]=d.useState(!1);d.useEffect(()=>{C()},[]);const C=async()=>{try{c("loading");const ne=await Wt.getBeneficiaries("electricity");p(ne),c("idle")}catch(ne){console.error("Failed to load beneficiaries:",ne),R("Failed to load beneficiaries"),c("error")}},L=async ne=>{try{c("loading"),n(ne);const ue=await za.getCatalog(ne.id);m(ue),s("amount"),c("idle")}catch(ue){console.error("Failed to load catalog:",ue),R("Failed to load electricity catalog"),c("error")}},S=()=>{i&&parseFloat(i)>=20&&s("confirm")},A=async()=>{var ne,ue;if(!(!a||!i))try{c("loading"),R("");const me=Zs(),ze=await za.purchase({beneficiaryId:a.id,amount:parseFloat(i),idempotencyKey:me});F(ze.reference),w(ze.token||`${Math.random().toString().slice(2,6)}-${Math.random().toString().slice(2,6)}-${Math.random().toString().slice(2,6)}-${Math.random().toString().slice(2,6)}`),N(ze.beneficiaryIsMyMoolahUser||!1),c("success"),u(!0)}catch(me){console.error("Purchase failed:",me),R(((ue=(ne=me.response)==null?void 0:ne.data)==null?void 0:ue.message)||"Purchase failed"),c("error")}},z=()=>{b(!0)},$=ne=>{p(ue=>[...ue,ne]),b(!1)},_=ne=>{x(ne),b(!0)},Q=ne=>{I(ne),v(!0)},ee=async()=>{if(T)try{await Wt.removeBeneficiary(T.id),C(),(a==null?void 0:a.id)===T.id&&n(null),I(null)}catch(ne){console.error("Failed to remove beneficiary:",ne),alert("Failed to remove beneficiary. Please try again.")}},G=()=>{var me;if(!a||!i)return[];const ne=parseFloat(i),ue=(ne*1.2).toFixed(1);return[{label:"Meter",value:`${a.name}`},{label:"Meter Number",value:a.identifier},{label:"Meter Type",value:((me=a.metadata)==null?void 0:me.meterType)||"Prepaid"},{label:"Amount",value:ar(ne)},{label:"Est. Units",value:`${ue} kWh`},{label:"Total",value:ar(ne),highlight:!0}]},H=()=>{var ue;const ne=[];return((ue=a==null?void 0:a.metadata)==null?void 0:ue.isValid)===!1&&ne.push({id:"invalid-meter",type:"error",title:"Meter Validation Required",description:"This meter number needs to be verified before purchase"}),ne.push({id:"token-delivery",type:"info",title:"Token Delivery",description:"Your electricity token will be delivered via SMS and in-app notification"}),ne},se=ne=>{const ue=parseFloat(ne);return isNaN(ue)?"":`${(ue*1.2).toFixed(1)} kWh`};return g?e.jsxs("div",{style:{padding:"1rem"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>t("/transact"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Token Generated"}),e.jsx("div",{style:{width:"44px"}})]}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #16a34a",borderRadius:"12px",boxShadow:"0 4px 12px rgba(22, 163, 74, 0.1)"},children:[e.jsx(Ae,{style:{backgroundColor:"#16a34a",color:"#ffffff",borderRadius:"12px 12px 0 0"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{style:{width:"24px",height:"24px"}}),e.jsxs("div",{children:[e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#ffffff"},children:"Token Ready"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#ffffff",opacity:.9},children:new Date().toLocaleString()}),B&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",color:"#ffffff",opacity:.8,marginTop:"4px"},children:"âœ… Recipient notified via MyMoolah"})]})]})}),e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{style:{padding:"1rem",backgroundColor:"#f3f4f6",borderRadius:"12px",border:"2px dashed #d1d5db"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(Bt,{style:{width:"32px",height:"32px",color:"#f59e0b",margin:"0 auto 8px"}}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280",marginBottom:"8px"},children:"Your Electricity Token"}),e.jsx("p",{style:{fontFamily:"Monaco, Courier, monospace",fontSize:"18px",fontWeight:"700",color:"#1f2937",letterSpacing:"2px",wordBreak:"break-all"},children:j})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Reference"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:y})]}),G().map((ne,ue)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:ne.label}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:ne.highlight?"700":"500",color:"#1f2937"},children:ne.value})]},ue))]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(O,{variant:"outline",onClick:()=>navigator.clipboard.writeText(j),style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:[e.jsx(lt,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Copy Token"]}),e.jsxs(O,{variant:"outline",style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:[e.jsx(kr,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Share"]})]}),e.jsxs(O,{variant:"outline",style:{width:"100%",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:[e.jsx(cr,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Download Receipt"]}),e.jsx(O,{onClick:()=>t("/transact"),style:{width:"100%",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px"},children:"Done"})]})})]})]}):e.jsxs("div",{style:{padding:"1rem"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>t("/transact"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Electricity"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Prepaid tokens delivered instantly."})]}),e.jsx(O,{variant:"ghost",style:{padding:"8px",minWidth:"44px",minHeight:"44px"},children:e.jsx(Nt,{style:{width:"20px",height:"20px"}})})]}),r==="beneficiary"&&e.jsxs("div",{children:[e.jsx(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)",marginBottom:"1rem"},children:e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Select Meter"})})}),e.jsx(oa,{type:"electricity",beneficiaries:l,selectedBeneficiary:a,onSelect:L,onAddNew:z,onEdit:_,onRemove:Q,searchPlaceholder:"Search meter name or number",isLoading:E==="loading"})]}),r==="amount"&&a&&f&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(oe,{style:{backgroundColor:"#f8fafe",border:"1px solid #86BE41",borderRadius:"12px"},children:e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#86BE41",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Bt,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:a.name}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:[a.identifier," â€¢ ",((q=a.metadata)==null?void 0:q.meterType)||"Prepaid"]})]}),((re=a.metadata)==null?void 0:re.isValid)===!1&&e.jsx(Ie,{style:{width:"20px",height:"20px",color:"#f59e0b"}})]})})}),e.jsx(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px"},children:e.jsx(ce,{style:{padding:"1rem"},children:e.jsx(Cu,{label:"Purchase Amount",value:i,onChange:h,currency:"ZAR",currencySymbol:"R",min:20,max:2e3,suggestedAmounts:f.suggestedAmounts,placeholder:"0.00",helperText:"Minimum R20, Maximum R2000",showEstimatedUnits:!0,estimatedUnits:se(i),required:!0})})}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(O,{variant:"outline",onClick:()=>s("beneficiary"),style:{flex:"1",minHeight:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"12px"},children:"Back"}),e.jsx(O,{onClick:S,disabled:!i||parseFloat(i)<20||((K=a==null?void 0:a.metadata)==null?void 0:K.isValid)===!1,style:{flex:"2",minHeight:"44px",background:!i||parseFloat(i)<20||((Y=a==null?void 0:a.metadata)==null?void 0:Y.isValid)===!1?"#e2e8f0":"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:!i||parseFloat(i)<20||((ae=a==null?void 0:a.metadata)==null?void 0:ae.isValid)===!1?"#6b7280":"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500"},children:"Continue"})]})]}),r==="confirm"&&a&&i&&e.jsx(xa,{title:"Confirm Purchase",summaryRows:G(),notices:H(),primaryButtonText:"Buy Token",secondaryButtonText:"Back",onPrimaryAction:A,onSecondaryAction:()=>s("amount"),isPrimaryDisabled:((be=a==null?void 0:a.metadata)==null?void 0:be.isValid)===!1,isLoading:E==="loading",estimatedTime:"Instant"}),e.jsx(ia,{isOpen:D,onClose:()=>{b(!1),x(null)},type:"electricity",editBeneficiary:o,onSuccess:$}),e.jsx(Zr,{isOpen:P,onClose:()=>{v(!1),I(null)},onConfirm:ee,title:"Remove Beneficiary",message:"Are you sure you want to remove",confirmText:"Yes, remove",cancelText:"Cancel",type:"danger",beneficiaryName:T==null?void 0:T.name})]})}function Bu({placeholder:t="Search...",value:r="",onChange:s,onClear:a,isLoading:n=!1,debounceMs:o=300,disabled:x=!1}){const[i,h]=d.useState(r),[f,m]=d.useState(r);d.useEffect(()=>{const E=setTimeout(()=>{m(i)},o);return()=>clearTimeout(E)},[i,o]),d.useEffect(()=>{f!==r&&s(f)},[f,s,r]),d.useEffect(()=>{h(r)},[r]);const l=E=>{h(E.target.value)},p=()=>{h(""),m(""),s(""),a&&a()};return e.jsxs("div",{className:"relative",children:[e.jsx(Lt,{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",width:"18px",height:"18px",color:"#6b7280",zIndex:1}}),e.jsx(ie,{placeholder:t,value:i,onChange:l,disabled:x,style:{paddingLeft:"44px",paddingRight:i||n?"44px":"12px",height:"44px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",backgroundColor:x?"#f3f4f6":"#f1f5f9",border:"1px solid #e2e8f0",borderRadius:"12px",transition:"all 0.2s ease"},onFocus:E=>{E.currentTarget.style.borderColor="#86BE41",E.currentTarget.style.backgroundColor="#ffffff"},onBlur:E=>{E.currentTarget.style.borderColor="#e2e8f0",E.currentTarget.style.backgroundColor=x?"#f3f4f6":"#f1f5f9"}}),(i||n)&&e.jsx("div",{style:{position:"absolute",right:"8px",top:"50%",transform:"translateY(-50%)",display:"flex",alignItems:"center",justifyContent:"center"},children:n?e.jsx("div",{style:{width:"28px",height:"28px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Qe,{style:{width:"16px",height:"16px",color:"#6b7280",animation:"spin 1s linear infinite"}})}):i?e.jsx(O,{variant:"ghost",size:"sm",onClick:p,disabled:x,style:{width:"28px",height:"28px",padding:"0",minWidth:"auto",borderRadius:"6px"},children:e.jsx(je,{style:{width:"14px",height:"14px",color:"#6b7280"}})}):null}),e.jsx("style",{children:`
          @keyframes spin {
            0% { transform: rotate(0deg); }
            100% { transform: rotate(360deg); }
          }
        `})]})}const As=[{id:"insurance",name:"Insurance",icon:Ss,color:"#2D8CCA"},{id:"entertainment",name:"Entertainment",icon:bl,color:"#8b5cf6"},{id:"education",name:"Education",icon:jx,color:"#16a34a"},{id:"municipal",name:"Municipal",icon:Ox,color:"#f59e0b"},{id:"telecoms",name:"Telecoms",icon:Yt,color:"#86BE41"},{id:"retail",name:"Retail Credit",icon:St,color:"#dc2626"}];function Fu(){const t=Ne(),[r,s]=d.useState("search"),[a,n]=d.useState(""),[o,x]=d.useState(!1),[i,h]=d.useState(null),[f,m]=d.useState(null),[l,p]=d.useState("");d.useState([]);const[E,c]=d.useState([]),[g,u]=d.useState([]),[y,F]=d.useState([]),[j,w]=d.useState("idle"),[M,R]=d.useState(!1),[D,b]=d.useState(""),[P,v]=d.useState(""),[T,I]=d.useState(!1),[B,N]=d.useState(!1);d.useEffect(()=>{C()},[]);const C=async()=>{try{w("loading");const q=await Wt.getBeneficiaries("biller");c(q);const re=await $r.getCategories();F(re),w("idle")}catch(q){console.error("Failed to load initial data:",q),v("Failed to load bill payment data"),w("error")}};d.useEffect(()=>{if(a.trim().length<2){u([]),x(!1);return}const re=setTimeout(async()=>{try{x(!0);const K=await $r.searchBillers(a);u(K),x(!1)}catch(K){console.error("Search failed:",K),x(!1)}},500);return()=>clearTimeout(re)},[a]);const L=async q=>{try{x(!0);const re=await $r.searchBillers(void 0,q);u(re),n(""),x(!1)}catch(re){console.error("Category search failed:",re),x(!1)}},S=q=>{h(q),s("beneficiary")},A=q=>{m(q),s("confirm")},z=async()=>{var q,re;if(!(!f||!l))try{w("loading"),v("");const K=Zs(),Y=await $r.payBill({beneficiaryId:f.id,amount:parseFloat(l),idempotencyKey:K});b(Y.reference),N(Y.beneficiaryIsMyMoolahUser||!1),w("success"),R(!0)}catch(K){console.error("Bill payment failed:",K),v(((re=(q=K.response)==null?void 0:q.data)==null?void 0:re.message)||"Bill payment failed"),w("error")}},$=()=>{I(!0)},_=q=>{c(re=>[...re,q]),I(!1)},Q=q=>{console.log("Edit bill account:",q)},ee=()=>{var re;if(!f||!l)return[];const q=parseFloat(l)||100;return[{label:"Biller",value:((re=f.metadata)==null?void 0:re.billerName)||"Unknown Biller"},{label:"Account",value:f.identifier},{label:"Amount",value:ar(q),highlight:!0}]},G=()=>[{id:"bill-payment-info",type:"info",title:"Payment Processing",description:"Your payment will be processed within 24 hours and a confirmation sent via SMS"}],H=q=>{const re=As.find(K=>K.id===q);return re?re.icon:Ss},se=q=>{const re=As.find(K=>K.id===q);return(re==null?void 0:re.color)||"#6b7280"};return M?e.jsxs("div",{style:{padding:"1rem"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>t("/transact"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Payment Sent"}),e.jsx("div",{style:{width:"44px"}})]}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #16a34a",borderRadius:"12px",boxShadow:"0 4px 12px rgba(22, 163, 74, 0.1)"},children:[e.jsx(Ae,{style:{backgroundColor:"#16a34a",color:"#ffffff",borderRadius:"12px 12px 0 0"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{style:{width:"24px",height:"24px"}}),e.jsxs("div",{children:[e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#ffffff"},children:"Payment Successful"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#ffffff",opacity:.9},children:new Date().toLocaleString()}),B&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"10px",color:"#ffffff",opacity:.8,marginTop:"4px"},children:"âœ… Recipient notified via MyMoolah"})]})]})}),e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Reference"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:D})]}),ee().map((q,re)=>e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:q.label}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:q.highlight?"700":"500",color:"#1f2937"},children:q.value})]},re))]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(O,{variant:"outline",style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:[e.jsx(lt,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Copy"]}),e.jsxs(O,{variant:"outline",style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:[e.jsx(kr,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Share"]})]}),e.jsx(O,{onClick:()=>t("/transact"),style:{width:"100%",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px"},children:"Done"})]})})]})]}):e.jsxs("div",{style:{padding:"1rem"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>r==="search"?t("/transact"):s("search"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Bill Payments"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Search billers or pick a category."})]}),e.jsx(O,{variant:"ghost",style:{padding:"8px",minWidth:"44px",minHeight:"44px"},children:e.jsx(Nt,{style:{width:"20px",height:"20px"}})})]}),r==="search"&&e.jsxs("div",{className:"space-y-6",children:[e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px"},children:[e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Search Billers"})}),e.jsxs(ce,{children:[e.jsx(Bu,{placeholder:"Search by company name...",value:a,onChange:n,isLoading:o}),g.length>0&&e.jsx("div",{className:"mt-4 space-y-3",children:g.map(q=>{const re=H(q.category);return e.jsxs("div",{onClick:()=>S(q),style:{display:"flex",alignItems:"center",justifyContent:"space-between",padding:"12px",border:"1px solid #e2e8f0",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease"},onMouseOver:K=>{K.currentTarget.style.borderColor="#86BE41",K.currentTarget.style.backgroundColor="#f9fafb"},onMouseOut:K=>{K.currentTarget.style.borderColor="#e2e8f0",K.currentTarget.style.backgroundColor="#ffffff"},children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#f3f4f6",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(re,{style:{width:"20px",height:"20px",color:se(q.category)}})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:q.name}),e.jsx(De,{variant:"secondary",style:{fontSize:"10px",backgroundColor:se(q.category)+"20",color:se(q.category)},children:q.category})]})]}),e.jsx(O,{size:"sm",variant:"outline",children:"Select"})]},q.id)})}),a.length>=2&&g.length===0&&!o&&e.jsxs("div",{className:"mt-4 text-center py-6",children:[e.jsx(Lt,{style:{width:"48px",height:"48px",color:"#d1d5db",margin:"0 auto 12px"}}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",marginBottom:"8px"},children:"No billers found"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Try browsing categories below"})]})]})]}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px"},children:[e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Browse Categories"})}),e.jsx(ce,{children:e.jsx("div",{className:"grid grid-cols-2 gap-3",children:As.map(q=>{const re=q.icon;return e.jsxs("div",{onClick:()=>L(q.id),style:{padding:"16px",backgroundColor:"#f8fafc",border:"1px solid #e2e8f0",borderRadius:"12px",cursor:"pointer",transition:"all 0.2s ease",textAlign:"center"},onMouseOver:K=>{K.currentTarget.style.borderColor=q.color,K.currentTarget.style.backgroundColor=q.color+"10"},onMouseOut:K=>{K.currentTarget.style.borderColor="#e2e8f0",K.currentTarget.style.backgroundColor="#f8fafc"},children:[e.jsx("div",{style:{width:"48px",height:"48px",backgroundColor:q.color+"20",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center",margin:"0 auto 8px"},children:e.jsx(re,{style:{width:"24px",height:"24px",color:q.color}})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",color:"#1f2937"},children:q.name})]},q.id)})})})]})]}),r==="beneficiary"&&i&&e.jsxs("div",{className:"space-y-4",children:[e.jsx(oe,{style:{backgroundColor:"#f8fafe",border:"1px solid #86BE41",borderRadius:"12px"},children:e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{style:{width:"40px",height:"40px",backgroundColor:"#86BE41",borderRadius:"12px",display:"flex",alignItems:"center",justifyContent:"center"},children:e.jsx(Ss,{style:{width:"20px",height:"20px",color:"#ffffff"}})}),e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:i.name}),e.jsx(De,{variant:"secondary",style:{fontSize:"10px",backgroundColor:se(i.category)+"20",color:se(i.category)},children:i.category})]})]})})}),e.jsx(oa,{type:"biller",beneficiaries:E.filter(q=>{var re;return((re=q.metadata)==null?void 0:re.billerName)===i.name}),selectedBeneficiary:f,onSelect:A,onAddNew:$,onEdit:Q,searchPlaceholder:"Search account name or number",isLoading:j==="loading"})]}),r==="confirm"&&f&&e.jsx(xa,{title:"Confirm Payment",summaryRows:ee(),notices:G(),primaryButtonText:"Pay Now",secondaryButtonText:"Back",onPrimaryAction:z,onSecondaryAction:()=>s("beneficiary"),isLoading:j==="loading",estimatedTime:"24 hours"}),e.jsx(ia,{isOpen:T,onClose:()=>I(!1),type:"biller",onSuccess:_})]})}function Au(){const t=Ne(),[r,s]=d.useState(""),[a,n]=d.useState(""),[o,x]=d.useState("form"),[i,h]=d.useState(null),[f,m]=d.useState({}),[l,p]=d.useState(!1),[E,c]=d.useState(""),[g,u]=d.useState(""),y={reference:`EZ${Date.now().toString().slice(-8).toUpperCase()}`,accountNumber:"FLASH001234",productCode:"EEZI_CASH_ZAR"},F=[50,100,150,200,300,400,500],j=B=>{if(!B.trim())return!0;const N=B.trim().replace(/\s/g,"");return/^(\+27|27|0)?[6-8][0-9]{8}$/.test(N)},w=B=>{const N=parseFloat(B);return!isNaN(N)&&N>=50&&N<=500},M=B=>{let N=.05;B>=300&&(N=.03),B>=500&&(N=.02);const C=Math.round(B*N*100)/100;return{faceValue:B,commission:C,totalPayable:B+C,commissionRate:N*100}};d.useEffect(()=>{if(r&&w(r)){const B=parseFloat(r);h(M(B))}else h(null)},[r]);const R=B=>{const N=B.replace(/[^0-9.]/g,"");s(N),w(N)&&m(C=>({...C,amount:void 0}))},D=B=>{n(B),j(B)&&m(N=>({...N,phone:void 0}))},b=B=>{s(B.toString()),m(N=>({...N,amount:void 0}))},P=()=>{const B={};return(!r||!w(r))&&(B.amount="Amount must be between R50 and R500"),a&&!j(a)&&(B.phone="Please enter a valid SA mobile number"),m(B),Object.keys(B).length===0},v=async()=>{if(P()){p(!0),x("processing");try{const B={amount:parseFloat(r),recipientPhone:a||void 0,reference:y.reference,accountNumber:y.accountNumber,productCode:y.productCode};await new Promise(L=>setTimeout(L,2e3));const N=`EZ${Math.random().toString(36).substr(2,8).toUpperCase()}`,C=`TX${Date.now().toString().slice(-8).toUpperCase()}`;c(N),u(C),x("success")}catch(B){console.error("Transaction failed:",B),x("error")}finally{p(!1)}}},T=async()=>{try{await navigator.clipboard.writeText(E)}catch(B){console.error("Failed to copy:",B)}},I=r&&w(r)&&!l;return o==="success"?e.jsxs("div",{style:{padding:"1rem"},role:"dialog","aria-labelledby":"success-title","aria-describedby":"success-description",children:[e.jsx("div",{id:"success-description",className:"sr-only",children:"Your eeziCash voucher has been successfully purchased and is ready for cash-out at Flash traders."}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>t("/transact"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},"aria-label":"Back to transact",children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsx("h1",{id:"success-title",style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Voucher Created"}),e.jsx("div",{style:{width:"44px"}})]}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #16a34a",borderRadius:"12px",boxShadow:"0 4px 12px rgba(22, 163, 74, 0.1)"},children:[e.jsx(Ae,{style:{backgroundColor:"#16a34a",color:"#ffffff",borderRadius:"12px 12px 0 0"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{style:{width:"24px",height:"24px"}}),e.jsxs("div",{children:[e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#ffffff"},children:"eeziCash Voucher Ready"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#ffffff",opacity:.9},children:new Date().toLocaleString()})]})]})}),e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{style:{padding:"1rem",backgroundColor:"#f8fafe",borderRadius:"12px",border:"1px dashed #86BE41"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Voucher Code"}),e.jsx("p",{style:{fontFamily:"Monaco, monospace",fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:"8px 0",letterSpacing:"2px"},children:E}),e.jsxs(O,{onClick:T,size:"sm",style:{backgroundColor:"#86BE41",color:"#ffffff",border:"none",borderRadius:"8px",fontFamily:"Montserrat, sans-serif",fontSize:"12px"},children:[e.jsx(lt,{style:{width:"14px",height:"14px",marginRight:"4px"}}),"Copy Code"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Reference"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:g})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Face Value"}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:["R",i==null?void 0:i.faceValue]})]}),a&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Recipient"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:a})]})]}),e.jsxs(Ke,{style:{backgroundColor:"#e0f2fe",borderColor:"#2D8CCA",borderRadius:"12px"},children:[e.jsx(Xt,{style:{width:"16px",height:"16px",color:"#2D8CCA"}}),e.jsx(Je,{children:e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",marginBottom:"8px",color:"#0c4a6e"},children:"How to cash out:"}),e.jsxs("ol",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:"#0c4a6e",paddingLeft:"16px",margin:0},children:[e.jsx("li",{children:"Visit any participating Flash trader"}),e.jsxs("li",{children:["Present your voucher code: ",E]}),e.jsx("li",{children:"Provide valid ID for verification"}),e.jsxs("li",{children:["Receive your cash (R",i==null?void 0:i.faceValue,")"]})]})]})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(O,{variant:"outline",style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},onClick:T,children:[e.jsx(lt,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Copy"]}),e.jsxs(O,{variant:"outline",style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:[e.jsx(kr,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Share"]})]}),e.jsx(O,{onClick:()=>t("/transact"),style:{width:"100%",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px"},children:"Done"})]})})]})]}):o==="processing"?e.jsxs("div",{style:{padding:"1rem"},role:"dialog","aria-labelledby":"processing-title","aria-describedby":"processing-description",children:[e.jsx("div",{id:"processing-description",className:"sr-only",children:"Your eeziCash voucher purchase is being processed. Please wait."}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{style:{width:"64px",height:"64px",margin:"0 auto 24px",border:"4px solid #e2e8f0",borderTop:"4px solid #86BE41",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("h2",{id:"processing-title",style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937",marginBottom:"8px"},children:"Processing Your Purchase"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Creating your eeziCash voucher..."})]}),e.jsx("style",{children:`
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          `})]}):e.jsxs("div",{style:{padding:"1rem"},role:"dialog","aria-labelledby":"overlay-title","aria-describedby":"overlay-description",children:[e.jsx("div",{id:"overlay-description",className:"sr-only",children:"Purchase an eeziCash voucher for cash-out at Flash traders."}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>t("/transact"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},"aria-label":"Back to transact",children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{id:"overlay-title",style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Cash @ Flash (eeziCash)"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Purchase voucher for instant cash-out"})]}),e.jsx(O,{variant:"ghost",style:{padding:"8px",minWidth:"44px",minHeight:"44px"},"aria-label":"Help and information",children:e.jsx(Nt,{style:{width:"20px",height:"20px"}})})]}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Create eeziCash Voucher"})}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(X,{htmlFor:"amount",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:"Voucher Amount *"}),e.jsx("div",{className:"grid grid-cols-4 gap-2 mb-3",children:F.map(B=>e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>b(B),style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",borderRadius:"8px",minHeight:"36px",backgroundColor:r===B.toString()?"#86BE41":"transparent",color:r===B.toString()?"#ffffff":"#6b7280",borderColor:r===B.toString()?"#86BE41":"#e2e8f0"},children:["R",B]},B))}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",zIndex:1},children:"R"}),e.jsx(ie,{id:"amount",type:"text",placeholder:"50",value:r,onChange:B=>R(B.target.value),style:{paddingLeft:"28px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"12px",minHeight:"44px",border:f.amount?"1px solid #dc2626":"1px solid #e2e8f0"},"aria-describedby":f.amount?"amount-error":"amount-help"})]}),e.jsx("p",{id:"amount-help",style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Minimum R50, Maximum R500"}),f.amount&&e.jsx("p",{id:"amount-error",style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626"},role:"alert",children:f.amount})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(X,{htmlFor:"recipient-phone",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:"Recipient SA Mobile Number (optional)"}),e.jsx(ie,{id:"recipient-phone",type:"tel",placeholder:"27 XX XXX XXXX",value:a,onChange:B=>D(B.target.value),style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",minHeight:"44px",border:f.phone?"1px solid #dc2626":"1px solid #e2e8f0"},"aria-describedby":f.phone?"phone-error":"phone-help"}),e.jsx("p",{id:"phone-help",style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Optional: Send voucher details via SMS"}),f.phone&&e.jsx("p",{id:"phone-error",style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626"},role:"alert",children:f.phone})]}),i&&e.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f8fafe",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"700",color:"#1f2937",marginBottom:"12px"},children:"Pricing Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Face value"}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:["R",i.faceValue]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:["Commission (",i.commissionRate,"%)"]}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:["R",i.commission.toFixed(2)]})]}),e.jsx(qt,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Total payable"}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:["R",i.totalPayable.toFixed(2)]})]})]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:"#6b7280",marginTop:"12px",fontStyle:"italic"},children:"Commission varies by volume/client. VAT included where applicable."})]}),o==="error"&&e.jsxs(Ke,{style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",borderRadius:"12px"},children:[e.jsx(Ie,{style:{width:"16px",height:"16px",color:"#dc2626"}}),e.jsx(Je,{children:e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#991b1b"},children:"Transaction failed. Please try again or contact support."})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(O,{variant:"outline",onClick:()=>t("/transact"),style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:"Cancel"}),e.jsxs(O,{onClick:v,disabled:!I,style:{flex:"2",background:I?"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)":"#e2e8f0",color:I?"#ffffff":"#6b7280",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",cursor:I?"pointer":"not-allowed"},children:[e.jsx(St,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Purchase eeziCash Voucher"]})]})]})]})]})}function wu(){const t=Ne(),[r,s]=d.useState(""),[a,n]=d.useState(""),[o,x]=d.useState(""),[i,h]=d.useState("form"),[f,m]=d.useState(null),[l,p]=d.useState({}),[E,c]=d.useState(!1),[g,u]=d.useState(""),[y,F]=d.useState(""),[j,w]=d.useState(""),M={voucherType:"mmcash",reference:`MC${Date.now().toString().slice(-8).toUpperCase()}`,pricingPlanId:"GOLD_TIER_2024"},[R]=d.useState({class:"Gold",discount:2.5,isPercentage:!0,badge:"GOLD"}),D=[100,200,500,1e3,2e3,5e3],b=["Pick n Pay","Shoprite","Checkers","Spar","Game","Makro","Woolworths","Any Partner Store"],P=z=>{if(!z.trim())return!0;const $=z.trim().replace(/\s/g,"");return/^(\+27|27|0)?[6-8][0-9]{8}$/.test($)},v=z=>{const $=parseFloat(z);return!isNaN($)&&$>=50&&$<=5e3},T=z=>{let $=0;return R.isPercentage?$=z*R.discount/100:$=R.discount,$=Math.min($,z*.1),{faceValue:z,clientDiscount:$,totalPayable:z-$,clientClass:R}};d.useEffect(()=>{if(r&&v(r)){const z=parseFloat(r);m(T(z))}else m(null)},[r,R]);const I=z=>{const $=z.replace(/[^0-9.]/g,"");s($),v($)&&p(_=>({..._,amount:void 0}))},B=z=>{n(z),P(z)&&p($=>({...$,phone:void 0}))},N=z=>{s(z.toString()),p($=>({...$,amount:void 0}))},C=()=>{const z={};return(!r||!v(r))&&(z.amount="Amount must be between R50 and R5,000"),a&&!P(a)&&(z.phone="Please enter a valid SA mobile number"),p(z),Object.keys(z).length===0},L=async()=>{if(C()){c(!0),h("processing");try{const z={amount:parseFloat(r),recipientPhone:a||void 0,retailPartner:o||void 0,voucherType:M.voucherType,reference:M.reference,pricingPlanId:M.pricingPlanId};await new Promise(ee=>setTimeout(ee,2e3));const $=`MM${Math.random().toString(36).substr(2,8).toUpperCase()}`,_=`TX${Date.now().toString().slice(-8).toUpperCase()}`,Q=new Date;Q.setDate(Q.getDate()+30),u($),F(Q.toLocaleDateString()),w(_),h("success")}catch(z){console.error("Transaction failed:",z),h("error")}finally{c(!1)}}},S=async()=>{try{await navigator.clipboard.writeText(g)}catch(z){console.error("Failed to copy:",z)}},A=r&&v(r)&&!E;return i==="success"?e.jsxs("div",{style:{padding:"1rem"},role:"dialog","aria-labelledby":"success-title","aria-describedby":"success-description",children:[e.jsx("div",{id:"success-description",className:"sr-only",children:"Your MMCash voucher has been successfully created and is ready for redemption at partner retailers."}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>t("/transact"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},"aria-label":"Back to transact",children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsx("h1",{id:"success-title",style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Voucher Created"}),e.jsx("div",{style:{width:"44px"}})]}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #16a34a",borderRadius:"12px",boxShadow:"0 4px 12px rgba(22, 163, 74, 0.1)"},children:[e.jsx(Ae,{style:{backgroundColor:"#16a34a",color:"#ffffff",borderRadius:"12px 12px 0 0"},children:e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($e,{style:{width:"24px",height:"24px"}}),e.jsxs("div",{children:[e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#ffffff"},children:"MMCash Voucher Ready"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#ffffff",opacity:.9},children:new Date().toLocaleString()})]})]})}),e.jsx(ce,{style:{padding:"1rem"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsx("div",{style:{padding:"1rem",backgroundColor:"#f8fafe",borderRadius:"12px",border:"1px dashed #86BE41"},children:e.jsxs("div",{className:"text-center",children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Voucher Code"}),e.jsx("p",{style:{fontFamily:"Monaco, monospace",fontSize:"20px",fontWeight:"700",color:"#1f2937",margin:"8px 0",letterSpacing:"2px"},children:g}),e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:"#6b7280",marginBottom:"12px"},children:["Expires: ",y]}),e.jsxs(O,{onClick:S,size:"sm",style:{backgroundColor:"#86BE41",color:"#ffffff",border:"none",borderRadius:"8px",fontFamily:"Montserrat, sans-serif",fontSize:"12px"},children:[e.jsx(lt,{style:{width:"14px",height:"14px",marginRight:"4px"}}),"Copy Code"]})]})}),e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Reference"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:j})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Face Value"}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:["R",f==null?void 0:f.faceValue]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Client Class"}),e.jsx("div",{className:"flex items-center gap-2",children:e.jsxs(De,{style:{backgroundColor:"#f59e0b",color:"#ffffff",fontSize:"10px"},children:[e.jsx(Mt,{style:{width:"10px",height:"10px",marginRight:"2px"}}),R.class]})})]}),o&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Preferred Store"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:o})]}),a&&e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Recipient"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:a})]})]}),e.jsxs(Ke,{style:{backgroundColor:"#e0f2fe",borderColor:"#2D8CCA",borderRadius:"12px"},children:[e.jsx(Xt,{style:{width:"16px",height:"16px",color:"#2D8CCA"}}),e.jsx(Je,{children:e.jsxs("div",{children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",marginBottom:"8px",color:"#0c4a6e"},children:"How to redeem:"}),e.jsxs("ol",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:"#0c4a6e",paddingLeft:"16px",margin:0},children:[e.jsx("li",{children:"Visit any participating retail partner"}),e.jsxs("li",{children:["Present your voucher code: ",g]}),e.jsx("li",{children:"Provide valid ID for verification"}),e.jsxs("li",{children:["Redeem for goods up to R",f==null?void 0:f.faceValue]})]})]})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsxs(O,{variant:"outline",style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},onClick:S,children:[e.jsx(lt,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Copy"]}),e.jsxs(O,{variant:"outline",style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:[e.jsx(kr,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Share"]})]}),e.jsx(O,{onClick:()=>t("/transact"),style:{width:"100%",background:"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)",color:"#ffffff",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px"},children:"Done"})]})})]})]}):i==="processing"?e.jsxs("div",{style:{padding:"1rem"},role:"dialog","aria-labelledby":"processing-title","aria-describedby":"processing-description",children:[e.jsx("div",{id:"processing-description",className:"sr-only",children:"Your MMCash voucher creation is being processed. Please wait."}),e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{style:{width:"64px",height:"64px",margin:"0 auto 24px",border:"4px solid #e2e8f0",borderTop:"4px solid #86BE41",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("h2",{id:"processing-title",style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937",marginBottom:"8px"},children:"Creating Your Voucher"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Generating your MMCash voucher..."})]}),e.jsx("style",{children:`
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          `})]}):e.jsxs("div",{style:{padding:"1rem"},role:"dialog","aria-labelledby":"overlay-title","aria-describedby":"overlay-description",children:[e.jsx("div",{id:"overlay-description",className:"sr-only",children:"Create an MMCash voucher redeemable at partner retailers."}),e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsx(O,{variant:"ghost",onClick:()=>t("/transact"),style:{padding:"8px",minWidth:"44px",minHeight:"44px"},"aria-label":"Back to transact",children:e.jsx(Re,{style:{width:"20px",height:"20px"}})}),e.jsxs("div",{className:"text-center",children:[e.jsx("h1",{id:"overlay-title",style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"700",color:"#1f2937"},children:"Cash @ Retail (MMCash)"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Create voucher for retail redemption"})]}),e.jsx(O,{variant:"ghost",style:{padding:"8px",minWidth:"44px",minHeight:"44px"},"aria-label":"Help and information",children:e.jsx(Nt,{style:{width:"20px",height:"20px"}})})]}),e.jsx("div",{className:"mb-4 text-center",children:e.jsxs(De,{style:{backgroundColor:"#f59e0b",color:"#ffffff",fontSize:"12px",padding:"6px 12px"},children:[e.jsx(Mt,{style:{width:"12px",height:"12px",marginRight:"4px"}}),R.class," Member - ",R.discount,"% Discount"]})}),e.jsxs(oe,{style:{backgroundColor:"#ffffff",border:"1px solid #e2e8f0",borderRadius:"12px",boxShadow:"0 2px 8px rgba(0, 0, 0, 0.1)"},children:[e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Create MMCash Voucher"})}),e.jsxs(ce,{className:"space-y-6",children:[e.jsxs("div",{className:"space-y-3",children:[e.jsx(X,{htmlFor:"amount",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:"Voucher Amount *"}),e.jsx("div",{className:"grid grid-cols-3 gap-2 mb-3",children:D.map(z=>e.jsxs(O,{variant:"outline",size:"sm",onClick:()=>N(z),style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",borderRadius:"8px",minHeight:"36px",backgroundColor:r===z.toString()?"#86BE41":"transparent",color:r===z.toString()?"#ffffff":"#6b7280",borderColor:r===z.toString()?"#86BE41":"#e2e8f0"},children:["R",z>=1e3?`${z/1e3}k`:z]},z))}),e.jsxs("div",{className:"relative",children:[e.jsx("span",{style:{position:"absolute",left:"12px",top:"50%",transform:"translateY(-50%)",fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",zIndex:1},children:"R"}),e.jsx(ie,{id:"amount",type:"text",placeholder:"50",value:r,onChange:z=>I(z.target.value),style:{paddingLeft:"28px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"12px",minHeight:"44px",border:l.amount?"1px solid #dc2626":"1px solid #e2e8f0"},"aria-describedby":l.amount?"amount-error":"amount-help"})]}),e.jsx("p",{id:"amount-help",style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Minimum R50, Maximum R5,000"}),l.amount&&e.jsx("p",{id:"amount-error",style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626"},role:"alert",children:l.amount})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(X,{htmlFor:"recipient-phone",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:"Recipient SA Mobile Number (optional)"}),e.jsx(ie,{id:"recipient-phone",type:"tel",placeholder:"27 XX XXX XXXX",value:a,onChange:z=>B(z.target.value),style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",minHeight:"44px",border:l.phone?"1px solid #dc2626":"1px solid #e2e8f0"},"aria-describedby":l.phone?"phone-error":"phone-help"}),e.jsx("p",{id:"phone-help",style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Optional: Send voucher details via SMS"}),l.phone&&e.jsx("p",{id:"phone-error",style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#dc2626"},role:"alert",children:l.phone})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(X,{htmlFor:"retail-partner",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:"Retail Partner (optional)"}),e.jsxs(nt,{value:o,onValueChange:x,children:[e.jsx(it,{id:"retail-partner",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",minHeight:"44px",borderRadius:"12px"},children:e.jsx(ot,{placeholder:"Choose retail partner"})}),e.jsx(xt,{children:b.map(z=>e.jsx(Be,{value:z,children:z},z))})]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#6b7280"},children:"Optional: Specify preferred store for redemption"})]}),f&&e.jsxs("div",{style:{padding:"1rem",backgroundColor:"#f8fafe",borderRadius:"12px",border:"1px solid #e2e8f0"},children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"700",color:"#1f2937",marginBottom:"12px"},children:"Pricing Summary"}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Face value"}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#1f2937"},children:["R",f.faceValue]})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:[R.class," class discount"]}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#16a34a"},children:["-R",f.clientDiscount.toFixed(2)]})]}),e.jsx(qt,{}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:"Total payable"}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"700",color:"#1f2937"},children:["R",f.totalPayable.toFixed(2)]})]})]}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",color:"#6b7280",marginTop:"12px",fontStyle:"italic"},children:"Pricing linked to your client class/loyalty status."})]}),i==="error"&&e.jsxs(Ke,{style:{backgroundColor:"#fee2e2",borderColor:"#dc2626",borderRadius:"12px"},children:[e.jsx(Ie,{style:{width:"16px",height:"16px",color:"#dc2626"}}),e.jsx(Je,{children:e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#991b1b"},children:"Transaction failed. Please try again or contact support."})})]}),e.jsxs("div",{className:"flex gap-3",children:[e.jsx(O,{variant:"outline",onClick:()=>t("/transact"),style:{flex:"1",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",borderRadius:"12px"},children:"Cancel"}),e.jsxs(O,{onClick:L,disabled:!A,style:{flex:"2",background:A?"linear-gradient(135deg, #86BE41 0%, #2D8CCA 100%)":"#e2e8f0",color:A?"#ffffff":"#6b7280",border:"none",borderRadius:"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",minHeight:"44px",cursor:A?"pointer":"not-allowed"},children:[e.jsx(os,{style:{width:"16px",height:"16px",marginRight:"8px"}}),"Create MMCash Voucher"]})]})]})]})]})}function ju(){return e.jsxs("div",{role:"dialog","aria-labelledby":"atm-cashsend-title","aria-describedby":"atm-cashsend-desc",style:{padding:"1rem"},children:[e.jsx("div",{id:"atm-cashsend-desc",className:"sr-only",children:"Send a cash voucher to be collected at partner ATMs."}),e.jsx("h1",{id:"atm-cashsend-title",style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:700},children:"ATM Cash Send"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Overlay placeholder. Design will be supplied by Figma."})]})}function Oa({voucher:t,onSelect:r,showFavoriteStar:s=!1,disabled:a=!1,onToggleFavorite:n}){return e.jsxs("div",{className:"relative bg-white rounded-lg shadow-sm border border-gray-200 p-4 cursor-pointer hover:shadow-md transition-shadow",onClick:r,children:[s&&e.jsx("div",{className:`absolute top-2 right-2 z-10 p-1 rounded-full transition-all cursor-pointer hover:scale-110 ${a?"opacity-50 cursor-not-allowed":"opacity-100"}`,onClick:o=>{o.stopPropagation(),!a&&n&&n(!t.featured)},title:a?"Maximum 12 favorites reached":t.featured?"Remove from favorites":"Add to favorites",children:e.jsx(Mt,{className:`w-4 h-4 ${t.featured?"text-yellow-500 fill-current":a?"text-gray-400":"text-gray-300 hover:text-yellow-400"}`})}),e.jsx("div",{className:"text-center mb-3",children:e.jsx("span",{className:"text-3xl",children:t.icon})}),e.jsx("h3",{className:"text-sm font-semibold text-gray-800 text-center mb-2 line-clamp-2",children:t.name}),e.jsx("button",{className:`w-full py-2 px-3 rounded-lg text-sm font-medium transition-colors ${t.available?"bg-gradient-to-r from-green-500 to-blue-500 text-white hover:from-green-600 hover:to-blue-600":"bg-gray-300 text-gray-500 cursor-not-allowed"}`,disabled:!t.available,onClick:o=>{o.stopPropagation(),t.available&&r()},children:t.available?"Buy Now":"Unavailable"})]})}function Du({searchQuery:t,onSearch:r,onClear:s}){const[a,n]=d.useState(t),o=i=>{n(i),r(i)},x=()=>{n(""),s()};return e.jsxs("div",{className:"mb-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("div",{className:"absolute left-3 top-1/2 -translate-y-1/2",children:e.jsx(Lt,{className:"w-5 h-5 text-gray-400"})}),e.jsx(ie,{type:"text",placeholder:"Search vouchers...",value:a,onChange:i=>o(i.target.value),style:{paddingLeft:"40px",paddingRight:a?"40px":"12px",fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"400",borderRadius:"12px",minHeight:"44px",border:"1px solid #e2e8f0",backgroundColor:"#ffffff"},"aria-label":"Search vouchers by name or description"}),a&&e.jsx("button",{onClick:x,className:"absolute right-3 top-1/2 -translate-y-1/2 hover:bg-gray-100 rounded-full p-1",style:{minWidth:"28px",minHeight:"28px"},"aria-label":"Clear search",children:e.jsx(je,{className:"w-4 h-4 text-gray-400"})})]}),!a&&e.jsxs("div",{className:"mt-3",children:[e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",color:"#6b7280",marginBottom:"8px"},children:"Popular searches:"}),e.jsx("div",{className:"flex flex-wrap gap-2",children:["Netflix","Google Play","DStv","Betway","MMVoucher"].map(i=>e.jsx("button",{onClick:()=>o(i),className:"px-3 py-1 bg-gray-100 rounded-full hover:bg-[#2D8CCA]/10 hover:text-[#2D8CCA] transition-all duration-200",style:{fontFamily:"Montserrat, sans-serif",fontSize:"11px",fontWeight:"500",color:"#6b7280"},children:i},i))})]})]})}var ds="Checkbox",[ku,em]=Ar(ds),[Su,la]=ku(ds);function Mu(t){const{__scopeCheckbox:r,checked:s,children:a,defaultChecked:n,disabled:o,form:x,name:i,onCheckedChange:h,required:f,value:m="on",internal_do_not_use_render:l}=t,[p,E]=es({prop:s,defaultProp:n??!1,onChange:h,caller:ds}),[c,g]=d.useState(null),[u,y]=d.useState(null),F=d.useRef(!1),j=c?!!x||!!c.closest("form"):!0,w={checked:p,disabled:o,setChecked:E,control:c,setControl:g,name:i,form:x,value:m,hasConsumerStoppedPropagationRef:F,required:f,defaultChecked:_t(n)?!1:n,isFormControl:j,bubbleInput:u,setBubbleInput:y};return e.jsx(Su,{scope:r,...w,children:Nu(l)?l(w):a})}var jo="CheckboxTrigger",Do=d.forwardRef(({__scopeCheckbox:t,onKeyDown:r,onClick:s,...a},n)=>{const{control:o,value:x,disabled:i,checked:h,required:f,setControl:m,setChecked:l,hasConsumerStoppedPropagationRef:p,isFormControl:E,bubbleInput:c}=la(jo,t),g=ir(n,m),u=d.useRef(h);return d.useEffect(()=>{const y=o==null?void 0:o.form;if(y){const F=()=>l(u.current);return y.addEventListener("reset",F),()=>y.removeEventListener("reset",F)}},[o,l]),e.jsx(et.button,{type:"button",role:"checkbox","aria-checked":_t(h)?"mixed":h,"aria-required":f,"data-state":Ro(h),"data-disabled":i?"":void 0,disabled:i,value:x,...a,ref:g,onKeyDown:yt(r,y=>{y.key==="Enter"&&y.preventDefault()}),onClick:yt(s,y=>{l(F=>_t(F)?!0:!F),c&&E&&(p.current=y.isPropagationStopped(),p.current||y.stopPropagation())})})});Do.displayName=jo;var ko=d.forwardRef((t,r)=>{const{__scopeCheckbox:s,name:a,checked:n,defaultChecked:o,required:x,disabled:i,value:h,onCheckedChange:f,form:m,...l}=t;return e.jsx(Mu,{__scopeCheckbox:s,checked:n,defaultChecked:o,disabled:i,required:x,onCheckedChange:f,name:a,form:m,value:h,internal_do_not_use_render:({isFormControl:p})=>e.jsxs(e.Fragment,{children:[e.jsx(Do,{...l,ref:r,__scopeCheckbox:s}),p&&e.jsx(Po,{__scopeCheckbox:s})]})})});ko.displayName=ds;var So="CheckboxIndicator",Mo=d.forwardRef((t,r)=>{const{__scopeCheckbox:s,forceMount:a,...n}=t,o=la(So,s);return e.jsx(ts,{present:a||_t(o.checked)||o.checked===!0,children:e.jsx(et.span,{"data-state":Ro(o.checked),"data-disabled":o.disabled?"":void 0,...n,ref:r,style:{pointerEvents:"none",...t.style}})})});Mo.displayName=So;var No="CheckboxBubbleInput",Po=d.forwardRef(({__scopeCheckbox:t,...r},s)=>{const{control:a,hasConsumerStoppedPropagationRef:n,checked:o,defaultChecked:x,required:i,disabled:h,name:f,value:m,form:l,bubbleInput:p,setBubbleInput:E}=la(No,t),c=ir(s,E),g=Za(o),u=Qa(a);d.useEffect(()=>{const F=p;if(!F)return;const j=window.HTMLInputElement.prototype,M=Object.getOwnPropertyDescriptor(j,"checked").set,R=!n.current;if(g!==o&&M){const D=new Event("click",{bubbles:R});F.indeterminate=_t(o),M.call(F,_t(o)?!1:o),F.dispatchEvent(D)}},[p,g,o,n]);const y=d.useRef(_t(o)?!1:o);return e.jsx(et.input,{type:"checkbox","aria-hidden":!0,defaultChecked:x??y.current,required:i,disabled:h,name:f,value:m,form:l,...r,tabIndex:-1,ref:c,style:{...r.style,...u,position:"absolute",pointerEvents:"none",opacity:0,margin:0,transform:"translateX(-100%)"}})});Po.displayName=No;function Nu(t){return typeof t=="function"}function _t(t){return t==="indeterminate"}function Ro(t){return _t(t)?"indeterminate":t?"checked":"unchecked"}function Pu({className:t,...r}){return e.jsx(ko,{"data-slot":"checkbox",className:pe("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...r,children:e.jsx(Mo,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:e.jsx(Me,{className:"size-3.5"})})})}function Ru({voucher:t,isOpen:r,onClose:s}){const[a,n]=d.useState(null),[o,x]=d.useState({phone:"",sendToSelf:!0,isVerified:!1,verificationStatus:"idle"}),[i,h]=d.useState("selection"),[f,m]=d.useState({}),[l,p]=d.useState(!1),[E,c]=d.useState(""),[g,u]=d.useState("");sn.useEffect(()=>{r&&(n(null),x({phone:"",sendToSelf:!0,isVerified:!1,verificationStatus:"idle"}),h("selection"),m({}),p(!1),c(""),u(""))},[r]);const y=v=>{const T=v.trim().replace(/\s/g,"");return/^(\+27|27|0)?[6-8][0-9]{8}$/.test(T)},F=v=>{n(v),m({})},j=async v=>{try{const T=await Ge.verifyMMWalletHolder(v);return{isValid:T.isValid,recipientName:T.recipientName}}catch(T){return console.error("Error verifying MMWallet holder:",T),{isValid:!1}}},w=async(v,T)=>{if(v==="sendToSelf"){const I=!!T;x(B=>({...B,sendToSelf:I,phone:"",isVerified:!1,verificationStatus:"idle",recipientName:void 0})),m({phone:void 0});return}if(v==="phone"){const I=T;if(x(B=>({...B,phone:I,isVerified:!1,verificationStatus:"idle",recipientName:void 0})),f.phone&&m(B=>({...B,phone:void 0})),I.length>=10){x(B=>({...B,verificationStatus:"verifying"}));try{const B=await j(I);B.isValid?x(N=>({...N,isVerified:!0,verificationStatus:"verified",recipientName:B.recipientName})):(x(N=>({...N,isVerified:!1,verificationStatus:"failed"})),m(N=>({...N,phone:"This phone number is not registered with MMWallet"})))}catch{x(N=>({...N,isVerified:!1,verificationStatus:"failed"})),m(N=>({...N,phone:"Unable to verify MMWallet. Please try again."}))}}}else x(I=>({...I,[v]:T}))},M=()=>{const v={};return a?(o.sendToSelf||(o.phone.trim()?y(o.phone)?o.isVerified||(v.phone="Please wait for MMWallet verification to complete"):v.phone="Please enter a valid SA mobile number":v.phone="Please enter the recipient's MMWallet phone number"),m(v),Object.keys(v).length===0):!1},R=async()=>{if(M()){p(!0),h("processing");try{const v={voucherId:t.id,denomination:a,recipientPhone:o.sendToSelf?void 0:o.phone,recipientName:o.recipientName},T=await Ge.purchaseVoucher(v);c(T.voucherCode),u(T.transactionRef),h("success")}catch(v){console.error("Error purchasing voucher:",v),h("error")}finally{p(!1)}}},D=()=>{i!=="processing"&&s()},b=v=>new Intl.NumberFormat("en-ZA",{style:"currency",currency:"ZAR"}).format(v/100),P=()=>{switch(i){case"selection":return e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"text-center",children:[e.jsx("div",{className:"text-4xl mb-2",children:t.icon}),e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:t.name}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:t.description}),e.jsxs("div",{className:"flex items-center justify-center gap-2",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",color:"#6b7280",backgroundColor:"#f3f4f6",padding:"4px 8px",borderRadius:"6px"},children:t.category}),t.featured&&e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",fontWeight:"500",color:"#ffffff",backgroundColor:"#f59e0b",padding:"4px 8px",borderRadius:"6px"},children:"Featured"})]})]}),e.jsx(qt,{}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"12px",display:"block"},children:"Select Amount"}),e.jsx("div",{className:"grid grid-cols-3 gap-3",children:t.denominations.map(v=>e.jsx(O,{variant:a===v?"default":"outline",onClick:()=>F(v),style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"12px",minHeight:"48px",backgroundColor:a===v?"#86BE41":"transparent",borderColor:a===v?"#86BE41":"#d1d5db",color:a===v?"#ffffff":"#374151"},children:b(v)},v))})]}),e.jsx(qt,{}),e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"12px",display:"block"},children:"Recipient"}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center space-x-3",children:[e.jsx(Pu,{id:"send-to-self",checked:o.sendToSelf,onCheckedChange:v=>w("sendToSelf",v)}),e.jsx(X,{htmlFor:"send-to-self",style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",cursor:"pointer"},children:"Send to myself"})]}),!o.sendToSelf&&e.jsx("div",{className:"space-y-3",children:e.jsxs("div",{children:[e.jsx(X,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",color:"#374151",marginBottom:"8px",display:"block"},children:"Recipient's MMWallet Phone Number"}),e.jsxs("div",{className:"relative",children:[e.jsx(Yt,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-gray-400"}),e.jsx(ie,{type:"tel",placeholder:"Enter phone number",value:o.phone,onChange:v=>w("phone",v.target.value),style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",paddingLeft:"40px",borderRadius:"12px",minHeight:"48px",borderColor:f.phone?"#ef4444":"#d1d5db"}}),o.verificationStatus==="verifying"&&e.jsx("div",{className:"absolute right-3 top-1/2 transform -translate-y-1/2",children:e.jsx("div",{className:"w-4 h-4 border-2 border-gray-300 border-t-blue-500 rounded-full animate-spin"})}),o.verificationStatus==="verified"&&e.jsx(Me,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-green-500"}),o.verificationStatus==="failed"&&e.jsx(Ie,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 w-4 h-4 text-red-500"})]}),f.phone&&e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#ef4444",marginTop:"4px"},children:f.phone}),o.recipientName&&e.jsxs("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"12px",color:"#10b981",marginTop:"4px"},children:["âœ“ ",o.recipientName]})]})})]})]}),e.jsx(qt,{}),e.jsx(O,{onClick:R,disabled:!a||l,style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",borderRadius:"12px",minHeight:"52px",backgroundColor:a?"#86BE41":"#9ca3af",width:"100%"},children:l?"Processing...":`Purchase ${a?b(a):"Voucher"}`})]});case"processing":return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{style:{width:"64px",height:"64px",margin:"0 auto 24px",border:"4px solid #e2e8f0",borderTop:"4px solid #86BE41",borderRadius:"50%",animation:"spin 1s linear infinite"}}),e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"Processing Your Purchase"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Please wait while we process your voucher..."})]});case"success":return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Me,{className:"w-8 h-8 text-green-600"})}),e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"Purchase Successful!"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",marginBottom:"24px"},children:"Your voucher has been purchased successfully"}),e.jsx(oe,{style:{marginBottom:"16px"},children:e.jsx(ce,{className:"p-4",children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Voucher Code:"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:E})]}),e.jsxs("div",{className:"flex justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Transaction Ref:"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"600",color:"#1f2937"},children:g})]})]})})}),e.jsx(O,{onClick:D,style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",borderRadius:"12px",minHeight:"52px",backgroundColor:"#86BE41",width:"100%"},children:"Done"})]});case"error":return e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-6 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(Ie,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"Purchase Failed"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",marginBottom:"24px"},children:"There was an error processing your purchase. Please try again."}),e.jsxs("div",{className:"space-y-3",children:[e.jsx(O,{onClick:()=>h("selection"),style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",borderRadius:"12px",minHeight:"52px",backgroundColor:"#86BE41",width:"100%"},children:"Try Again"}),e.jsx(O,{variant:"outline",onClick:D,style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",borderRadius:"12px",minHeight:"52px",borderColor:"#d1d5db",color:"#374151",width:"100%"},children:"Cancel"})]})]});default:return null}};return e.jsx(Le,{open:r,onOpenChange:D,children:e.jsxs(_e,{style:{fontFamily:"Montserrat, sans-serif",maxWidth:"400px",width:"90vw",borderRadius:"16px",padding:"24px"},children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:i==="selection"?"Purchase Voucher":i==="processing"?"Processing...":i==="success"?"Success!":"Error"}),i==="selection"&&e.jsx(Gs,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Complete your voucher purchase"})]}),P(),e.jsx("style",{children:`
            @keyframes spin {
              0% { transform: rotate(0deg); }
              100% { transform: rotate(360deg); }
            }
          `})]})})}function zu(){const t=Ne(),[r,s]=d.useState([]),[a,n]=d.useState([]),[o,x]=d.useState(""),[i,h]=d.useState(!0),[f,m]=d.useState(null),[l,p]=d.useState(null),[E,c]=d.useState(!1),[g,u]=d.useState([]),[y,F]=d.useState(0);d.useEffect(()=>{j(),w()},[]);const j=async()=>{try{console.log("ðŸ” Starting to load vouchers..."),h(!0),m(null),console.log("ðŸ“¡ Calling apiService.getVouchers()...");const B=await Ge.getVouchers();console.log("ðŸ“¦ API Response received:",B);const N=B.vouchers.map(C=>({id:C.id.toString(),name:C.name,brand:C.brand,category:C.category,minAmount:C.minAmount,maxAmount:C.maxAmount,icon:C.icon||"ðŸŽ",description:C.description,available:!0,featured:!1,denominations:C.denominations||[]}));console.log("ðŸ”„ Transformed vouchers:",N.length),s(N),n(N),console.log("âœ… Vouchers loaded successfully")}catch(B){console.error("âŒ Error loading vouchers:",B),m("Failed to load vouchers. Please try again.")}finally{h(!1)}},w=async()=>{try{const B=await Ge.getUserFavorites(),N=B.favorites.map(C=>C.id);u(N),F(B.count),s(C=>C.map(L=>({...L,featured:N.includes(L.id)}))),n(C=>C.map(L=>({...L,featured:N.includes(L.id)})))}catch(B){console.error("âŒ Error loading favorites:",B)}},M=async(B,N)=>{try{N?(await Ge.addToFavorites(B),u(C=>[...C,B]),F(C=>C+1)):(await Ge.removeFromFavorites(B),u(C=>C.filter(L=>L!==B)),F(C=>C-1)),s(C=>C.map(L=>L.id===B?{...L,featured:N}:L)),n(C=>C.map(L=>L.id===B?{...L,featured:N}:L))}catch(C){console.error("âŒ Error toggling favorite:",C)}},R=B=>{if(x(B),!B.trim()){n(r);return}const N=r.filter(C=>C.name.toLowerCase().includes(B.toLowerCase())||C.brand.toLowerCase().includes(B.toLowerCase())||C.category.toLowerCase().includes(B.toLowerCase())||C.description.toLowerCase().includes(B.toLowerCase()));n(N)},D=B=>{p(B),c(!0)},b=()=>{c(!1),p(null)},P=()=>{x(""),n(r)},v=()=>{t("/transact")},T=r.filter(B=>B.featured).slice(0,12),I=a.filter(B=>!B.featured);return e.jsxs("div",{style:{backgroundColor:"#ffffff",minHeight:"100vh",fontFamily:"Montserrat, sans-serif",padding:"var(--mobile-padding)"},children:[e.jsxs("div",{className:"flex items-center justify-between mb-6",children:[e.jsxs(O,{variant:"ghost",onClick:v,style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"500",color:"#374151",padding:"8px",borderRadius:"8px"},children:[e.jsx(Re,{className:"w-5 h-5 mr-2"}),"Back"]}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"20px",fontWeight:"600",color:"#1f2937"},children:"Digital Vouchers"}),e.jsx("div",{style:{width:"40px"}})," "]}),e.jsx(Du,{searchQuery:o,onSearch:R,onClear:P}),f&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-red-100 rounded-full flex items-center justify-center",children:e.jsx(je,{className:"w-8 h-8 text-red-600"})}),e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"Error Loading Vouchers"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280",marginBottom:"16px"},children:f}),e.jsx(O,{onClick:j,style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",fontWeight:"500",borderRadius:"12px",minHeight:"44px",backgroundColor:"#86BE41"},children:"Try Again"})]}),i&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-blue-100 rounded-full flex items-center justify-center",children:e.jsx("div",{className:"w-8 h-8 border-4 border-blue-600 border-t-transparent rounded-full animate-spin"})}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Loading vouchers..."})]}),!i&&!f&&y>0&&e.jsxs("div",{className:"mb-8",children:[e.jsxs("div",{className:"flex items-center justify-between mb-4",children:[e.jsxs("div",{className:"flex items-center",children:[e.jsx(Mt,{className:"w-5 h-5 text-yellow-500 mr-2"}),e.jsx("h2",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"600",color:"#1f2937"},children:"Favorite Vouchers"})]}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:[y,"/12"]})]}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:T.map(B=>e.jsx(Oa,{voucher:B,onSelect:()=>D(B),showFavoriteStar:!0,onToggleFavorite:N=>M(B.id,N)},B.id))})]}),!i&&!f&&I.length>0&&e.jsxs("div",{className:"mb-6",children:[e.jsx("h2",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"18px",fontWeight:"600",color:"#1f2937",marginBottom:"16px"},children:"All Vouchers"}),e.jsx("div",{className:"grid grid-cols-3 gap-4",children:I.map(B=>e.jsx(Oa,{voucher:B,onSelect:()=>D(B),showFavoriteStar:!0,disabled:g.length>=12&&!B.featured,onToggleFavorite:N=>M(B.id,N)},B.id))})]}),!i&&!f&&a.length===0&&e.jsxs("div",{className:"text-center py-8",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-gray-100 rounded-full flex items-center justify-center",children:e.jsx(je,{className:"w-8 h-8 text-gray-400"})}),e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"16px",fontWeight:"600",color:"#1f2937",marginBottom:"8px"},children:"No vouchers found"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"14px",color:"#6b7280"},children:"Try adjusting your search"})]}),E&&l&&e.jsx(Ru,{voucher:l,isOpen:E,onClose:b})]})}var ca="Progress",da=100,[Tu,tm]=Ar(ca),[Iu,Wu]=Tu(ca),zo=d.forwardRef((t,r)=>{const{__scopeProgress:s,value:a=null,max:n,getValueLabel:o=_u,...x}=t;(n||n===0)&&!Va(n)&&console.error($u(`${n}`,"Progress"));const i=Va(n)?n:da;a!==null&&!Ua(a,i)&&console.error(Lu(`${a}`,"Progress"));const h=Ua(a,i)?a:null,f=Jr(h)?o(h,i):void 0;return e.jsx(Iu,{scope:s,value:h,max:i,children:e.jsx(et.div,{"aria-valuemax":i,"aria-valuemin":0,"aria-valuenow":Jr(h)?h:void 0,"aria-valuetext":f,role:"progressbar","data-state":Wo(h,i),"data-value":h??void 0,"data-max":i,...x,ref:r})})});zo.displayName=ca;var To="ProgressIndicator",Io=d.forwardRef((t,r)=>{const{__scopeProgress:s,...a}=t,n=Wu(To,s);return e.jsx(et.div,{"data-state":Wo(n.value,n.max),"data-value":n.value??void 0,"data-max":n.max,...a,ref:r})});Io.displayName=To;function _u(t,r){return`${Math.round(t/r*100)}%`}function Wo(t,r){return t==null?"indeterminate":t===r?"complete":"loading"}function Jr(t){return typeof t=="number"}function Va(t){return Jr(t)&&!isNaN(t)&&t>0}function Ua(t,r){return Jr(t)&&!isNaN(t)&&t<=r&&t>=0}function $u(t,r){return`Invalid prop \`max\` of value \`${t}\` supplied to \`${r}\`. Only numbers greater than 0 are valid max values. Defaulting to \`${da}\`.`}function Lu(t,r){return`Invalid prop \`value\` of value \`${t}\` supplied to \`${r}\`. The \`value\` prop must be:
  - a positive number
  - less than the value passed to \`max\` (or ${da} if no \`max\` prop is set)
  - \`null\` or \`undefined\` if the progress is indeterminate.

Defaulting to \`null\`.`}var Ou=zo,Vu=Io;function Ws({className:t,value:r,...s}){return e.jsx(Ou,{"data-slot":"progress",className:pe("bg-primary/20 relative h-2 w-full overflow-hidden rounded-full",t),...s,children:e.jsx(Vu,{"data-slot":"progress-indicator",className:"bg-primary h-full w-full flex-1 transition-all",style:{transform:`translateX(-${100-(r||0)}%)`}})})}function Ha(){var v;const{user:t,updateKYCStatus:r}=Ze(),s=Ne(),[a,n]=d.useState(!1),[o,x]=d.useState(""),[i,h]=d.useState(0),[f,m]=d.useState(0),[l,p]=d.useState(null),E=d.useRef(null),[c,g]=d.useState({identity:{type:"identity",file:null,preview:null,status:"pending"}}),[u,y]=d.useState(!1),[F,j]=d.useState("identity");if((t==null?void 0:t.kycStatus)==="verified")return e.jsx(qr,{to:"/dashboard",replace:!0});const w=(T,I)=>{if(!["image/jpeg","image/png","image/jpg"].includes(I.type)){x("Please upload an image file (JPEG or PNG). PDF files are not supported for OCR processing.");return}g(N=>({...N,[T]:{type:T,file:I,preview:URL.createObjectURL(I),status:"uploaded"}})),x("")},M=async T=>{j(T);try{const I=await navigator.mediaDevices.getUserMedia({video:{facingMode:"environment",width:{ideal:1920},height:{ideal:1080}}});y(!0),I.getTracks().forEach(B=>B.stop())}catch(I){x("Camera not available. Please use file upload instead."),console.error("Camera access failed:",I)}},R=T=>{var B;(B=E.current)==null||B.click()},D=T=>{g(I=>({...I,[T]:{...I[T],file:null,preview:null,status:"pending",error:void 0}})),c[T].preview&&URL.revokeObjectURL(c[T].preview)},b=async()=>{var T;x(""),n(!0),h(0);try{if(!c.identity.file)throw new Error("Please upload your identity document (SAID, Passport, Driving License, or Temporary ID Certificate)");for(let L=0;L<=100;L+=10)h(L),await new Promise(S=>setTimeout(S,200));const I=new FormData;I.append("identityDocument",c.identity.file),I.append("retryCount",String(f));const B=Ee();if(!B)throw new Error("No authentication token found");const N=await fetch(`${he.API.baseUrl}/api/v1/kyc/upload-documents?_t=${Date.now()}`,{method:"POST",body:I,headers:{Authorization:`Bearer ${B}`}});if(!N.ok){const L=await N.json().catch(()=>({})),S=L.message||L.error||"Failed to upload documents";throw new Error(S)}const C=await N.json();if(!C.success&&(C.status==="retry"||C.status==="failed")){const L=((T=C==null?void 0:C.validation)==null?void 0:T.issues)||[],S=["Upload a clear photo of your SA ID card/book or a passport","Ensure the whole document is visible with good lighting (no glare)",`The name must match your profile: ${(t==null?void 0:t.firstName)||""} ${(t==null?void 0:t.lastName)||""}`.trim(),"Only images are supported (JPG/PNG), max 10MB"];p({title:C.message||"We couldn't verify your identity yet",issues:L,tips:S,canRetry:(C==null?void 0:C.canRetry)===!0}),x(""),C.status==="retry"&&m(A=>A+1),n(!1);return}r&&(C.success&&C.status==="approved"?r("verified"):r("documents_uploaded")),s("/kyc/status")}catch(I){x(I instanceof Error?I.message:"Upload failed. Please try again.")}finally{n(!1)}},P=!c.identity.file||a;return e.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-[#86BE41] to-[#2D8CCA]",children:[e.jsxs("div",{className:"max-w-sm mx-auto bg-gradient-to-br from-[#86BE41] to-[#2D8CCA] min-h-screen flex flex-col",children:[e.jsxs("div",{style:{padding:"var(--mobile-padding)",paddingTop:"2rem",paddingBottom:"1.5rem"},children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>s("/dashboard"),className:"inline-flex items-center text-white/90 hover:text-white transition-colors touch-target",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",minHeight:"var(--mobile-touch-target)"},children:[e.jsx(Re,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:"Back to Dashboard"})]})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center",children:e.jsx(Et,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"var(--font-weight-bold)",color:"white",marginBottom:"0.5rem"},children:"Verify Your Identity"}),e.jsx("p",{className:"text-white/90",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)"},children:"Upload your documents to unlock full wallet features"})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"Documents Required"}),e.jsxs("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:[c.identity.file?1:0,"/1"]})]}),e.jsx(Ws,{value:c.identity.file?100:0,className:"h-2 bg-white/20"})]})]}),e.jsxs("div",{className:"flex-1",style:{padding:"var(--mobile-padding)",paddingBottom:"2rem"},children:[l&&e.jsx(oe,{className:"border-0 shadow-xl mb-4",style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{className:"pt-4 pb-4",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Ie,{className:"h-5 w-5 text-red-600 mt-1"}),e.jsxs("div",{className:"flex-1",children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontWeight:"var(--font-weight-bold)",color:"#991b1b"},children:l.title}),((v=l.issues)==null?void 0:v.length)>0&&e.jsx("ul",{className:"list-disc pl-5 mt-2 text-red-700",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:l.issues.map((T,I)=>e.jsx("li",{children:T},I))}),e.jsxs("div",{className:"mt-3 text-gray-700",children:[e.jsx("p",{className:"font-medium",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"How to fix:"}),e.jsx("ul",{className:"list-disc pl-5 mt-1",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:l.tips.map((T,I)=>e.jsx("li",{children:T},I))})]}),e.jsxs("div",{className:"mt-3 flex gap-2",children:[e.jsx(O,{onClick:()=>{var T;p(null),m(f),(T=E.current)==null||T.click()},className:"bg-[#86BE41] hover:bg-[#7AB139]",children:"Try Again"}),e.jsx(O,{variant:"outline",onClick:()=>{p(null),D("identity")},className:"border-[#2D8CCA] text-[#2D8CCA] hover:bg-[#2D8CCA] hover:text-white",children:"Remove & Start Over"})]})]})]})})}),o&&!l&&e.jsxs(Ke,{className:"border-red-200 bg-red-50 mb-4",children:[e.jsx(Ie,{className:"h-4 w-4 text-red-600"}),e.jsx(Je,{className:"text-red-700",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)"},children:o})]}),e.jsxs("div",{className:"space-y-4",children:[e.jsxs(oe,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl",style:{borderRadius:"var(--mobile-border-radius)"},children:[e.jsxs(Ae,{className:"pb-4",children:[e.jsxs(we,{className:"flex items-center gap-3",style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1rem, 2.5vw, 1.125rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937"},children:[e.jsx("div",{className:"bg-gradient-to-r from-[#86BE41]/20 to-[#2D8CCA]/20 rounded-xl w-10 h-10 flex items-center justify-center",children:e.jsx(St,{className:"w-5 h-5 text-[#86BE41]"})}),"Identity Document",c.identity.file&&e.jsx(Me,{className:"w-5 h-5 text-green-500 ml-auto"})]}),e.jsx("p",{className:"text-gray-600",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)"},children:"Upload your South African ID document or Passport"})]}),e.jsxs(ce,{children:[c.identity.file?e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"relative bg-gray-50 rounded-lg p-4 border border-gray-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx($t,{className:"w-8 h-8 text-[#86BE41] flex-shrink-0"}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("p",{className:"font-medium truncate",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)"},children:c.identity.file.name}),e.jsxs("p",{className:"text-gray-500",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:[(c.identity.file.size/1024/1024).toFixed(2)," MB"]})]}),e.jsx("button",{onClick:()=>D("identity"),className:"p-1 hover:bg-gray-200 rounded touch-target",style:{minHeight:"var(--mobile-touch-target)",minWidth:"var(--mobile-touch-target)"},children:e.jsx(je,{className:"w-4 h-4 text-gray-500"})})]}),c.identity.preview&&e.jsx("div",{className:"mt-3",children:e.jsx("img",{src:c.identity.preview,alt:"Identity document preview",className:"w-full h-32 object-cover rounded border"})})]}),e.jsxs(O,{onClick:()=>R(),variant:"outline",className:"w-full border-[#86BE41] text-[#86BE41] hover:bg-[#86BE41] hover:text-white",style:{height:"2.5rem",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:[e.jsx(Rs,{className:"w-4 h-4 mr-2"}),"Replace Document"]})]}):e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs(O,{onClick:()=>M("identity"),variant:"outline",className:"h-20 flex-col border-[#86BE41] text-[#86BE41] hover:bg-[#86BE41] hover:text-white",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:[e.jsx(Ns,{className:"w-6 h-6 mb-1"}),"Take Photo"]}),e.jsxs(O,{onClick:()=>R(),variant:"outline",className:"h-20 flex-col border-[#86BE41] text-[#86BE41] hover:bg-[#86BE41] hover:text-white",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:[e.jsx(Rs,{className:"w-6 h-6 mb-1"}),"Browse Files"]})]}),e.jsx("p",{className:"text-xs text-gray-500 text-center",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"Accepted: JPG, PNG (Max 10MB)"})]}),e.jsx("input",{ref:E,type:"file",accept:"image/*",className:"hidden",onChange:T=>{var B;const I=(B=T.target.files)==null?void 0:B[0];I&&w("identity",I)}})]})]}),a&&i>0&&e.jsx(oe,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl",style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{style:{paddingTop:"1.5rem"},children:e.jsxs("div",{className:"space-y-3",children:[e.jsxs("div",{className:"flex items-center justify-between",children:[e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)"},children:"Uploading Documents..."}),e.jsxs("span",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:[i,"%"]})]}),e.jsx(Ws,{value:i,className:"h-2"})]})})}),e.jsx(O,{onClick:b,disabled:P,className:"w-full bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] hover:from-[#7AB139] hover:to-[#2680B8] text-white",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:a?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 animate-spin mr-2"}),e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif"},children:"Uploading Documents..."})]}):e.jsx("span",{style:{fontFamily:"Montserrat, sans-serif"},children:"Submit for Verification"})}),e.jsx(oe,{className:"bg-white/90 backdrop-blur-sm border-0 shadow-lg",style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{style:{paddingTop:"1.5rem",paddingBottom:"1.5rem"},children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx(Nt,{className:"w-5 h-5 text-[#2D8CCA] mt-0.5 flex-shrink-0"}),e.jsxs("div",{children:[e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-bold)",marginBottom:"0.5rem",color:"#1f2937"},children:"Need Help?"}),e.jsx("p",{className:"text-gray-600 mb-3",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)"},children:"Make sure your documents are clear, well-lit, and all corners are visible. Processing typically takes 2-5 minutes."}),e.jsxs("div",{className:"space-y-2 text-xs text-gray-600",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:[e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{children:"Clear, high-quality images"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{children:"All text must be readable"})]}),e.jsxs("div",{className:"flex items-center gap-2",children:[e.jsx(Me,{className:"w-3 h-3 text-green-500"}),e.jsx("span",{children:"Document must be less than 3 months old (POA)"})]})]})]})]})})})]})]})]}),u&&e.jsx(Le,{open:u,onOpenChange:y,children:e.jsxs(_e,{className:"max-w-sm mx-auto","aria-describedby":"kyc-camera-description",children:[e.jsxs(Ve,{children:[e.jsx(Ue,{style:{fontFamily:"Montserrat, sans-serif"},children:"Camera Capture"}),e.jsx("div",{id:"kyc-camera-description",className:"sr-only",children:"Camera interface for capturing KYC documents"})]}),e.jsxs("div",{className:"p-4 text-center space-y-4",children:[e.jsx(Ns,{className:"w-12 h-12 mx-auto text-gray-400"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"Camera interface would be implemented here with full document capture functionality."}),e.jsx(O,{onClick:()=>y(!1),className:"w-full",style:{fontFamily:"Montserrat, sans-serif"},children:"Use File Upload Instead"})]})]})})]})}function Uu(){const{user:t,refreshUserStatus:r}=Ze(),s=Ne(),[a,n]=d.useState(!1),[o,x]=d.useState("2-5 minutes"),i=c=>[{id:"upload",title:"Documents Uploaded",description:"Your identity and address documents have been received",status:c==="not_started"?"pending":"completed",icon:e.jsx($t,{className:"w-5 h-5"})},{id:"review",title:"Under Review",description:"Our team is verifying your documents using secure OCR technology",status:c==="under_review"?"current":c==="verified"||c==="rejected"?"completed":"pending",icon:e.jsx(kt,{className:"w-5 h-5"})},{id:"complete",title:c==="rejected"?"Action Required":"Verification Complete",description:c==="rejected"?"Some documents need to be re-submitted":"Your identity has been verified successfully",status:c==="verified"?"completed":c==="rejected"?"current":"pending",icon:c==="rejected"?e.jsx(Ie,{className:"w-5 h-5"}):e.jsx($e,{className:"w-5 h-5"})}],h=async()=>{n(!0);try{const c=Ee();if(!c)throw new Error("No authentication token found");const g=await fetch("/api/v1/kyc/status",{headers:{Authorization:`Bearer ${c}`,"Content-Type":"application/json"}});if(!g.ok)throw new Error("Failed to fetch KYC status");const u=await g.json();r&&await r()}catch(c){console.error("Failed to refresh status:",c)}finally{n(!1)}},f=c=>{switch(c){case"not_started":return 0;case"documents_uploaded":return 33;case"under_review":return 66;case"verified":return 100;case"rejected":return 50;default:return 0}},m=c=>{switch(c){case"documents_uploaded":return"Your documents have been uploaded and are queued for review.";case"under_review":return"Our verification team is currently reviewing your documents.";case"verified":return"Congratulations! Your identity has been verified. You are now at Tier 1 with transaction limits up to R4,999.99 per transaction.";case"rejected":return"Some documents need to be re-submitted for verification.";default:return"Please upload your documents to begin verification."}},l=(t==null?void 0:t.kycStatus)||"not_started",p=i(l),E=f(l);return d.useEffect(()=>{if(l==="documents_uploaded"||l==="under_review"){const c=setInterval(()=>{h()},3e4);return()=>clearInterval(c)}},[l]),e.jsx("div",{className:"min-h-screen bg-gradient-to-br from-[#86BE41] to-[#2D8CCA]",children:e.jsxs("div",{className:"max-w-sm mx-auto bg-gradient-to-br from-[#86BE41] to-[#2D8CCA] min-h-screen flex flex-col",children:[e.jsxs("div",{style:{padding:"var(--mobile-padding)",paddingTop:"2rem",paddingBottom:"1.5rem"},children:[e.jsx("div",{className:"mb-4",children:e.jsxs("button",{onClick:()=>s(l==="verified"?"/dashboard":"/kyc/documents"),className:"inline-flex items-center text-white/90 hover:text-white transition-colors touch-target",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",minHeight:"var(--mobile-touch-target)"},children:[e.jsx(Re,{className:"w-5 h-5 mr-2"}),e.jsx("span",{children:l==="verified"?"Back to Dashboard":"Back to Documents"})]})}),e.jsxs("div",{className:"text-center mb-6",children:[e.jsx("div",{className:"w-16 h-16 mx-auto mb-4 bg-white/20 backdrop-blur-sm rounded-3xl flex items-center justify-center",children:l==="verified"?e.jsx($e,{className:"w-8 h-8 text-white"}):l==="rejected"?e.jsx(Ie,{className:"w-8 h-8 text-white"}):l==="under_review"?e.jsx(kt,{className:"w-8 h-8 text-white"}):e.jsx(Et,{className:"w-8 h-8 text-white"})}),e.jsx("h1",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1.25rem, 3vw, 1.5rem)",fontWeight:"var(--font-weight-bold)",color:"white",marginBottom:"0.5rem"},children:l==="verified"?"Verification Complete!":l==="rejected"?"Action Required":l==="under_review"?"Under Review":"Verification Status"}),e.jsx("p",{className:"text-white/90",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-normal)"},children:m(l)})]}),e.jsxs("div",{className:"mb-4",children:[e.jsxs("div",{className:"flex items-center justify-between mb-2",children:[e.jsx("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"Verification Progress"}),e.jsxs("span",{className:"text-white/80",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:[E,"%"]})]}),e.jsx(Ws,{value:E,className:"h-2 bg-white/20"})]}),(l==="documents_uploaded"||l==="under_review")&&e.jsx("div",{className:"text-center",children:e.jsx(O,{onClick:h,disabled:a,variant:"outline",className:"text-white border-white/30 hover:bg-white/10",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)"},children:a?e.jsxs(e.Fragment,{children:[e.jsx(Qe,{className:"w-4 h-4 animate-spin mr-2"}),"Checking..."]}):e.jsxs(e.Fragment,{children:[e.jsx(Ps,{className:"w-4 h-4 mr-2"}),"Check Status"]})})})]}),e.jsx("div",{className:"flex-1",style:{padding:"var(--mobile-padding)",paddingBottom:"2rem"},children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs(oe,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl",style:{borderRadius:"var(--mobile-border-radius)"},children:[e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1rem, 2.5vw, 1.125rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937"},children:"Verification Steps"})}),e.jsx(ce,{children:e.jsx("div",{className:"space-y-4",children:p.map((c,g)=>e.jsxs("div",{className:"flex items-start gap-4",children:[e.jsx("div",{className:`w-10 h-10 rounded-full flex items-center justify-center flex-shrink-0 ${c.status==="completed"?"bg-green-100 text-green-600":c.status==="current"?"bg-[#2D8CCA]/10 text-[#2D8CCA]":"bg-gray-100 text-gray-400"}`,children:c.status==="completed"&&c.id!=="complete"?e.jsx($e,{className:"w-5 h-5"}):c.icon}),e.jsxs("div",{className:"flex-1 min-w-0",children:[e.jsx("h4",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",color:c.status==="current"?"#2D8CCA":"#1f2937"},children:c.title}),e.jsx("p",{className:"text-gray-600 mt-1",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)"},children:c.description}),c.status==="current"&&e.jsxs("div",{className:"mt-2 flex items-center gap-2",children:[e.jsx(yr,{className:"w-4 h-4 text-[#2D8CCA]"}),e.jsxs("span",{className:"text-[#2D8CCA]",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:["Estimated time: ",o]})]})]}),g<p.length-1&&e.jsx("div",{className:`absolute left-5 w-0.5 h-6 mt-10 ${c.status==="completed"?"bg-green-200":"bg-gray-200"}`})]},c.id))})})]}),l==="verified"&&e.jsxs(oe,{className:"bg-white/95 backdrop-blur-sm border-0 shadow-xl",style:{borderRadius:"var(--mobile-border-radius)"},children:[e.jsx(Ae,{children:e.jsx(we,{style:{fontFamily:"Montserrat, sans-serif",fontSize:"clamp(1rem, 2.5vw, 1.125rem)",fontWeight:"var(--font-weight-bold)",color:"#1f2937"},children:"Your KYC Tier & Limits"})}),e.jsx(ce,{children:e.jsxs("div",{className:"space-y-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 bg-gradient-to-r from-green-50 to-blue-50 rounded-lg border border-green-200",children:[e.jsxs("div",{className:"flex items-center gap-3",children:[e.jsx("div",{className:"w-10 h-10 bg-green-100 rounded-full flex items-center justify-center",children:e.jsx(Et,{className:"w-5 h-5 text-green-600"})}),e.jsxs("div",{children:[e.jsx("h4",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:"#1f2937"},children:"Tier 1 - Basic Verification"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#6b7280"},children:"ID document verified"})]})]}),e.jsx("div",{className:"text-right",children:e.jsx("div",{className:"text-green-600 font-semibold",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)"},children:"ACTIVE"})})]}),e.jsxs("div",{className:"space-y-3",children:[e.jsx("h5",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-bold)",color:"#374151"},children:"Transaction Limits"}),e.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[e.jsxs("div",{className:"p-3 bg-blue-50 rounded-lg border border-blue-200",children:[e.jsx("div",{className:"text-blue-600 font-semibold",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"Per Transaction"}),e.jsx("div",{className:"text-blue-800 font-bold",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)"},children:"R4,999.99"})]}),e.jsxs("div",{className:"p-3 bg-green-50 rounded-lg border border-green-200",children:[e.jsx("div",{className:"text-green-600 font-semibold",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)"},children:"Monthly Limit"}),e.jsx("div",{className:"text-green-800 font-bold",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)"},children:"R29,999.99"})]})]})]}),e.jsx("div",{className:"p-4 bg-amber-50 rounded-lg border border-amber-200",children:e.jsxs("div",{className:"flex items-start gap-3",children:[e.jsx("div",{className:"w-6 h-6 bg-amber-100 rounded-full flex items-center justify-center flex-shrink-0 mt-0.5",children:e.jsx("span",{className:"text-amber-600 text-sm",children:"ðŸ’¡"})}),e.jsxs("div",{children:[e.jsx("h6",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-bold)",color:"#92400e"},children:"Upgrade to Tier 2"}),e.jsx("p",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)",color:"#92400e"},children:"Upload proof of address to unlock higher limits: R100,000 per transaction, R500,000 monthly."}),e.jsx(O,{onClick:()=>s("/kyc/documents"),variant:"outline",size:"sm",className:"mt-2 border-amber-300 text-amber-700 hover:bg-amber-100",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)"},children:"Upload POA Document"})]})]})})]})})]}),e.jsxs("div",{className:"space-y-3",children:[l==="verified"&&e.jsx(O,{onClick:()=>s("/dashboard"),className:"w-full bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] hover:from-[#7AB139] hover:to-[#2680B8] text-white",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:"Continue to Dashboard"}),l==="rejected"&&e.jsx(O,{onClick:()=>s("/kyc/documents"),className:"w-full bg-gradient-to-r from-[#86BE41] to-[#2D8CCA] hover:from-[#7AB139] hover:to-[#2680B8] text-white",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:"Re-submit Documents"}),(l==="documents_uploaded"||l==="under_review")&&e.jsx(O,{onClick:()=>s("/dashboard"),variant:"outline",className:"w-full border-[#86BE41] text-[#86BE41] hover:bg-[#86BE41] hover:text-white",style:{height:"var(--mobile-touch-target)",fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-medium)",borderRadius:"var(--mobile-border-radius)"},children:"Return to Dashboard"})]}),e.jsx(oe,{className:"bg-white/90 backdrop-blur-sm border-0 shadow-lg",style:{borderRadius:"var(--mobile-border-radius)"},children:e.jsx(ce,{style:{paddingTop:"1.5rem",paddingBottom:"1.5rem"},children:e.jsxs("div",{className:"text-center space-y-3",children:[e.jsx(Et,{className:"w-8 h-8 mx-auto text-[#86BE41]"}),e.jsx("h3",{style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-base)",fontWeight:"var(--font-weight-bold)",color:"#1f2937"},children:"Your Data is Secure"}),e.jsx("p",{className:"text-gray-600",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-normal)"},children:"We use bank-grade encryption and secure OCR technology to verify your documents. Your personal information is protected and never shared without consent."}),(l==="documents_uploaded"||l==="under_review")&&e.jsx("div",{className:"mt-4 p-3 bg-blue-50 rounded-lg border border-blue-200",children:e.jsx("p",{className:"text-[#2D8CCA]",style:{fontFamily:"Montserrat, sans-serif",fontSize:"var(--mobile-font-small)",fontWeight:"var(--font-weight-medium)"},children:"ðŸ’¡ While you wait, you can still browse your wallet and make deposits. Full transaction features will be unlocked once verification is complete."})})]})})})]})})]})})}function Hu(){const t=lr(),s=!["/login","/register","/kyc","/kyc/documents","/kyc/status"].includes(t.pathname),n=["/dashboard","/send-money","/transact","/qr-payment","/vouchers","/profile","/transactions","/wallet-settings","/request-money","/services","/support","/feedback","/electricity","/bill-payments","/airtime-data-overlay","/electricity-overlay","/bill-payment-overlay","/flash-eezicash-overlay","/mmcash-retail-overlay","/atm-cashsend-overlay","/vouchers-overlay"].includes(t.pathname);return e.jsx("div",{style:{fontFamily:"Montserrat, sans-serif",backgroundColor:"#ffffff",height:"100vh",overflow:"hidden"},children:e.jsxs("div",{style:{maxWidth:"375px",margin:"0 auto",height:"100vh",backgroundColor:"#ffffff",position:"relative",display:"flex",flexDirection:"column"},children:[n&&e.jsx(Nl,{}),e.jsx("div",{style:{flex:1,overflow:"auto",backgroundColor:"#ffffff"},children:e.jsxs(j0,{children:[e.jsx(Fe,{path:"/login",element:e.jsx(uc,{})}),e.jsx(Fe,{path:"/register",element:e.jsx(vc,{})}),e.jsx(Fe,{path:"/kyc",element:e.jsx(Pe,{children:e.jsx(Ha,{})})}),e.jsx(Fe,{path:"/kyc/documents",element:e.jsx(Pe,{children:e.jsx(Ha,{})})}),e.jsx(Fe,{path:"/kyc/status",element:e.jsx(Pe,{children:e.jsx(Uu,{})})}),e.jsx(Fe,{path:"/",element:e.jsx(qr,{to:"/dashboard",replace:!0})}),e.jsx(Fe,{path:"/dashboard",element:e.jsx(Pe,{children:e.jsx(jc,{})})}),e.jsx(Fe,{path:"/send-money",element:e.jsx(Pe,{children:e.jsx(Hc,{})})}),e.jsx(Fe,{path:"/transact",element:e.jsx(Pe,{children:e.jsx(qc,{})})}),e.jsx(Fe,{path:"/qr-payment",element:e.jsx(Pe,{children:e.jsx(ad,{})})}),e.jsx(Fe,{path:"/vouchers",element:e.jsx(Pe,{children:e.jsx(td,{})})}),e.jsx(Fe,{path:"/profile",element:e.jsx(Pe,{children:e.jsx(cd,{})})}),e.jsx(Fe,{path:"/wallet-settings",element:e.jsx(Pe,{children:e.jsx(lu,{})})}),e.jsx(Fe,{path:"/transactions",element:e.jsx(Pe,{children:e.jsx(xu,{})})}),e.jsx(Fe,{path:"/request-money",element:e.jsx(Pe,{children:e.jsx(uu,{})})}),e.jsx(Fe,{path:"/services",element:e.jsx(Pe,{children:e.jsx(hu,{})})}),e.jsx(Fe,{path:"/support",element:e.jsx(Pe,{children:e.jsx(yu,{})})}),e.jsx(Fe,{path:"/feedback",element:e.jsx(Pe,{children:e.jsx(bu,{})})}),e.jsx(Fe,{path:"/electricity",element:e.jsx(Pe,{children:e.jsx("div",{children:"Electricity Page - Coming Soon"})})}),e.jsx(Fe,{path:"/bill-payments",element:e.jsx(Pe,{children:e.jsx("div",{children:"Bill Payments Page - Coming Soon"})})}),e.jsx(Fe,{path:"/airtime-data-overlay",element:e.jsx(Pe,{children:e.jsx(Eu,{})})}),e.jsx(Fe,{path:"/electricity-overlay",element:e.jsx(Pe,{children:e.jsx(vu,{})})}),e.jsx(Fe,{path:"/bill-payment-overlay",element:e.jsx(Pe,{children:e.jsx(Fu,{})})}),e.jsx(Fe,{path:"/flash-eezicash-overlay",element:e.jsx(Pe,{children:e.jsx(Au,{})})}),e.jsx(Fe,{path:"/mmcash-retail-overlay",element:e.jsx(Pe,{children:e.jsx(wu,{})})}),e.jsx(Fe,{path:"/atm-cashsend-overlay",element:e.jsx(Pe,{children:e.jsx(ju,{})})}),e.jsx(Fe,{path:"/vouchers-overlay",element:e.jsx(Pe,{children:e.jsx(zu,{})})}),e.jsx(Fe,{path:"*",element:e.jsx(qr,{to:"/dashboard",replace:!0})})]})}),s&&e.jsx("div",{style:{height:"80px",backgroundColor:"#ffffff",borderTop:"1px solid #e5e7eb",boxShadow:"0 -2px 10px rgba(0, 0, 0, 0.1)",flexShrink:0,position:"relative",zIndex:50},children:e.jsx(Sl,{})})]})})}function qu(){return e.jsx(I0,{children:e.jsx(R0,{children:e.jsx(z0,{children:e.jsx(S0,{future:{v7_startTransition:!0,v7_relativeSplatPath:!0},children:e.jsx(Hu,{})})})})})}ln(document.getElementById("root")).render(e.jsx(d.StrictMode,{children:e.jsx(qu,{})}));
//# sourceMappingURL=index-a3845d19.js.map
